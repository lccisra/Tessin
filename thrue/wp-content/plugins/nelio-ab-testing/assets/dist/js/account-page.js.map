{"version":3,"file":"js/account-page.js","mappings":"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","sources":["webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/index.js","webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/tokenize.js","webpack://nab/./assets/src/admin/pages/account/components/account-info/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/actions/index.ts","webpack://nab/./assets/src/admin/pages/account/components/actions/remove-license.tsx","webpack://nab/./assets/src/admin/pages/account/components/billing/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/invoice/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/layout/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/license-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/page-title/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/agency-plan.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/provider/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/site/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/sites/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/help.ts","webpack://nab/./assets/src/admin/pages/account/store/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/config.ts","webpack://nab/./assets/src/admin/pages/account/store/index.ts","webpack://nab/./assets/src/admin/pages/account/store/reducer.ts","webpack://nab/./assets/src/admin/pages/account/store/selectors.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/resolvers.ts","webpack://nab/./assets/src/admin/pages/account/store/types.ts","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/notices.ts","webpack://nab/./node_modules/classnames/index.js","webpack://nab/./assets/src/admin/pages/account/components/account-info/style.scss?c51f","webpack://nab/./assets/src/admin/pages/account/components/billing/style.scss?0899","webpack://nab/./assets/src/admin/pages/account/components/invoice/style.scss?553f","webpack://nab/./assets/src/admin/pages/account/components/layout/style.scss?a08e","webpack://nab/./assets/src/admin/pages/account/components/license-popover/style.scss?1b95","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/style.scss?9733","webpack://nab/./assets/src/admin/pages/account/components/page-title/style.scss?e631","webpack://nab/./assets/src/admin/pages/account/components/plan/style.scss?2180","webpack://nab/./assets/src/admin/pages/account/components/site/style.scss?ea85","webpack://nab/./assets/src/admin/pages/account/components/sites/style.scss?efbe","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/style.scss?d819","webpack://nab/external window \"React\"","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"i18n\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"notices\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/pages/account/index.tsx"],"sourcesContent":["import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex(openIndex, tokens) {\n  const openToken = tokens[openIndex];\n  let nestLevel = 0;\n\n  for (let i = openIndex + 1; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.value === openToken.value) {\n      if (token.type === 'componentOpen') {\n        nestLevel++;\n        continue;\n      }\n\n      if (token.type === 'componentClose') {\n        if (nestLevel === 0) {\n          return i;\n        }\n\n        nestLevel--;\n      }\n    }\n  } // if we get this far, there was no matching close token\n\n\n  throw new Error('Missing closing component token `' + openToken.value + '`');\n}\n\nfunction buildChildren(tokens, components) {\n  let children = [];\n  let openComponent;\n  let openIndex;\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.type === 'string') {\n      children.push(token.value);\n      continue;\n    } // component node should at least be set\n\n\n    if (components[token.value] === undefined) {\n      throw new Error(`Invalid interpolation, missing component node: \\`${token.value}\\``);\n    } // should be either ReactElement or null (both type \"object\"), all other types deprecated\n\n\n    if (typeof components[token.value] !== 'object') {\n      throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \\`${token.value}\\``);\n    } // we should never see a componentClose token in this loop\n\n\n    if (token.type === 'componentClose') {\n      throw new Error(`Missing opening component token: \\`${token.value}\\``);\n    }\n\n    if (token.type === 'componentOpen') {\n      openComponent = components[token.value];\n      openIndex = i;\n      break;\n    } // componentSelfClosing token\n\n\n    children.push(components[token.value]);\n    continue;\n  }\n\n  if (openComponent) {\n    const closeIndex = getCloseIndex(openIndex, tokens);\n    const grandChildTokens = tokens.slice(openIndex + 1, closeIndex);\n    const grandChildren = buildChildren(grandChildTokens, components);\n    const clonedOpenComponent = /*#__PURE__*/cloneElement(openComponent, {}, grandChildren);\n    children.push(clonedOpenComponent);\n\n    if (closeIndex < tokens.length - 1) {\n      const siblingTokens = tokens.slice(closeIndex + 1);\n      const siblings = buildChildren(siblingTokens, components);\n      children = children.concat(siblings);\n    }\n  }\n\n  children = children.filter(Boolean);\n\n  if (children.length === 0) {\n    return null;\n  }\n\n  if (children.length === 1) {\n    return children[0];\n  }\n\n  return /*#__PURE__*/createElement(Fragment, null, ...children);\n}\n\nexport default function interpolate(options) {\n  const {\n    mixedString,\n    components,\n    throwErrors\n  } = options;\n\n  if (!components) {\n    return mixedString;\n  }\n\n  if (typeof components !== 'object') {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because components is not an object`);\n    }\n\n    return mixedString;\n  }\n\n  const tokens = tokenize(mixedString);\n\n  try {\n    return buildChildren(tokens, components);\n  } catch (error) {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because of error \\`${error.message}\\``);\n    }\n\n    return mixedString;\n  }\n}","function identifyToken(item) {\n  // {{/example}}\n  if (item.startsWith('{{/')) {\n    return {\n      type: 'componentClose',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example /}}\n\n\n  if (item.endsWith('/}}')) {\n    return {\n      type: 'componentSelfClosing',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example}}\n\n\n  if (item.startsWith('{{')) {\n    return {\n      type: 'componentOpen',\n      value: item.replace(/\\W/g, '')\n    };\n  }\n\n  return {\n    type: 'string',\n    value: item\n  };\n}\n\nexport default function tokenize(mixedString) {\n  const tokenStrings = mixedString.split(/(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g); // split to components and strings\n\n  return tokenStrings.map(identifyToken);\n}","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button, Dashicon } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { LicensePopover } from '../license-popover';\nimport { RemoveLicenseAction } from '../actions';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const AccountInfo = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst fullname = useFullName();\n\tconst email = useEmail();\n\tconst startDate = useStartDate();\n\tconst license = useLicense();\n\tconst photo = usePhoto();\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-info\">\n\t\t\t<h3 className=\"nab-info__title\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'Account Information',\n\t\t\t\t\t'title (account)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</h3>\n\n\t\t\t<div className=\"nab-info__container\">\n\t\t\t\t<div className=\"nab-info__profile\">\n\t\t\t\t\t<div className=\"nab-info__picture nab-first-letter-a\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"nab-info__actual-picture\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${ photo })`,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"nab-info__details\">\n\t\t\t\t\t<p className=\"nab-info__name\">{ fullname }</p>\n\t\t\t\t\t<p className=\"nab-info__email\">\n\t\t\t\t\t\t<Dashicon icon=\"email\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ email }\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"nab-info__creation-date\">\n\t\t\t\t\t\t<Dashicon icon=\"calendar\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t\t\t/* translators: date */\n\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t'Member since %s.',\n\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t`{{date}}${ formatI18nDate(\n\t\t\t\t\t\t\t\t\tstartDate\n\t\t\t\t\t\t\t\t) }{{/date}}`\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcomponents: {\n\t\t\t\t\t\t\t\tdate: <strong />,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"nab-info__license\">\n\t\t\t\t\t\t<Dashicon\n\t\t\t\t\t\t\ticon=\"admin-network\"\n\t\t\t\t\t\t\tclassName=\"nab-info__icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<code\n\t\t\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t\t\t'License Key',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ license }\n\t\t\t\t\t\t</code>\n\t\t\t\t\t\t<div className=\"nab-info__change-license\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Change',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<LicensePopover\n\t\t\t\t\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\t\t\t\t\tonFocusOutside={ () =>\n\t\t\t\t\t\t\t\t\tsetPopoverVisible( false )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"nab-info__remove-license\">\n\t\t\t\t\t\t\t<RemoveLicenseAction\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t'Remove',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t} );\n\nconst useFullName = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getFullname() );\n\nconst useEmail = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getEmail() );\n\nconst useStartDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getStartDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useLicense = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getLicense() );\n\nconst usePhoto = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getPhoto() );\n","export * from './remove-license';\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ConfirmationDialog } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const RemoveLicenseAction = ( {\n\tlabel,\n\t...buttonProps\n}: Button.Props ): JSX.Element => {\n\tconst [ isVisible, setVisible ] = useState( false );\n\n\tconst siteId = useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).getPluginSetting( 'siteId' )\n\t);\n\tconst isLocked = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).isLocked()\n\t);\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tonClick={ () => setVisible( true ) }\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\t{ ...buttonProps }\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free Version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This action will remove the license from this site so that you can use it somewhere else. Nelio A/B Testing will remain active on this site, but you will be using the free version instead. Do you want to continue?',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command (remove license)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisDestructive\n\t\t\t\tonCancel={ () => setVisible( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t\tsetVisible( false );\n\t\t\t\t} }\n\t\t\t\tisOpen={ isVisible }\n\t\t\t/>\n\t\t</>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { ExternalLink, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Invoice } from '../invoice';\nimport './style.scss';\n\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const Billing = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst invoices = useInvoices();\n\tconst urlToManagePayments = usePaymentsUrl();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-billing\">\n\t\t\t<h3 className=\"nab-billing__title\">\n\t\t\t\t{ _x( 'Billing History', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t</h3>\n\n\t\t\t{ ! isLoading && (\n\t\t\t\t<>\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\tclassName=\"nab-billing__action\"\n\t\t\t\t\t\thref={ urlToManagePayments }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Manage Payments', 'user', 'nelio-ab-testing' ) }\n\t\t\t\t\t</ExternalLink>\n\n\t\t\t\t\t<table className=\"nab-billing__container\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__reference\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Invoice Reference',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__date\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Date',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__total\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Total',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody className=\"invoice-list\">\n\t\t\t\t\t\t\t{ invoices.map( ( invoice ) => (\n\t\t\t\t\t\t\t\t<Invoice\n\t\t\t\t\t\t\t\t\tkey={ invoice.reference }\n\t\t\t\t\t\t\t\t\t{ ...invoice }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetMode,\n\t\t\tisAgency,\n\t\t\tisAgencyFullViewEnabled,\n\t\t\tisSubscriptionDeprecated,\n\t\t} = select( NAB_ACCOUNT );\n\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isDeprecated = isSubscriptionDeprecated();\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isDeprecated && ! isAgencySummary;\n\t} );\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getInvoices', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] )\n\t);\n\nconst useInvoices = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).getInvoices(\n\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t)\n\t);\n\nconst usePaymentsUrl = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getUrlToManagePayments() );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport type { Invoice as InvoiceProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Invoice = ( {\n\tinvoiceUrl,\n\treference,\n\tchargeDate,\n\tisRefunded,\n\tsubtotalDisplay,\n}: InvoiceProps ): JSX.Element => (\n\t<tr className=\"nab-invoice\">\n\t\t<td className=\"nab-invoice__reference\">\n\t\t\t<a\n\t\t\t\thref={ invoiceUrl }\n\t\t\t\tclassName=\"nab-invoice__link\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t>\n\t\t\t\t{ reference }\n\t\t\t</a>\n\t\t</td>\n\n\t\t<td className=\"nab-invoice__date\">{ chargeDate }</td>\n\n\t\t<td className=\"nab-invoice__total\">\n\t\t\t{ isRefunded && (\n\t\t\t\t<span className=\"nab-invoice__label\">\n\t\t\t\t\t{ _x( '(Refunded)', 'text (invoice)', 'nelio-ab-testing' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t<span\n\t\t\t\tclassName={ classnames( 'nab-invoice__total-value', {\n\t\t\t\t\t'nab-invoice__total-value--refunded': isRefunded,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ subtotalDisplay }\n\t\t\t</span>\n\t\t</td>\n\t</tr>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport { Plan } from '../plan';\nimport { AccountInfo } from '../account-info';\nimport { Sites } from '../sites';\nimport { Billing } from '../billing';\nimport { LoadingModal } from '../loading-modal';\n\nexport type LayoutProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Layout = ( { siteId }: LayoutProps ): JSX.Element => (\n\t<div className=\"nab-account-container\">\n\t\t<Plan siteId={ siteId } />\n\t\t<AccountInfo />\n\t\t<Sites />\n\t\t<Billing />\n\t\t<LoadingModal />\n\t</div>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { Popover, TextControl, Button } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\nimport type { Popover as PopoverProps } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nconst LICENSE_LENGTH = 21;\nconst OLD_LICENSE_LENGTH = 26;\n\nexport type LicensePopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly position: PopoverProps.Position;\n\treadonly onClick: () => void;\n\treadonly onFocusOutside: () => void;\n};\n\nexport const LicensePopover = ( {\n\tisOpen,\n\tposition,\n\tonClick,\n\tonFocusOutside,\n}: LicensePopoverProps ): JSX.Element | null => {\n\tconst [ license, setLicense ] = useState( '' );\n\tconst { linkSite } = useDispatch( NAB_ACCOUNT );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-license-form\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<TextControl\n\t\t\t\tvalue={ license }\n\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t'Type your license here',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tmaxLength={ Math.max( LICENSE_LENGTH, OLD_LICENSE_LENGTH ) }\n\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\tdisabled={\n\t\t\t\t\tlicense.length !== LICENSE_LENGTH &&\n\t\t\t\t\tlicense.length !== OLD_LICENSE_LENGTH\n\t\t\t\t}\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tonClick();\n\t\t\t\t\tvoid linkSite( license );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ _x( 'Apply', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Modal, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const LoadingModal = (): JSX.Element | null => {\n\tconst isLocked = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).isLocked()\n\t);\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"nab-locked\"\n\t\t\ttitle={ _x( 'Loading…', 'text', 'nelio-ab-testing' ) }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tisDismissible={ false }\n\t\t\tonRequestClose={ noop }\n\t\t>\n\t\t\t<Spinner />\n\t\t</Modal>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { IconButton, Snackbar } from '@safe-wordpress/components';\nimport { useEffect, useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type PageTitleProps = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport const PageTitle = ( {\n\tisSubscribed,\n\tsiteId,\n}: PageTitleProps ): JSX.Element => {\n\tconst [ copied, setCopied ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst timeout = setTimeout( () => setCopied( false ), 1500 );\n\t\treturn () => clearTimeout( timeout );\n\t}, [ copied ] );\n\n\treturn (\n\t\t<h1 className=\"wp-heading-inline nelio-ab-testing-page-title\">\n\t\t\t<span>\n\t\t\t\t{ isSubscribed\n\t\t\t\t\t? _x( 'Account Details', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t'Upgrade to Nelio A/B Testing Premium',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t  ) }\n\t\t\t</span>\n\t\t\t<span className=\"nelio-ab-testing-page-title__support-key\">\n\t\t\t\t<strong>\n\t\t\t\t\t{ _x( 'Support Key:', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</strong>\n\t\t\t\t<code>{ siteId }</code>\n\t\t\t\t{ !! navigator.clipboard?.writeText && (\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon=\"admin-page\"\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t! copied &&\n\t\t\t\t\t\t\tvoid navigator.clipboard\n\t\t\t\t\t\t\t\t.writeText( siteId )\n\t\t\t\t\t\t\t\t.then( () => setCopied( true ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</span>\n\n\t\t\t{ copied && (\n\t\t\t\t<Snackbar className=\"nelio-ab-testing-page-title__support-key-copied\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Copied!',\n\t\t\t\t\t\t'text (support key)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Snackbar>\n\t\t\t) }\n\t\t</h1>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button, Popover, TextControl } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\nimport { QuotaMeter, ConfirmationDialog } from '@nab/components';\nimport type { Account, SiteId } from '@nab/types';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type AgencyPlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const AgencyPlan = ( { siteId }: AgencyPlanProps ): JSX.Element => {\n\tconst productDisplay = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).getProductDisplay()\n\t);\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<h3 className=\"nab-plan__title\">\n\t\t\t\t\t{ productDisplay }\n\t\t\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t\t\t{ _x( 'Agency Plan', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'You’re currently using an agency subscription plan.',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<QuotaMeter />\n\t\t\t</div>\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<DowngradeButton siteId={ siteId } />\n\t\t\t\t<ViewDetailsButton />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst DowngradeButton = ( { siteId }: { siteId: SiteId } ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst confirm = () => {\n\t\tclose();\n\t\tvoid unlinkSite( siteId );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button isDestructive className=\"nab-plan__action\" onClick={ open }>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Downgrade to Free Version',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site and you’ll be using Nelio A/B Testing’s free version.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tisOpen={ isOpen }\n\t\t\t\tonCancel={ close }\n\t\t\t\tonConfirm={ confirm }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst ViewDetailsButton = () => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst [ license, setLicense ] = useState( '' );\n\tconst [ validating, setValidating ] = useState( false );\n\tconst { enableAgencyFullView, receiveAccount } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst validate = () => {\n\t\tsetValidating( true );\n\t\tvoid apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account/agency',\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} )\n\t\t\t.then( ( account ) => {\n\t\t\t\treceiveAccount( account );\n\t\t\t\tenableAgencyFullView();\n\t\t\t\tsetValidating( false );\n\t\t\t\tclose();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tsetValidating( false );\n\t\t\t} );\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ open }\n\t\t\t>\n\t\t\t\t{ _x( 'View Details', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isOpen && (\n\t\t\t\t<Popover\n\t\t\t\t\tclassName=\"nab-license-form\"\n\t\t\t\t\tnoArrow={ false }\n\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tvalue={ license }\n\t\t\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t\t\t'Type your license here',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisBusy={ validating }\n\t\t\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\t\t\tonClick={ validate }\n\t\t\t\t\t\tdisabled={ ! license.length || validating }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ validating\n\t\t\t\t\t\t\t? _x( 'Validating…', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t\t: _x( 'Validate', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Popover>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button, ExternalLink } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { filter } from 'lodash';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport {\n\tQuotaMeter,\n\tQuotaPurchasePopover,\n\tConfirmationDialog,\n} from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\nimport { getSubscribeLabel, getSubscribeLink } from '@nab/utils';\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { AgencyPlan } from './agency-plan';\n\nimport { LicensePopover } from '../license-popover';\nimport { UpgradePopover } from '../upgrade-popover';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type PlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Plan = ( { siteId }: PlanProps ): JSX.Element => {\n\tconst quota = useSubscriptionQuota();\n\tconst isAgencySummary = useIsAgencySummary();\n\n\tif ( isAgencySummary ) {\n\t\treturn <AgencyPlan siteId={ siteId } />;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<Title />\n\t\t\t\t<Explanation />\n\t\t\t\t<QuotaMeter\n\t\t\t\t\tdisabled={ quota.isLoading }\n\t\t\t\t\tsubscriptionQuota={ quota.data }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Actions />\n\t\t</div>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst Title = () => {\n\tconst { period } = usePeriodAndPlan();\n\tconst productDisplay = useProductDisplay();\n\tconst state = useSubscriptionState();\n\tconst isFree = useIsFree();\n\n\tconst periodLabel =\n\t\t'month' === period\n\t\t\t? _x( 'Monthly', 'text', 'nelio-ab-testing' )\n\t\t\t: _x( 'Yearly', 'text', 'nelio-ab-testing' );\n\n\treturn (\n\t\t<h3 className=\"nab-plan__title\">\n\t\t\t{ productDisplay }\n\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t{ isFree\n\t\t\t\t\t? _x( 'Free', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: periodLabel }\n\t\t\t</span>\n\n\t\t\t{ 'canceled' === state && (\n\t\t\t\t<span className=\"nab-plan__state\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Canceled',\n\t\t\t\t\t\t'text (account state)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</h3>\n\t);\n};\n\nconst Explanation = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\tconst deactivationDate = useDeactivationDate();\n\tconst nextChargeDate = useNextChargeDate();\n\tconst nextChargeTotal = useNextChargeTotal();\n\n\tif ( isFree ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'You are using the free version of Nelio A/B Testing.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: 1 -> price and currency; 2 -> date */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'You’re currently using a premium version of Nelio A/B Testing for free. This invitation will end on %s and the plugin will be downgraded to a free plan. Please consider subscribing before that.',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`{{date}}${ formatI18nDate( nextChargeDate ) }{{/date}}`\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: date */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Your subscription will end on %s.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`{{date}}${ formatI18nDate(\n\t\t\t\t\t\t\tdeactivationDate\n\t\t\t\t\t\t) }{{/date}}`\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: _x(\n\t\t\t\t\t\t'{{link}}Contact us{{/link}} to get additional features to manage your account.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tlink: (\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t<a href=\"mailto:support@neliosoftware.com\" />\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-plan__renewal\">\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: 1 -> price and currency; 2 -> date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Next charge will be %1$s on %2$s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{money}}${ nextChargeTotal }{{/money}}`,\n\t\t\t\t\t`{{date}}${ formatI18nDate( nextChargeDate ) }{{/date}}`\n\t\t\t\t),\n\t\t\t\tcomponents: {\n\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\tmoney: <span className=\"nab-plan__renewal-amount\" />,\n\t\t\t\t},\n\t\t\t} ) }\n\t\t</div>\n\t);\n};\n\nconst Actions = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<BuyMoreQuotaLink />\n\t\t\t\t<UpgradeLink />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isFree || isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<AddLicenseAction />\n\t\t\t\t<SubscribeAction />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<ReactivateSubscriptionAction />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-plan__actions\">\n\t\t\t<CancelSubscriptionAction />\n\t\t\t<BuyMoreQuotaAction />\n\t\t\t<UpgradeAction />\n\t\t</div>\n\t);\n};\n\nconst AddLicenseAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<span className=\"nab-plan__action-container\">\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Use License', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<LicensePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</span>\n\t);\n};\n\nconst SubscribeAction = () => {\n\tconst today = useToday();\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref={ getSubscribeLink( today ) }\n\t\t>\n\t\t\t{ getSubscribeLabel( today ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst BuyMoreQuotaLink = () => {\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-secondary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Buy%20Quota\"\n\t\t>\n\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst UpgradeLink = () => {\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Upgrade%20Subscription\"\n\t\t>\n\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst CancelSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { cancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Cancel Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Cancel Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: a date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Canceling your subscription will cause it not to renew. If you cancel your subscrition, it will continue until %s. Then, the subscription will expire and will not be invoiced again. Do you want to cancel your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tisDestructive\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Cancel Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid cancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst BuyMoreQuotaAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<QuotaPurchasePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst UpgradeAction = () => {\n\tconst isUpgradable = useIsSubscriptionUpgradable();\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\tif ( ! isUpgradable ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<UpgradePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst ReactivateSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { uncancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Reactivate Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: a date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Reactivating your subscription will cause it to renew on %s. Do you want to reactivate your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid uncancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePeriodAndPlan = () =>\n\tuseSelect( ( select ) => ( {\n\t\tperiod: select( NAB_ACCOUNT ).getPeriod(),\n\t\tplan: select( NAB_ACCOUNT ).getPlan(),\n\t} ) );\n\nconst useSubscriptionState = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getState() );\n\nconst useIsSubscriptionDeprecated = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).isSubscriptionDeprecated() );\n\nconst useIsFree = () =>\n\tuseSelect( ( select ) => 'free' === select( NAB_ACCOUNT ).getMode() );\n\nconst useIsInvitation = () =>\n\tuseSelect( ( select ) => 'invitation' === select( NAB_ACCOUNT ).getMode() );\n\nconst useIsAgencySummary = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).isAgency() &&\n\t\t\t! select( NAB_ACCOUNT ).isAgencyFullViewEnabled()\n\t);\n\nconst useProductDisplay = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getProductDisplay() );\n\nconst useDeactivationDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getDeactivationDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useNextChargeDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getNextChargeDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useNextChargeTotal = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getNextChargeTotal() );\n\nconst useIsSubscriptionUpgradable = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getProducts } = select( NAB_DATA );\n\t\tconst { getSubscriptionProduct } = select( NAB_ACCOUNT );\n\t\tconst currentProduct = getSubscriptionProduct();\n\t\tconst products = getProducts();\n\t\tconst upgradeableProducts = filter( products, ( { upgradeableFrom } ) =>\n\t\t\tupgradeableFrom.includes( currentProduct )\n\t\t);\n\t\treturn !! upgradeableProducts.length;\n\t} );\n\nconst useToday = () => useSelect( ( select ) => select( NAB_DATA ).getToday() );\n\nconst useSubscriptionQuota = () =>\n\tuseSelect( ( select ) => ( {\n\t\tdata: select( NAB_ACCOUNT ).getSubscriptionQuota(),\n\t\tisLoading: ! select( NAB_ACCOUNT ).hasFinishedResolution(\n\t\t\t'getSubscriptionQuota'\n\t\t),\n\t} ) );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { NoticeList } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\nimport { store as noticesStore } from '@safe-wordpress/notices';\n\nconst NOTICES = noticesStore?.name ?? 'core/notices';\n\n/**\n * External dependencies\n */\nimport { LoadingAnimation } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type AccountProviderProps = {\n\treadonly children: JSX.Element | JSX.Element[];\n};\n\nexport const AccountProvider = ( {\n\tchildren,\n}: AccountProviderProps ): JSX.Element => {\n\tconst isLoading = useIsLoading();\n\tconst hasError = useHasError();\n\tconst notices = useNotices();\n\tconst { removeNotice } = useDispatch( NOTICES );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<LoadingAnimation\n\t\t\t\ttext={ _x( 'Loading…', 'text', 'nelio-ab-testing' ) }\n\t\t\t/>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ notices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t/>\n\t\t\t{ ! hasError && children }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect( ( select ) => {\n\t\tselect( NAB_ACCOUNT ).getAccount();\n\t\treturn ! select( NAB_ACCOUNT ).hasFinishedResolution( 'getAccount' );\n\t} );\n\nconst useHasError = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).hasResolutionFailed( 'getAccount' )\n\t);\n\nimport type { Notice } from 'wordpress__notices';\nconst useNotices = (): ReadonlyArray< Notice > =>\n\tuseSelect( ( select ) => select( NOTICES ).getNotices() );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tButton,\n\tCheckboxControl,\n\tModal,\n\tTextControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\nimport { HelpIcon, ConfirmationDialog } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { numberFormat } from '@nab/i18n';\nimport type { Site as SiteType, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type SiteProps = SiteType & {\n\treadonly displayQuotaLimit?: boolean;\n};\n\nexport const Site = ( {\n\tdisplayQuotaLimit,\n\tactualUrl,\n\tid,\n\tisCurrentSite,\n\tusedMonthlyQuota,\n\tmaxMonthlyQuota,\n\turl,\n}: SiteProps ): JSX.Element => (\n\t<li className=\"nab-site\">\n\t\t<span className=\"nab-site__details\">\n\t\t\t{ isCurrentSite ? (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<span className=\"nab-site__current-site\">\n\t\t\t\t\t\t{ actualUrl }\n\t\t\t\t\t\t{ !! actualUrl && url !== actualUrl && (\n\t\t\t\t\t\t\t<HelpIcon\n\t\t\t\t\t\t\t\tclassName=\"nab-site__current-site-help\"\n\t\t\t\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t\t\t\ttext={ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: site URL */\n\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t'Activation URL is “%s”',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"nab-site__label\">\n\t\t\t\t\t\t{ _x( 'This site', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\tclassName={ classnames( 'nab-site__link', {\n\t\t\t\t\t\t\t'nab-site__link--current': isCurrentSite,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ url }\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ !! displayQuotaLimit && (\n\t\t\t\t<small>\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{ _x( 'Quota Usage', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t{ ': ' }\n\t\t\t\t\t</strong>\n\t\t\t\t\t{ numberFormat( usedMonthlyQuota ) }\n\t\t\t\t\t{ ' / ' }\n\t\t\t\t\t{ stringifyMaxQuota( maxMonthlyQuota ) }\n\t\t\t\t</small>\n\t\t\t) }\n\t\t</span>\n\n\t\t<LimitQuotaAction siteId={ id } />\n\t\t<DeleteAction siteId={ id } />\n\t</li>\n);\n\n// ==============\n// INTERNAL VIEWS\n// ==============\n\ntype ActionProps = {\n\treadonly siteId: SiteId;\n};\n\nconst LimitQuotaAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst canLimitQuota = useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).canLimitSiteQuota()\n\t);\n\tconst { limitSiteQuota } = useDispatch( NAB_ACCOUNT );\n\tconst currentSiteLimit = useSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSite( siteId )?.maxMonthlyQuota ?? -1\n\t);\n\n\tif ( ! canLimitQuota ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__limit-quota-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Limit Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isDialogOpen && (\n\t\t\t\t<SiteQuotaDialog\n\t\t\t\t\tinitialValue={ `${ currentSiteLimit }` }\n\t\t\t\t\tonClose={ () => setDialogOpen( false ) }\n\t\t\t\t\tonSave={ ( value ) => limitSiteQuota( siteId, value ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst DeleteAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__unlink-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Unlink Site', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x( 'Unlink Site?', 'text', 'nelio-ab-testing' ) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x( 'Unlink', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst SiteQuotaDialog = ( {\n\tinitialValue,\n\tonClose,\n\tonSave: save,\n}: {\n\treadonly initialValue: string;\n\treadonly onClose: () => void;\n\treadonly onSave: ( value: number ) => Promise< void >;\n} ) => {\n\tconst [ isSaving, setSaving ] = useState( false );\n\tconst [ value, setValue ] = useState( initialValue );\n\n\tconst isDirty = value !== initialValue;\n\n\tconst isUnlimited = ( n: number ) => n === -1;\n\tconst onSave = () => {\n\t\tconst intValue = Number.parseInt( value );\n\t\tconst limit = isUnlimited( intValue ) ? -1 : Math.abs( intValue );\n\t\tsetSaving( true );\n\t\tsave( limit )\n\t\t\t.then( onClose )\n\t\t\t.catch( () => setSaving( false ) );\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"site-quota-dialog\"\n\t\t\ttitle={ _x( 'Site Quota', 'text', 'nelio-ab-testing' ) }\n\t\t\tonRequestClose={ noop }\n\t\t\tisDismissible={ false }\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\tchecked={ '-1' !== value }\n\t\t\t\tonChange={ ( enabled ) => setValue( enabled ? '1000' : '-1' ) }\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Limit quota usage in this site',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ '-1' !== value && (\n\t\t\t\t<TextControl\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setValue }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"site-quota-dialog__actions\">\n\t\t\t\t<Button variant=\"secondary\" onClick={ onClose }>\n\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t? _x( 'Discard Changes', 'command', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Close', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ onSave }\n\t\t\t\t\tdisabled={ ! isDirty || isSaving }\n\t\t\t\t>\n\t\t\t\t\t{ isSaving\n\t\t\t\t\t\t? _x( 'Saving…', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Save', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst stringifyMaxQuota = ( n: number ) =>\n\t-1 === n ? '∞' : numberFormat( n );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { Site as SiteInstance } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { Site } from '../site';\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const Sites = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst sites = useSites();\n\tconst sitesAllowed = useSitesAllowed();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\tconst sitesConnected = sites.length;\n\tconst displayQuotaLimit =\n\t\tsites.length > 1 || sites.some( ( s ) => 0 <= s.maxMonthlyQuota );\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-sites\">\n\t\t\t<h3 className=\"nab-sites__title\">\n\t\t\t\t{ _x( 'Sites', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t\t<span className=\"nab-sites__availability\">\n\t\t\t\t\t{ `${ sitesConnected } / ${ sitesAllowed }` }\n\t\t\t\t</span>\n\t\t\t</h3>\n\n\t\t\t<ul className=\"nab-sites__list\">\n\t\t\t\t{ ! isLoading &&\n\t\t\t\t\tsites.map( ( site ) => (\n\t\t\t\t\t\t<Site\n\t\t\t\t\t\t\tkey={ site.id }\n\t\t\t\t\t\t\tdisplayQuotaLimit={ displayQuotaLimit }\n\t\t\t\t\t\t\t{ ...site }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getSites', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] )\n\t);\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t} );\n\nconst useSites = (): ReadonlyArray< SiteInstance > =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSites(\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t\t) || []\n\t);\n\nconst useSitesAllowed = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getSitesAllowed() );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tPopover,\n\tButton,\n\tSpinner,\n\tRadioControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport type { Popover as PopoverProps } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport { filter } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport type { Currency, FSLocalizedString, SubscriptionPlan } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type UpgradePopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly position: PopoverProps.Position;\n\treadonly onClick: () => void;\n\treadonly onFocusOutside: () => void;\n};\n\nexport const UpgradePopover = ( {\n\tisOpen,\n\tposition,\n\tonClick,\n\tonFocusOutside,\n}: UpgradePopoverProps ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst products = useProducts();\n\tconst currency = useCurrency();\n\tconst { upgradeSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst [ selectedOption, setSelectedOption ] = useState( '' );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-upgrade-form nab-upgrade-form--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tposition={ position }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-upgrade-form\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<RadioControl\n\t\t\t\tclassName=\"nab-upgrade-form__product-container\"\n\t\t\t\tlabel={ _x( 'Subscription Plans', 'text', 'nelio-ab-testing' ) }\n\t\t\t\tselected={ selectedOption }\n\t\t\t\toptions={ products.map(\n\t\t\t\t\t( { id, displayName, price, description } ) => ( {\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<div className=\"nab-upgrade-form__product\">\n\t\t\t\t\t\t\t\t<strong className=\"nab-upgrade-form__product-name\">\n\t\t\t\t\t\t\t\t\t{ localize( displayName ) }\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"nab-upgrade-form__product-price\"\n\t\t\t\t\t\t\t\t\ttitle={ currency }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ formatPrice(\n\t\t\t\t\t\t\t\t\t\tprice[ currency ] || 0,\n\t\t\t\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"nab-upgrade-form__product-description\">\n\t\t\t\t\t\t\t\t\t{ localize( description ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div> // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t\t\t ) as any as string,\n\t\t\t\t\t\tvalue: id,\n\t\t\t\t\t} )\n\t\t\t\t) }\n\t\t\t\tonChange={ setSelectedOption }\n\t\t\t/>\n\n\t\t\t<div className=\"nab-upgrade-form__button-container\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tclassName=\"nab-upgrade-form__button\"\n\t\t\t\t\tdisabled={ ! selectedOption }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tvoid upgradeSubscription(\n\t\t\t\t\t\t\tselectedOption as SubscriptionPlan\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Upgrade Subscription',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' )\n\t);\n\nconst useProducts = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getProducts } = select( NAB_DATA );\n\t\tconst { getSubscriptionProduct } = select( NAB_ACCOUNT );\n\n\t\tconst currentProduct = getSubscriptionProduct();\n\t\tconst products = getProducts();\n\t\treturn filter( products, ( { upgradeableFrom } ) =>\n\t\t\tupgradeableFrom.includes( currentProduct )\n\t\t);\n\t} );\n\nconst useCurrency = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getCurrency() || 'USD' );\n\n// =======\n// HELPERS\n// =======\n\nconst formatPrice = ( price: number, currency: Currency ) =>\n\t'EUR' === currency ? `${ price }€` : `$${ price }`;\n\nconst localize = ( str: FSLocalizedString ) => {\n\tconst locale = getLocale();\n\treturn locale.startsWith( 'es' ) ? str.es : str.en;\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { appendContextualHelp } from '@nab/components';\n\nexport function renderHelp(): void {\n\tappendContextualHelp( {\n\t\tscreen: 'account',\n\t\tquestions,\n\t} );\n} //end renderHelp()\n\nconst questions = [\n\t{\n\t\tlabel: _x(\n\t\t\t'How do I change my payment details?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: _x(\n\t\t\t'https://neliosoftware.com/testing/help/how-do-i-change-my-payment-details/',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\t{\n\t\tlabel: _x(\n\t\t\t'What if my monthly quota of page views gets exhausted?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: _x(\n\t\t\t'https://neliosoftware.com/testing/help/what-if-my-monthly-quota-gets-exhausted/',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n];\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type { Account, Site, Invoice, SiteId } from '@nab/types';\n\nexport type Action =\n\t| LockPage\n\t| UnlockPage\n\t| EnableAgencyFullView\n\t| ReceiveAccount\n\t| ReceiveInvoices\n\t| ReceiveSites\n\t| RemoveSiteAfterUnlink;\n\nexport function lock(): LockPage {\n\treturn {\n\t\ttype: 'LOCK_PAGE',\n\t};\n} //end lock()\n\nexport function unlock(): UnlockPage {\n\treturn {\n\t\ttype: 'UNLOCK_PAGE',\n\t};\n} //end unlock()\n\nexport function enableAgencyFullView(): EnableAgencyFullView {\n\treturn {\n\t\ttype: 'ENABLE_AGENCY_FULL_VIEW',\n\t};\n} //end enableAgencyFullView()\n\nexport function receiveAccount( account: Account ): ReceiveAccount {\n\treturn {\n\t\ttype: 'RECEIVE_ACCOUNT',\n\t\taccount,\n\t};\n} //end receiveAccount()\n\nexport function receiveSites(\n\tsites: Site | ReadonlyArray< Site >\n): ReceiveSites {\n\treturn {\n\t\ttype: 'RECEIVE_SITES',\n\t\tsites: castArray( sites ),\n\t};\n} //end receiveSites()\n\nexport function receiveInvoices(\n\tinvoices: Invoice | ReadonlyArray< Invoice >\n): ReceiveInvoices {\n\treturn {\n\t\ttype: 'RECEIVE_INVOICES',\n\t\tinvoices: castArray( invoices ),\n\t};\n} //end receiveInvoices()\n\nexport function removeSiteAfterUnlink( id: SiteId ): RemoveSiteAfterUnlink {\n\treturn {\n\t\ttype: 'UNLINK_SITE',\n\t\tid,\n\t};\n} //end removeSiteAfterUnlink()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveAccount = {\n\treadonly type: 'RECEIVE_ACCOUNT';\n\treadonly account: Account;\n};\n\ntype ReceiveSites = {\n\treadonly type: 'RECEIVE_SITES';\n\treadonly sites: ReadonlyArray< Site >;\n};\n\ntype ReceiveInvoices = {\n\treadonly type: 'RECEIVE_INVOICES';\n\treadonly invoices: ReadonlyArray< Invoice >;\n};\n\ntype RemoveSiteAfterUnlink = {\n\treadonly type: 'UNLINK_SITE';\n\treadonly id: SiteId;\n};\n\ntype LockPage = {\n\treadonly type: 'LOCK_PAGE';\n};\n\ntype UnlockPage = {\n\treadonly type: 'UNLOCK_PAGE';\n};\n\ntype EnableAgencyFullView = {\n\treadonly type: 'ENABLE_AGENCY_FULL_VIEW';\n};\n","import type { State } from './types';\n\nexport const STORE_NAME = 'nab/account';\n\nexport const INIT_STATE: State = {\n\taccount: {\n\t\tcurrency: 'USD',\n\t\tdeactivationDate: '',\n\t\temail: '',\n\t\tfirstname: '',\n\t\tfullname: '',\n\t\tisAgency: false,\n\t\tlastname: '',\n\t\tlicense: '',\n\t\tmode: 'free',\n\t\tnextChargeDate: '',\n\t\tnextChargeTotal: '',\n\t\tperiod: 'month',\n\t\tphoto: '',\n\t\tplan: 'free',\n\t\tproductDisplay: '',\n\t\tproductId: '',\n\t\tquota: 500,\n\t\tquotaExtra: 0,\n\t\tquotaPerMonth: 0,\n\t\tsitesAllowed: 1,\n\t\tstartDate: '',\n\t\tstate: 'active',\n\t\tsubscription: '',\n\t\turlToManagePayments: '',\n\t},\n\n\tinvoices: [],\n\tsites: [],\n\n\tisPageLocked: false,\n\tisAgencyFullViewEnabled: false,\n};\n","/**\n * WordPress dependencies\n */\nimport { registerStore, controls } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type {\n\tDataControls,\n\tOmitFirstArgs,\n\tPromisifyReturnTypes,\n\tRemoveReturnTypes,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as realActions from './actions';\nimport * as sideEffects from './side-effects/actions';\nimport * as resolvers from './side-effects/resolvers';\nimport { STORE_NAME } from './config';\n\nexport { STORE_NAME } from './config';\nexport * from './types';\n\nconst actions = { ...realActions, ...sideEffects };\n\nregisterStore( STORE_NAME, {\n\treducer,\n\tcontrols,\n\t// eslint-disable-next-line\n\tactions: actions as any,\n\tselectors,\n\tresolvers,\n} );\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ntype Actions = RealActions & SideEffectActions;\n\ntype RealActions = RemoveReturnTypes< typeof realActions >;\ntype SideEffectActions = PromisifyReturnTypes<\n\tRemoveReturnTypes< typeof sideEffects >\n>;\n\ntype TypedSelectors = OmitFirstArgs< typeof selectors >;\ntype ResolvableSelectors = PromisifyReturnTypes<\n\tPick< TypedSelectors, keyof typeof resolvers >\n>;\n\ntype Selectors = TypedSelectors & DataControls< ResolvableSelectors >;\n\ndeclare module '@wordpress/data' {\n\tfunction dispatch( key: typeof STORE_NAME ): Actions;\n\tfunction select( key: typeof STORE_NAME ): Selectors;\n\tfunction resolveSelect( key: typeof STORE_NAME ): ResolvableSelectors;\n}\n","/**\n * External dependencies\n */\nimport { reject } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from './config';\nimport type { State } from './types';\nimport type { Action } from './actions';\n\nexport default function reducer(\n\tstate = INIT_STATE,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end reducer()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_ACCOUNT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccount: action.account,\n\t\t\t};\n\n\t\tcase 'RECEIVE_INVOICES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinvoices: action.invoices,\n\t\t\t};\n\n\t\tcase 'RECEIVE_SITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: action.sites,\n\t\t\t};\n\n\t\tcase 'UNLINK_SITE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: reject( state.sites, { id: action.id } ),\n\t\t\t};\n\n\t\tcase 'LOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: true,\n\t\t\t};\n\n\t\tcase 'UNLOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: false,\n\t\t\t};\n\n\t\tcase 'ENABLE_AGENCY_FULL_VIEW':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAgencyFullViewEnabled: true,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\nimport type {\n\tAccount,\n\tAccountMode,\n\tFastSpringProduct,\n\tInvoice,\n\tLicense,\n\tMaybe,\n\tQuota,\n\tSite,\n\tSiteId,\n\tSubscriptionId,\n\tSubscriptionPlan,\n\tSubscriptionPeriod,\n\tSubscriptionState,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from './types';\n\nexport function getAccount( state: State ): Account {\n\treturn state.account;\n} //end getAccount()\n\nexport function getSites(\n\tstate: State,\n\tid?: SubscriptionId\n): ReadonlyArray< Site > {\n\tif ( ! id ) {\n\t\treturn [];\n\t} //end if\n\treturn state.sites;\n} //end getSites()\n\nexport function getSite( state: State, id: SiteId ): Maybe< Site > {\n\treturn find( state.sites, { id } );\n} //end getSites()\n\nexport function getInvoices(\n\tstate: State,\n\tid: SubscriptionId\n): ReadonlyArray< Invoice > {\n\tif ( ! id ) {\n\t\treturn [];\n\t} //end if\n\treturn state.invoices;\n} //end getInvoices()\n\nexport function getSubscriptionQuota( state: State ): Quota {\n\tconst { quota, quotaExtra, quotaPerMonth } = state.account;\n\n\tconst availableQuota = quota + quotaExtra;\n\tconst percentage = Math.floor(\n\t\t( 100 * ( availableQuota + 0.1 ) ) / quotaPerMonth\n\t);\n\n\treturn {\n\t\tmode: 'subscription',\n\t\tavailableQuota,\n\t\tpercentage,\n\t};\n} //end getSubscriptionId()\n\nexport function getSubscriptionId( state: State ): SubscriptionId {\n\treturn state.account.subscription;\n} //end getSubscriptionId()\n\nexport function isSubscriptionDeprecated( state: State ): boolean {\n\treturn !! state.account.subscription.startsWith( 'OL' );\n} //end isSubscriptionDeprecated()\n\nexport function getFullname( state: State ): string {\n\treturn state.account.fullname;\n} //end getFullname()\n\nexport function getFirstname( state: State ): string {\n\treturn state.account.firstname;\n} //end getFirstname()\n\nexport function getLastname( state: State ): string {\n\treturn state.account.lastname;\n} //end getLastname()\n\nexport function getEmail( state: State ): string {\n\treturn state.account.email;\n} //end getEmail()\n\nexport function getStartDate( state: State ): string {\n\treturn state.account.startDate;\n} //end getStartDate()\n\nexport function getSubscriptionProduct(\n\tstate: State\n): FastSpringProduct[ 'id' ] {\n\treturn state.account.productId;\n} //end getSubscriptionProduct()\n\nexport function getPlan( state: State ): 'free' | SubscriptionPlan {\n\treturn state.account.plan;\n} //end getPlan()\n\nexport function getLicense( state: State ): License {\n\treturn state.account.license;\n} //end getLicense()\n\nexport function getPhoto( state: State ): string {\n\treturn state.account.photo;\n} //end getPhoto()\n\nexport function getProductDisplay( state: State ): string {\n\treturn state.account.productDisplay;\n} //end getProductDisplay()\n\nexport function getMode( state: State ): AccountMode {\n\treturn state.account.mode;\n} //end getMode()\n\nexport function getPeriod( state: State ): SubscriptionPeriod {\n\treturn state.account.period;\n} //end getPeriod()\n\nexport function getState( state: State ): SubscriptionState {\n\treturn state.account.state;\n} //end getState()\n\nexport function getDeactivationDate( state: State ): string {\n\treturn state.account.deactivationDate;\n} //end getDeactivationDate()\n\nexport function getNextChargeDate( state: State ): string {\n\treturn state.account.nextChargeDate;\n} //end getNextChargeDate()\n\nexport function getNextChargeTotal( state: State ): string {\n\treturn state.account.nextChargeTotal;\n} //end getNextChargeTotal()\n\nexport function getSitesAllowed( state: State ): number {\n\treturn state.account.sitesAllowed;\n} //end getSitesAllowed()\n\nexport function getCurrency( state: State ): string {\n\treturn state.account.currency;\n} //end getCurrency()\n\nexport function getUrlToManagePayments( state: State ): string {\n\treturn state.account.urlToManagePayments;\n} //end getUrlToManagePayments()\n\nexport function isAgency( state: State ): boolean {\n\treturn !! state.account.isAgency;\n} //end isAgency()\n\nexport function isLocked( state: State ): boolean {\n\treturn !! state.isPageLocked;\n} //end isLocked()\n\nexport function isAgencyFullViewEnabled( state: State ): boolean {\n\treturn isAgency( state ) && !! state.isAgencyFullViewEnabled;\n} //end isAgencyFullViewEnabled()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, select } from '@safe-wordpress/data';\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { Site, SiteId, SubscriptionPlan } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../config';\n\n/**\n * Connects the site with a subscription and reloads the page.\n *\n * @param {string} license Subscription license.\n */\nexport async function linkSite( license: string ): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/subscription`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t} //end try\n} //end linkSite()\n\n/**\n * Returns an action object used in signalling that a site is unlinked for the account.\n * If the site is the current one, reload the page instead of returning an action.\n *\n * @param {string} id Site id.\n */\nexport async function unlinkSite( id: SiteId ): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/${ id }/subscription`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\tconst site = select( NAB_ACCOUNT ).getSite( id );\n\n\t\tif ( site?.isCurrentSite ) {\n\t\t\twindow.location.reload();\n\t\t\treturn;\n\t\t} //end if\n\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tdispatch( NAB_ACCOUNT ).removeSiteAfterUnlink( id );\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end unlinkSite()\n\n/**\n * Cancels the subscription and reloads the page.\n */\nexport async function cancelSubscription(): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end cancelSubscription()\n\n/**\n * Uncancels the subscription and reloads the page.\n */\nexport async function uncancelSubscription(): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }/uncancel`,\n\t\t\tmethod: 'POST',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end uncancelSubscription()\n\nexport async function upgradeSubscription(\n\tplan: SubscriptionPlan\n): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { plan },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end upgradeSubscription()\n\nexport async function limitSiteQuota(\n\tsiteId: SiteId,\n\tmaxMonthlyQuota: number\n): Promise< void > {\n\ttry {\n\t\tconst subscription = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tconst sites = select( NAB_ACCOUNT ).getSites( subscription );\n\n\t\tconst site = await apiFetch< Partial< Site > >( {\n\t\t\tpath: `/nab/v1/site/${ siteId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { maxMonthlyQuota },\n\t\t} );\n\n\t\tdispatch( NAB_ACCOUNT ).receiveSites(\n\t\t\tsites.map( ( s ) =>\n\t\t\t\ts.id === site.id ? { ...s, ...site, maxMonthlyQuota } : s\n\t\t\t)\n\t\t);\n\t} catch ( error ) {\n\t\tcreateErrorNotice( error );\n\t}\n} //end limitSiteQuota()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { Account, Invoice, Site, SubscriptionId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../config';\n\nexport async function getAccount(): Promise< void > {\n\ttry {\n\t\tconst account = await apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account',\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveAccount( account );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\t_x( 'Error while accessing site info.', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getAccount()\n\nexport async function getSubscriptionQuota(): Promise< void > {\n\tawait resolveSelect( NAB_ACCOUNT ).getAccount();\n} //end getSubscriptionQuota()\n\nexport async function getSites( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst sites = await apiFetch< ReadonlyArray< Site > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/sites`,\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveSites( sites );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: subscription id */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing sites in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getSites()\n\nexport async function getInvoices( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst invoices = await apiFetch< ReadonlyArray< Invoice > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/invoices`,\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveInvoices( invoices );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: subscription id */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing invoices in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getInvoices()\n","/**\n * External dependencies\n */\nimport type { Account, Invoice, Site } from '@nab/types';\n\nexport type State = {\n\treadonly account: Account;\n\n\treadonly invoices: ReadonlyArray< Invoice >;\n\treadonly sites: ReadonlyArray< Site >;\n\n\treadonly isPageLocked: boolean;\n\treadonly isAgencyFullViewEnabled: boolean;\n};\n","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t} //end if\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t} //end if\n} //end render()\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/notices';\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"i18n\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport '@safe-wordpress/dom-ready';\nimport '@safe-wordpress/notices';\nimport { Popover, SlotFillProvider } from '@safe-wordpress/components';\nimport { render } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { renderHelp } from './help';\n\nimport { PageTitle } from './components/page-title';\nimport { AccountProvider } from './components/provider';\nimport { Layout } from './components/layout';\n\ntype Settings = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport function initPage( id: string, settings: Settings ): void {\n\tconst { siteId, isSubscribed } = settings;\n\n\tconst content = document.getElementById( id );\n\trender(\n\t\t<SlotFillProvider>\n\t\t\t<PageTitle isSubscribed={ isSubscribed } siteId={ siteId } />\n\t\t\t<AccountProvider>\n\t\t\t\t<Layout siteId={ siteId } />\n\t\t\t</AccountProvider>\n\t\t\t<Popover.Slot />\n\t\t</SlotFillProvider>,\n\t\tcontent\n\t);\n\n\trenderHelp();\n} //end initPage()\n"],"names":["React","Button","Dashicon","useSelect","useState","_x","sprintf","interpolateComponents","STORE_NAME","NAB_DATA","formatI18nDate","LicensePopover","RemoveLicenseAction","NAB_ACCOUNT","AccountInfo","isVisible","useIsVisible","fullname","useFullName","email","useEmail","startDate","useStartDate","license","useLicense","photo","usePhoto","_a","isPopoverVisible","setPopoverVisible","createElement","className","style","backgroundImage","concat","icon","mixedString","components","date","title","variant","onClick","isOpen","position","onFocusOutside","isDestructive","label","select","getMode","isAgency","isAgencyFullViewEnabled","isSubscribed","isAgencySummary","getFullname","getEmail","getStartDate","getToday","getLicense","getPhoto","useDispatch","ConfirmationDialog","buttonProps","__rest","_b","setVisible","siteId","getPluginSetting","isLocked","unlinkSite","Fragment","__assign","disabled","text","confirmLabel","cancelLabel","onCancel","onConfirm","ExternalLink","Spinner","Invoice","Billing","isLoading","useIsLoading","invoices","useInvoices","urlToManagePayments","usePaymentsUrl","href","map","invoice","key","reference","isSubscriptionDeprecated","isDeprecated","hasFinishedResolution","getSubscriptionId","getInvoices","getUrlToManagePayments","classnames","invoiceUrl","chargeDate","isRefunded","subtotalDisplay","target","rel","Plan","Sites","LoadingModal","Layout","Popover","TextControl","trim","LICENSE_LENGTH","OLD_LICENSE_LENGTH","setLicense","linkSite","noArrow","value","placeholder","maxLength","Math","max","onChange","v","length","Modal","noop","shouldCloseOnEsc","shouldCloseOnClickOutside","isDismissible","onRequestClose","IconButton","Snackbar","useEffect","PageTitle","_c","copied","setCopied","timeout","setTimeout","clearTimeout","navigator","clipboard","writeText","then","apiFetch","QuotaMeter","AgencyPlan","productDisplay","getProductDisplay","DowngradeButton","ViewDetailsButton","setIsOpen","open","close","confirm","validating","setValidating","_d","enableAgencyFullView","receiveAccount","validate","path","method","data","account","catch","isBusy","filter","QuotaPurchasePopover","getSubscribeLabel","getSubscribeLink","UpgradePopover","quota","useSubscriptionQuota","useIsAgencySummary","Title","Explanation","subscriptionQuota","Actions","period","usePeriodAndPlan","useProductDisplay","state","useSubscriptionState","isFree","useIsFree","periodLabel","isInvitation","useIsInvitation","useIsSubscriptionDeprecated","deactivationDate","useDeactivationDate","nextChargeDate","useNextChargeDate","nextChargeTotal","useNextChargeTotal","link","money","BuyMoreQuotaLink","UpgradeLink","AddLicenseAction","SubscribeAction","ReactivateSubscriptionAction","CancelSubscriptionAction","BuyMoreQuotaAction","UpgradeAction","today","useToday","isDialogOpen","setDialogOpen","cancelSubscription","isUpgradable","useIsSubscriptionUpgradable","uncancelSubscription","getPeriod","plan","getPlan","getState","getDeactivationDate","getNextChargeDate","getNextChargeTotal","getProducts","getSubscriptionProduct","currentProduct","products","upgradeableProducts","upgradeableFrom","includes","getSubscriptionQuota","NoticeList","store","noticesStore","NOTICES","name","LoadingAnimation","AccountProvider","children","hasError","useHasError","notices","useNotices","removeNotice","onRemove","getAccount","hasResolutionFailed","getNotices","CheckboxControl","HelpIcon","numberFormat","Site","displayQuotaLimit","actualUrl","id","isCurrentSite","usedMonthlyQuota","maxMonthlyQuota","url","type","stringifyMaxQuota","LimitQuotaAction","DeleteAction","canLimitQuota","canLimitSiteQuota","limitSiteQuota","currentSiteLimit","getSite","SiteQuotaDialog","initialValue","onClose","onSave","save","isSaving","setSaving","setValue","isDirty","isUnlimited","n","intValue","Number","parseInt","limit","abs","checked","enabled","min","sites","useSites","sitesAllowed","useSitesAllowed","sitesConnected","some","s","site","getSites","getSitesAllowed","RadioControl","getLocale","useProducts","currency","useCurrency","upgradeSubscription","selectedOption","setSelectedOption","selected","options","displayName","price","description","localize","formatPrice","getCurrency","str","locale","startsWith","es","en","appendContextualHelp","renderHelp","screen","questions","castArray","lock","unlock","receiveSites","receiveInvoices","removeSiteAfterUnlink","INIT_STATE","firstname","lastname","mode","productId","quotaExtra","quotaPerMonth","subscription","isPageLocked","registerStore","controls","reducer","selectors","realActions","sideEffects","resolvers","actions","reject","action","actualReducer","find","availableQuota","percentage","floor","getFirstname","getLastname","dispatch","createErrorNotice","sent","window","location","reload","error_1","error_2","subscriptionId","error_3","error_4","error_5","site_1","error_6","resolveSelect","baseApiFetch","format","addQueryArgs","nabts","substring","isRestApiRequest","Object","keys","domReady","createRoot","render","legacyRender","element","container","root","SlotFillProvider","initPage","settings","content","document","getElementById","Slot"],"sourceRoot":""}