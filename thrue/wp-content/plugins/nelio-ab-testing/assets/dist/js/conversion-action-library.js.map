{"version":3,"file":"js/conversion-action-library.js","mappings":"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","sources":["webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/index.js","webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/tokenize.js","webpack://nab/./packages/conversion-action-library/click-external-link/icon.svg","webpack://nab/./packages/conversion-action-library/click/icon.svg","webpack://nab/./packages/conversion-action-library/custom-event/icon.svg","webpack://nab/./packages/conversion-action-library/edd-order/icon.svg","webpack://nab/./packages/conversion-action-library/form-submission/icon.svg","webpack://nab/./packages/conversion-action-library/page-view/icon.svg","webpack://nab/./packages/conversion-action-library/video-playback/icon.svg","webpack://nab/./packages/conversion-action-library/wc-add-to-cart/icon.svg","webpack://nab/./packages/conversion-action-library/wc-order/icon.svg","webpack://nab/./packages/conversion-action-library/click-external-link/edit.tsx","webpack://nab/./packages/conversion-action-library/click-external-link/index.ts","webpack://nab/./packages/conversion-action-library/click-external-link/validate.ts","webpack://nab/./packages/conversion-action-library/click-external-link/view.tsx","webpack://nab/./packages/conversion-action-library/click/edit.tsx","webpack://nab/./packages/conversion-action-library/click/index.ts","webpack://nab/./packages/conversion-action-library/click/validate.ts","webpack://nab/./packages/conversion-action-library/click/view.tsx","webpack://nab/./packages/conversion-action-library/custom-event/edit.tsx","webpack://nab/./packages/conversion-action-library/custom-event/index.ts","webpack://nab/./packages/conversion-action-library/custom-event/view.tsx","webpack://nab/./packages/conversion-action-library/edd-order/edit.tsx","webpack://nab/./packages/conversion-action-library/edd-order/index.ts","webpack://nab/./packages/conversion-action-library/edd-order/validate.ts","webpack://nab/./packages/conversion-action-library/edd-order/view.tsx","webpack://nab/./packages/conversion-action-library/form-submission/edit.tsx","webpack://nab/./packages/conversion-action-library/form-submission/helpers.ts","webpack://nab/./packages/conversion-action-library/form-submission/index.ts","webpack://nab/./packages/conversion-action-library/form-submission/validate.ts","webpack://nab/./packages/conversion-action-library/form-submission/view.tsx","webpack://nab/./packages/conversion-action-library/index.ts","webpack://nab/./packages/conversion-action-library/page-view/edit.tsx","webpack://nab/./packages/conversion-action-library/page-view/index.ts","webpack://nab/./packages/conversion-action-library/page-view/validate.ts","webpack://nab/./packages/conversion-action-library/page-view/view.tsx","webpack://nab/./packages/conversion-action-library/video-playback/edit.tsx","webpack://nab/./packages/conversion-action-library/video-playback/index.ts","webpack://nab/./packages/conversion-action-library/video-playback/validate.ts","webpack://nab/./packages/conversion-action-library/video-playback/view.tsx","webpack://nab/./packages/conversion-action-library/wc-add-to-cart/edit.tsx","webpack://nab/./packages/conversion-action-library/wc-add-to-cart/index.ts","webpack://nab/./packages/conversion-action-library/wc-add-to-cart/validate.ts","webpack://nab/./packages/conversion-action-library/wc-add-to-cart/view.tsx","webpack://nab/./packages/conversion-action-library/wc-order/edit.tsx","webpack://nab/./packages/conversion-action-library/wc-order/helpers.ts","webpack://nab/./packages/conversion-action-library/wc-order/index.ts","webpack://nab/./packages/conversion-action-library/wc-order/validate.ts","webpack://nab/./packages/conversion-action-library/wc-order/view.tsx","webpack://nab/./packages/safe-wordpress/components.ts","webpack://nab/./packages/safe-wordpress/compose.ts","webpack://nab/./packages/safe-wordpress/core-data.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./node_modules/classnames/index.js","webpack://nab/./packages/conversion-action-library/click/edit.scss?7da7","webpack://nab/external window \"React\"","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"conversionActions\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"compose\"]","webpack://nab/external window [\"wp\",\"coreData\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./packages/conversion-action-library/export.ts"],"sourcesContent":["import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex(openIndex, tokens) {\n  const openToken = tokens[openIndex];\n  let nestLevel = 0;\n\n  for (let i = openIndex + 1; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.value === openToken.value) {\n      if (token.type === 'componentOpen') {\n        nestLevel++;\n        continue;\n      }\n\n      if (token.type === 'componentClose') {\n        if (nestLevel === 0) {\n          return i;\n        }\n\n        nestLevel--;\n      }\n    }\n  } // if we get this far, there was no matching close token\n\n\n  throw new Error('Missing closing component token `' + openToken.value + '`');\n}\n\nfunction buildChildren(tokens, components) {\n  let children = [];\n  let openComponent;\n  let openIndex;\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.type === 'string') {\n      children.push(token.value);\n      continue;\n    } // component node should at least be set\n\n\n    if (components[token.value] === undefined) {\n      throw new Error(`Invalid interpolation, missing component node: \\`${token.value}\\``);\n    } // should be either ReactElement or null (both type \"object\"), all other types deprecated\n\n\n    if (typeof components[token.value] !== 'object') {\n      throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \\`${token.value}\\``);\n    } // we should never see a componentClose token in this loop\n\n\n    if (token.type === 'componentClose') {\n      throw new Error(`Missing opening component token: \\`${token.value}\\``);\n    }\n\n    if (token.type === 'componentOpen') {\n      openComponent = components[token.value];\n      openIndex = i;\n      break;\n    } // componentSelfClosing token\n\n\n    children.push(components[token.value]);\n    continue;\n  }\n\n  if (openComponent) {\n    const closeIndex = getCloseIndex(openIndex, tokens);\n    const grandChildTokens = tokens.slice(openIndex + 1, closeIndex);\n    const grandChildren = buildChildren(grandChildTokens, components);\n    const clonedOpenComponent = /*#__PURE__*/cloneElement(openComponent, {}, grandChildren);\n    children.push(clonedOpenComponent);\n\n    if (closeIndex < tokens.length - 1) {\n      const siblingTokens = tokens.slice(closeIndex + 1);\n      const siblings = buildChildren(siblingTokens, components);\n      children = children.concat(siblings);\n    }\n  }\n\n  children = children.filter(Boolean);\n\n  if (children.length === 0) {\n    return null;\n  }\n\n  if (children.length === 1) {\n    return children[0];\n  }\n\n  return /*#__PURE__*/createElement(Fragment, null, ...children);\n}\n\nexport default function interpolate(options) {\n  const {\n    mixedString,\n    components,\n    throwErrors\n  } = options;\n\n  if (!components) {\n    return mixedString;\n  }\n\n  if (typeof components !== 'object') {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because components is not an object`);\n    }\n\n    return mixedString;\n  }\n\n  const tokens = tokenize(mixedString);\n\n  try {\n    return buildChildren(tokens, components);\n  } catch (error) {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because of error \\`${error.message}\\``);\n    }\n\n    return mixedString;\n  }\n}","function identifyToken(item) {\n  // {{/example}}\n  if (item.startsWith('{{/')) {\n    return {\n      type: 'componentClose',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example /}}\n\n\n  if (item.endsWith('/}}')) {\n    return {\n      type: 'componentSelfClosing',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example}}\n\n\n  if (item.startsWith('{{')) {\n    return {\n      type: 'componentOpen',\n      value: item.replace(/\\W/g, '')\n    };\n  }\n\n  return {\n    type: 'string',\n    value: item\n  };\n}\n\nexport default function tokenize(mixedString) {\n  const tokenStrings = mixedString.split(/(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g); // split to components and strings\n\n  return tokenStrings.map(identifyToken);\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"m68.339 14.883 44.778 44.778a6.123 6.123 0 0 1 0 8.678L68.34 113.117a6.123 6.123 0 0 1-8.678 0L14.883 68.34a6.123 6.123 0 0 1 0-8.678L59.66 14.883a6.123 6.123 0 0 1 8.678 0\",\n    style: {\n      opacity: 1,\n      strokeOpacity: 1,\n      fillOpacity: 1,\n      stroke: \"none\",\n      strokeDasharray: \"none\",\n      strokeMiterlimit: 4,\n      strokeWidth: 32.581790506,\n      fill: \"#ffc304\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M49.179 54.37V89.93h9.46v-26.1h18.27V54.37h-27.73\",\n    style: {\n      fill: \"#fff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M73.553 71.129V47.072l20.833 12.029-20.833 12.028\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"M102.577 53.793 26.484 24.539a1.536 1.536 0 0 0-1.635.35l-.034.034a1.546 1.546 0 0 0-.35 1.635L53.72 102.65c.222.587.784.97 1.405.98a1.53 1.53 0 0 0 1.431-.946l9.291-22.33L79.362 93.87a2.23 2.23 0 0 0 3.15 0c3.11-3.108 8.168-8.167 11.276-11.275a2.23 2.23 0 0 0 0-3.151L80.29 65.929l22.33-9.292c.579-.238.953-.809.945-1.43a1.557 1.557 0 0 0-.988-1.414\",\n    style: {\n      fill: \"#34a3d3\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"m68.856 26.466-20.602 71.95 10.89 3.118 20.602-71.95ZM42.004 41.665 27.683 55.986 19.67 64l8.01 8.012 14.324 14.321 8.013-8.01L35.692 64l14.322-14.325Zm43.992 0-8.01 8.01 14.322 14.324-14.325 14.324 8.013 8.01L100.32 72.01l8.01-8.012-8.013-8.013z\",\n    style: {\n      fill: \"#70ad54\"\n    }\n  }));\n};\nexport default SvgIcon;","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"M11.8 19.2a3.2 3.2 0 0 0-3.2 3.1c0 1.8 1.5 3.2 3.2 3.2h5.7c2.6 0 2.9 2.2 3 2.4l3 16 .2.6 7.6 39.4c0 .2.6 7.5 9.1 7.5h58.4c8.6 0 8.9-6.3 9.1-7.5l7.5-38v-.7s0-4-1.3-5.6c-1.3-1.6-5.2-2.4-5.2-2.4H29.4l-.6-.4a.9.9 0 0 1-.3-.4l-1.9-9.7c0-.2-1-7.5-9.1-7.5h-4.7zm40.3 76a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15zm35.1 0a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15z\",\n    fill: \"#2a508d\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M60.4 59.3 53 66.6l9.9 10 7.3 7.3 7.4-7.4 9.9-9.9-7.4-7.3-9.9 9.8Z\",\n    fill: \"#fff\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    fill: \"#fff\",\n    d: \"M65.7 45.3h9.1v25.6h-9.1z\"\n  })));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    style: {\n      fill: \"#598b0e\"\n    },\n    d: \"M45.043 27.755h64.944V45.12H45.043V27.755M45.043 55.352h64.944v17.365H45.043V55.352M45.043 82.948h64.944v17.365H45.043V82.948M17.944 27.755H35.31V45.12H17.944V27.755M17.944 55.352H35.31v17.365H17.944V55.352M17.944 82.948H35.31v17.365H17.944V82.948\"\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__grey\",\n    style: {\n      fill: \"#f6a097\"\n    },\n    d: \"M70.904 45.533v-25.44l25.44 25.44h-25.44\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    style: {\n      fill: \"#ef5848\"\n    },\n    d: \"M31.588 20.093h39.516v25.24h25.24v62.643H31.588V20.093\"\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"M51.035 98.77c-12.906-.387-20.993-.951-25.047-1.748-2.337-.459-4.858-1.801-6.537-3.48-2.86-2.861-3.871-6.158-4.668-15.224-1.263-14.364-.35-33.636 1.877-39.588 1.178-3.149 4.378-6.192 7.643-7.267 8.826-2.907 67.267-3.052 78.44-.194 2.417.618 3.842 1.441 5.704 3.296 1.948 1.94 2.697 3.237 3.392 5.874 2.6 9.861 2.601 37.043.002 47.293-.635 2.502-1.453 3.943-3.305 5.819-3.06 3.1-5.707 3.867-15.692 4.551-6.697.459-12.62.613-25.826.671-7.611.034-14.804.033-15.983-.003z\",\n    style: {\n      fill: \"red\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M53.692 78.915V48.814L79.997 64z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"M11.797 19.172a3.164 3.164 0 0 0-3.154 3.154 3.162 3.162 0 0 0 3.154 3.153h5.676c2.583 0 2.913 2.244 2.947 2.414l3.133 15.955.125.617s5.727 29.59 7.65 39.451c.033.17.582 7.494 9.115 7.494h58.354c8.62 0 8.892-6.301 9.117-7.494 1.797-9.537 7.512-38.09 7.512-38.09.033-.17.056-.45.052-.623 0 0-.08-3.978-1.394-5.576h-.002c-1.314-1.598-5.2-2.447-5.2-2.447a3.469 3.469 0 0 0-.622-.069l-78.215.026c-.174 0-.455.023-.627.05l-.61-.345a.868.868 0 0 1-.328-.483l-1.877-9.707c-.034-.17-.949-7.48-9.13-7.48h-4.625zM52.13 95.16c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.338 7.44 7.44 7.44s7.437-3.339 7.437-7.44c0-4.102-3.335-7.438-7.437-7.438zm35.074 0c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.339 7.44 7.44 7.44 4.102 0 7.44-3.339 7.44-7.44 0-4.102-3.338-7.438-7.44-7.438z\",\n    style: {\n      fill: \"#2a508d\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M64.607 46.312v12.41H52.195v10.431h12.412v12.412H75.04V69.153h12.41V58.722H75.04v-12.41Z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__black\",\n    d: \"M11.797 19.172a3.164 3.164 0 0 0-3.154 3.154 3.162 3.162 0 0 0 3.154 3.153h5.676c2.583 0 2.913 2.244 2.947 2.414l3.133 15.955.125.617s5.727 29.59 7.65 39.451c.033.17.582 7.494 9.115 7.494h58.354c8.62 0 8.892-6.301 9.117-7.494 1.797-9.537 7.512-38.09 7.512-38.09.033-.17.056-.45.052-.623 0 0-.08-3.978-1.394-5.576h-.002c-1.314-1.598-5.2-2.447-5.2-2.447a3.469 3.469 0 0 0-.622-.069l-78.215.026c-.174 0-.455.023-.627.05l-.61-.345a.868.868 0 0 1-.328-.483l-1.877-9.707c-.034-.17-.949-7.48-9.13-7.48h-4.625zM52.13 95.16c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.338 7.44 7.44 7.44s7.437-3.339 7.437-7.44c0-4.102-3.335-7.438-7.437-7.438zm35.074 0c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.339 7.44 7.44 7.44 4.102 0 7.44-3.339 7.44-7.44 0-4.102-3.338-7.438-7.44-7.438z\",\n    style: {\n      fill: \"#2a508d\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"icon_svg__white\",\n    d: \"M83.54 47.787 65.988 65.339l-9.883-9.883-7.376 7.376 9.883 9.883 7.375 7.375 7.376-7.376 17.552-17.552z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextControl, SelectControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { ConversionActionScope, ErrorText } from '@nab/components';\nimport type { CAEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: { mode, value },\n\tscope,\n\terrors,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<SelectControl\n\t\t\tlabel={ _x( 'URL Matching Mode', 'text', 'nelio-ab-testing' ) }\n\t\t\toptions={ [\n\t\t\t\t{\n\t\t\t\t\tvalue: 'exact',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'URL exactly matches the expected value',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'partial',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'URL contains the expected value',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'start',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'URL starts with the expected value',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'end',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'URL ends with the expected value',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'regex',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'JavaScript Regular Expression',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t\tvalue={ mode }\n\t\t\tonChange={ ( newMode ) => setAttributes( { mode: newMode } ) }\n\t\t/>\n\n\t\t<TextControl\n\t\t\tclassName={ classnames( {\n\t\t\t\t'nab-conversion-action__field--has-errors': errors.value,\n\t\t\t} ) }\n\t\t\tlabel={ _x( 'Expected Value', 'text', 'nelio-ab-testing' ) }\n\t\t\tvalue={ value }\n\t\t\thelp={ <ErrorText value={ errors.value } /> }\n\t\t\tplaceholder={ _x( 'URL', 'text', 'nelio-ab-testing' ) }\n\t\t\tonChange={ ( newValue ) => setAttributes( { value: newValue } ) }\n\t\t/>\n\n\t\t<ConversionActionScope\n\t\t\tscope={ scope }\n\t\t\tsetScope={ setScope }\n\t\t\terror={ errors._scope }\n\t\t/>\n\t</>\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/click-external-link';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Click external link', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts a click to an external link as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\n\tattributes: {\n\t\tmode: 'exact',\n\t\tvalue: '',\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isRegExpInvalid, isUrlFragmentInvalid } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { mode, value } = attributes;\n\n\tif ( ! value ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'Please write the expected value',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tif ( 'regex' === mode ) {\n\t\tconst error = isRegExpInvalid( value );\n\t\treturn error ? { value: error } : {};\n\t} //end if\n\n\tconst error = isUrlFragmentInvalid( value );\n\treturn error ? { value: error } : {};\n} //end validate()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ConversionActionScopeView } from '@nab/components';\nimport type { CAViewProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes: { mode, value },\n}: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t{ ! value &&\n\t\t\t_x( 'A visitor clicks on a link.', 'text', 'nelio-ab-testing' ) }\n\n\t\t{ value &&\n\t\t\tmode === 'partial' &&\n\t\t\tinterpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: some text that might appear in a URL, such as \"wordpress\", or \"amazon\", or \"nelio\" */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor clicks on a link whose URL contains this fragment: %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} ) }\n\n\t\t{ value &&\n\t\t\tmode === 'start' &&\n\t\t\tinterpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: a URL fragment, such as \"https://nelio\" */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor clicks on a link whose URL starts with %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} ) }\n\n\t\t{ value &&\n\t\t\tmode === 'end' &&\n\t\t\tinterpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: a URL fragment, such as \"neliosoftware.com/blog/\" */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor clicks on a link whose URL ends with %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} ) }\n\n\t\t{ value &&\n\t\t\t! [ 'partial', 'start', 'end' ].includes( mode ) &&\n\t\t\tinterpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: a URL such as \"https://wordpress.org\" */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor clicks on a link with the URL %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} ) }\n\t</>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tTextControl,\n\tSelectControl,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport {\n\tCssSelectorFinder,\n\tConversionActionScope,\n\tErrorText,\n} from '@nab/components';\nimport { STORE_NAME as NAB_DATA, usePageAttribute } from '@nab/data';\nimport type { Alternative, CAEditProps } from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\n/**\n * Internal dependencies\n */\nimport './edit.scss';\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: { mode, value },\n\tscope,\n\terrors,\n\texperimentId,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst instanceId = useInstanceId( Edit );\n\tconst alternatives = useAlternatives();\n\tconst [ isCssFinderOpen, openCssFinder ] = useCssFinder( instanceId );\n\tconst cssFinderUrl = useCssFinderUrl();\n\tconst { saveExperiment } = useDispatch( NAB_EDITOR );\n\n\tconst textControlId = `nab-click-action__value-${ instanceId }`;\n\n\treturn (\n\t\t<>\n\t\t\t<SelectControl\n\t\t\t\tlabel={ _x( 'Matching Mode', 'text', 'nelio-ab-testing' ) }\n\t\t\t\toptions={ OPTIONS }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonChange={ ( newMode ) => setAttributes( { mode: newMode } ) }\n\t\t\t/>\n\n\t\t\t<BaseControl\n\t\t\t\tid={ textControlId }\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t'nab-conversion-action__field--has-errors': errors.value,\n\t\t\t\t} ) }\n\t\t\t\tlabel={ LABELS[ mode ] }\n\t\t\t\thelp={ <ErrorText value={ errors.value } /> }\n\t\t\t>\n\t\t\t\t<div className=\"nab-click-conversion-action\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tid={ textControlId }\n\t\t\t\t\t\tclassName=\"nab-click-conversion-action__value\"\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\tsetAttributes( { value: newValue } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ mode === 'css' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName=\"nab-click-conversion-action__button\"\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tsaveExperiment().then( () =>\n\t\t\t\t\t\t\t\t\t\topenCssFinder( true )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Explore',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{ isCssFinderOpen && (\n\t\t\t\t\t\t\t\t<CssSelectorFinder\n\t\t\t\t\t\t\t\t\tinitialUrl={ cssFinderUrl }\n\t\t\t\t\t\t\t\t\texperimentId={ experimentId }\n\t\t\t\t\t\t\t\t\talternatives={ alternatives }\n\t\t\t\t\t\t\t\t\tinitialValue={ value }\n\t\t\t\t\t\t\t\t\tonAccept={ ( newValue ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { value: newValue } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClose={ () => openCssFinder( false ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</BaseControl>\n\n\t\t\t<ConversionActionScope\n\t\t\t\tscope={ scope }\n\t\t\t\tsetScope={ setScope }\n\t\t\t\terror={ errors._scope }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useAlternatives = () =>\n\tuseSelect( ( select ) => select( NAB_EDITOR )?.getAlternatives() || [] );\n\nconst useCssFinder = ( instanceId: string | number ) => {\n\tinstanceId = `${ instanceId }`;\n\tconst [ finderId, setFinderId ] = usePageAttribute(\n\t\t'css-selector/openedCssSelectorFinderId',\n\t\t''\n\t);\n\n\tconst isOpen = finderId === instanceId;\n\tconst open = ( v: boolean ) => setFinderId( v ? instanceId : '' );\n\n\treturn [ isOpen, open ] as const;\n};\n\nconst useCssFinderUrl = () =>\n\tuseSelect( ( select ): string => {\n\t\tconst { getPluginSetting } = select( NAB_DATA );\n\t\tconst homeUrl = getPluginSetting( 'homeUrl' );\n\n\t\tif ( ! select( NAB_EDITOR ) ) {\n\t\t\treturn homeUrl;\n\t\t} //end if\n\n\t\tconst { getAlternative } = select( NAB_EDITOR );\n\t\tconst control = getAlternative( 'control' );\n\t\tif ( ! hasPostAttrs( control ) ) {\n\t\t\treturn homeUrl;\n\t\t} //end if\n\n\t\tconst { postType, postId } = control.attributes;\n\t\tif ( ! postType || ! postId ) {\n\t\t\treturn homeUrl;\n\t\t} //end if\n\n\t\tconst { getEntityRecord } = select( NAB_DATA );\n\t\tconst post = getEntityRecord( postType, postId );\n\t\treturn post?.link || homeUrl;\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nconst LABELS: Record< Attributes[ 'mode' ], string > = {\n\tid: _x( 'Element ID', 'text', 'nelio-ab-testing' ),\n\tclass: _x( 'CSS Class', 'text', 'nelio-ab-testing' ),\n\tcss: _x( 'CSS Selector', 'text', 'nelio-ab-testing' ),\n};\n\nconst OPTIONS = Object.keys( LABELS )\n\t.map( ( v ) => v as Attributes[ 'mode' ] )\n\t.map( ( value ) => ( {\n\t\tvalue,\n\t\tlabel: LABELS[ value ],\n\t} ) );\n\nconst hasPostAttrs = (\n\ta?: Alternative\n): a is Alternative< { postType: string; postId: number } > =>\n\t!! a?.attributes?.postType && !! a?.attributes?.postId;\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/click';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Click', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts a click as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\n\tattributes: {\n\t\tmode: 'css',\n\t\tvalue: '',\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { mode, value } = attributes;\n\n\tif ( ! value ) {\n\t\tswitch ( mode ) {\n\t\t\tcase 'css':\n\t\t\t\treturn {\n\t\t\t\t\tvalue: _x(\n\t\t\t\t\t\t'Please write a CSS selector that matches the elements you want to track',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'id':\n\t\t\t\treturn {\n\t\t\t\t\tvalue: _x(\n\t\t\t\t\t\t'Please write the ID of the element you want to track',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'class':\n\t\t\t\treturn {\n\t\t\t\t\tvalue: _x(\n\t\t\t\t\t\t'Please write a class name of the element you want to track',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t} //end switch\n\t} //end if\n\n\tswitch ( mode ) {\n\t\tcase 'css':\n\t\t\treturn isCssValueInvalid( value );\n\n\t\tcase 'id':\n\t\t\treturn isIdValueInvalid( value );\n\n\t\tcase 'class':\n\t\t\treturn isClassValueInvalid( value );\n\t} //end switch\n} //end validate()\n\n// =======\n// HELPERS\n// =======\n\nconst dummy = document.createElement( 'br' );\n\nconst isCssValueInvalid = ( value: string ) => {\n\ttry {\n\t\tdummy.querySelector( value );\n\t} catch ( e ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'Please use a valid CSS selector. For instance, you can use a tag name such as “a” or “div,” a class selector such as “.some-class,” or more complex rules such as “section.content button.subscribe”',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end try\n\n\treturn {};\n};\n\nconst isIdValueInvalid = ( value: string ) => {\n\tif ( /^#[a-zA-Z0-9-_]+$/.test( value ) ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'The ID of an element should only contain letters, numbers, hyphens, and underscores',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tif ( ! /^[a-zA-Z0-9-_]+$/.test( value ) ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'The ID of an element should only contain letters, numbers, hyphens, and underscores',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\treturn {};\n};\n\nconst isClassValueInvalid = ( value: string ) => {\n\tif ( /^\\.[a-zA-Z0-9-_]+$/.test( value ) ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'A class name of an element should only contain letters, numbers, hyphens, and underscores',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tif ( ! /^[a-zA-Z0-9-_]+$/.test( value ) ) {\n\t\treturn {\n\t\t\tvalue: _x(\n\t\t\t\t'A class name of an element should only contain letters, numbers, hyphens, and underscores',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\treturn {};\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ConversionActionScopeView } from '@nab/components';\nimport type { CAViewProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes: { mode, value },\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tif ( ! value ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ _x(\n\t\t\t\t\t'A visitor clicks on an HTML element.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\tswitch ( mode ) {\n\t\tcase 'css':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t\t/* translators: a CSS selector, such as \"a.button\" */\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'A visitor clicks on an element matching the CSS selector %s.',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcomponents: { code: <code /> },\n\t\t\t\t\t} ) }\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase 'id':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t\t/* translators: an HTML id, such as \"content\" */\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'A visitor clicks on the %s element',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcomponents: { code: <code /> },\n\t\t\t\t\t} ) }\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase 'class':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t\t/* translators: an HTML id, such as \"content\" */\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'A visitor clicks on an element with class %s',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t`{{code}}${ value }{{/code}}`\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcomponents: { code: <code /> },\n\t\t\t\t\t} ) }\n\t\t\t\t</>\n\t\t\t);\n\t} //end switch\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextControl } from '@safe-wordpress/components';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport type { CAEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\nimport { ConversionActionScope } from '@nab/components';\n\nexport const Edit = ( {\n\tattributes: { eventName },\n\tscope,\n\terrors,\n\texperimentId,\n\tgoalIndex,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst jsAction = !! trim( eventName )\n\t\t? `nab.{{wbr /}}trigger({{wbr /}}'${ trim( eventName ) }')`\n\t\t: `nab.{{wbr /}}convert({{wbr /}}${ experimentId },{{wbr /}}${ goalIndex })`;\n\n\treturn (\n\t\t<>\n\t\t\t<p>\n\t\t\t\t{ _x(\n\t\t\t\t\t'You can programmatically generate a conversion using the following JavaScript snippet whenever you want:',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</p>\n\n\t\t\t<pre>\n\t\t\t\t{ '<script type=\"text/javascript\">\\n  ' }\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: jsAction,\n\t\t\t\t\tcomponents: { wbr: <wbr /> },\n\t\t\t\t} ) }\n\t\t\t\t{ ';\\n</script>' }\n\t\t\t</pre>\n\n\t\t\t<p>\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: a JavaScript snippet */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'If you want a single custom event to trigger a conversion in several goals or different tests, please name the event and use %s instead:',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'{{code}}nab.trigger{{/code}}'\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: { code: <code /> },\n\t\t\t\t} ) }\n\t\t\t</p>\n\t\t\t<TextControl\n\t\t\t\tlabel={ _x( 'Custom Event Name', 'text', 'nelio-ab-testing' ) }\n\t\t\t\tplaceholder={ _x( '(optional)', 'text', 'nelio-ab-testing' ) }\n\t\t\t\tvalue={ eventName || '' }\n\t\t\t\tonChange={ ( name ) => setAttributes( { eventName: name } ) }\n\t\t\t/>\n\n\t\t\t<ConversionActionScope\n\t\t\t\tscope={ scope }\n\t\t\t\tsetScope={ setScope }\n\t\t\t\terror={ errors._scope }\n\t\t\t/>\n\t\t</>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/custom-event';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Custom event', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts the submission of a custom JS event as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\n\tattributes: {\n\t\teventName: '',\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { trim } from 'lodash';\nimport { ConversionActionScopeView } from '@nab/components';\nimport type { CAViewProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes: { eventName },\n\texperimentId,\n\tgoalIndex,\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tif ( ! experimentId || undefined === goalIndex ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ _x(\n\t\t\t\t\t'A conversion is programmatically sent to Nelio’s cloud via JavaScript.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\tconst value = !! trim( eventName )\n\t\t? `nab.{{wbr /}}trigger({{wbr /}}'${ trim( eventName ) }')`\n\t\t: `nab.{{wbr /}}convert({{wbr /}}${ experimentId },{{wbr /}}${ goalIndex })`;\n\n\tlet sentence;\n\tif ( !! trim( eventName ) ) {\n\t\t/* translators: a javascript snippet */\n\t\tsentence = _x(\n\t\t\t'A custom JavaScript event is triggered using %s.',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t} else {\n\t\t/* translators: a javascript snippet */\n\t\tsentence = _x(\n\t\t\t'A conversion is programmatically generated in JavaScript using %s.',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf( sentence, `{{code}}${ value }{{/code}}` ),\n\t\t\t\tcomponents: { code: <code />, wbr: <wbr /> },\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport { useSelect } from '@safe-wordpress/data';\nimport {\n\tBaseControl,\n\tToggleControl,\n\tExternalLink,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { useEffect } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ErrorText, PostSearcher } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type {\n\tAllDownloads,\n\tCAEditProps,\n\tDownloadId,\n\tDownloadSelection,\n\tSomeDownloads,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: attrs,\n\tsetAttributes: setAttrs,\n\terrors,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst instanceId = useInstanceId( Edit );\n\n\tconst { value: attributes } = attrs;\n\tconst downloadId =\n\t\tattributes.type === 'some-downloads' &&\n\t\tattributes.value.type === 'download-ids'\n\t\t\t? attributes.value.downloadIds[ 0 ] || 0\n\t\t\t: 0;\n\n\tconst setAttributes = ( value: DownloadSelection ): void =>\n\t\tsetAttrs( {\n\t\t\ttype: 'download-selection',\n\t\t\tvalue,\n\t\t} );\n\n\tuseEffect( () => {\n\t\tif ( attrs.type === 'download-selection' ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tsetAttributes( attributes );\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Track conversion if the order contains a specific download.',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tchecked={ attributes.type === 'some-downloads' }\n\t\t\t\tonChange={ ( any ) =>\n\t\t\t\t\tsetAttributes( any ? SOME_DOWNLOADS : ALL_DOWNLOADS )\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t{ attributes.type === 'some-downloads' &&\n\t\t\t\tattributes.value.type === 'download-ids' && (\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\tid={ `nab-conversion-action__edd-add-to-cart-${ instanceId }` }\n\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t'nab-conversion-action__field--has-errors':\n\t\t\t\t\t\t\t\terrors.type,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\tlabel={ <Label downloadId={ downloadId } /> }\n\t\t\t\t\t\thelp={ <ErrorText value={ errors.type } /> }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSearcher\n\t\t\t\t\t\t\tid={ `nab-conversion-action__edd-add-to-cart-${ instanceId }` }\n\t\t\t\t\t\t\ttype=\"download\"\n\t\t\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\t\t\tvalue={ downloadId }\n\t\t\t\t\t\t\tonChange={ ( newDownloadId ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\ttype: 'some-downloads',\n\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\ttype: 'download-ids',\n\t\t\t\t\t\t\t\t\t\tmode: 'and',\n\t\t\t\t\t\t\t\t\t\tdownloadIds: newDownloadId\n\t\t\t\t\t\t\t\t\t\t\t? [ newDownloadId ]\n\t\t\t\t\t\t\t\t\t\t\t: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst Label = ( { downloadId }: { downloadId: DownloadId } ) => {\n\tconst permalink = useDownloadPermalink( downloadId );\n\n\tif ( ! permalink ) {\n\t\treturn <span>{ _x( 'Download', 'text', 'nelio-ab-testing' ) }</span>;\n\t} //end if\n\n\treturn (\n\t\t<span>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: _x(\n\t\t\t\t\t'Download ({{a}}View{{/a}})',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tcomponents: { a: <ExternalLink href={ permalink } /> },\n\t\t\t} ) }\n\t\t</span>\n\t);\n};\n\n// =========\n// CONSTANTS\n// =========\n\nconst ALL_DOWNLOADS: AllDownloads = {\n\ttype: 'all-downloads',\n};\n\nconst SOME_DOWNLOADS: SomeDownloads = {\n\ttype: 'some-downloads',\n\tvalue: {\n\t\ttype: 'download-ids',\n\t\tmode: 'and',\n\t\tdownloadIds: [],\n\t},\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useDownloadPermalink = ( downloadId: DownloadId ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( 'download', downloadId )?.link\n\t);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/edd-order';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Easy Digital Downloads Purchase', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts an Easy Digital Downloads purchase as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\tisActive: ( select ) =>\n\t\tselect( NAB_DATA )\n\t\t\t.getActivePlugins()\n\t\t\t.includes( 'easy-digital-downloads/easy-digital-downloads.php' ),\n\n\tattributes: {\n\t\ttype: 'download-selection',\n\t\tvalue: { type: 'all-downloads' },\n\t},\n\n\tscope: { type: 'php-function' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes?: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattrs: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { value: attributes } = attrs;\n\n\tif ( attributes.type === 'all-downloads' ) {\n\t\treturn {};\n\t} //end if\n\n\tconst selection = attributes.value;\n\tswitch ( selection.type ) {\n\t\tcase 'download-ids':\n\t\t\treturn selection.downloadIds.length\n\t\t\t\t? {}\n\t\t\t\t: {\n\t\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t\t'Please select a download',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t  };\n\n\t\tcase 'download-taxonomies': {\n\t\t\tconst taxonomies = selection.value;\n\t\t\tif ( ! taxonomies.length ) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t'Please select one or more taxonomies',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t} //end if\n\n\t\t\treturn taxonomies.every( ( t ) => !! t.termIds.length )\n\t\t\t\t? {}\n\t\t\t\t: {\n\t\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t\t'Please select one or more terms in all your taxonomies',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t  };\n\t\t}\n\t} //end switch\n} //end validate()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\nimport { store as coreStore } from '@safe-wordpress/core-data';\nconst CORE = coreStore?.name ?? 'core';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { find, map, trim, reverse } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { hasHead, isSingleton, listify } from '@nab/utils';\nimport type {\n\tCAViewProps,\n\tDownloadId,\n\tOrderStatusName,\n\tMaybe,\n\tSelectedDownloadIds,\n\tSelectedDownloadTaxonomies,\n\tSelectedDownloadTerms,\n\tSomeDownloads,\n\tTaxonomyName,\n\tTermId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( {\n\tattributes,\n\t...props\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tconst { value: selection } = attributes;\n\tconst { orderStatusForConversion = 'complete' } = props.goal;\n\n\tswitch ( selection.type ) {\n\t\tcase 'all-downloads':\n\t\t\treturn <AllDownloadsView status={ orderStatusForConversion } />;\n\n\t\tcase 'some-downloads':\n\t\t\treturn (\n\t\t\t\t<SomeDownloadsView\n\t\t\t\t\tselection={ selection.value }\n\t\t\t\t\tstatus={ orderStatusForConversion }\n\t\t\t\t/>\n\t\t\t);\n\t} //end switch\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\ntype HelperViewProps< T = unknown > = {\n\treadonly selection: T;\n\treadonly status: OrderStatusName;\n};\n\nconst AllDownloadsView = ( {\n\tstatus,\n}: Pick< HelperViewProps, 'status' > ): JSX.Element => {\n\tconst statusName = useStatusName( status );\n\n\tif ( status === 'complete' ) {\n\t\treturn (\n\t\t\t<>{ _x( 'An order is completed.', 'text', 'nelio-ab-testing' ) }</>\n\t\t);\n\t} //end if\n\n\treturn beautify(\n\t\tsprintf(\n\t\t\t/* translators: woocommerce order status */\n\t\t\t_x(\n\t\t\t\t'The status of an order is set to %s.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t\tem( statusName )\n\t\t)\n\t);\n};\n\nconst SomeDownloadsView = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SomeDownloads[ 'value' ] > ): JSX.Element => {\n\tswitch ( selection.type ) {\n\t\tcase 'download-ids':\n\t\t\treturn <DownloadList selection={ selection } status={ status } />;\n\n\t\tcase 'download-taxonomies':\n\t\t\treturn (\n\t\t\t\t<DownloadTaxonomies selection={ selection } status={ status } />\n\t\t\t);\n\t} //end switch\n};\n\nconst DownloadList = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SelectedDownloadIds > ): JSX.Element => {\n\tconst { downloadIds, mode, excluded = false } = selection;\n\n\tconst statusName = em( useStatusName( status ) );\n\tconst downloadNames = map( useDownloadNames( downloadIds ), strong );\n\n\tswitch ( downloadNames.length ) {\n\t\tcase 0:\n\t\t\treturn beautify( sprintf( ORDER_STATUS, statusName ) );\n\n\t\tcase 1:\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded\n\t\t\t\t\t\t? DOWNLOAD_LABELS.singleExcluded\n\t\t\t\t\t\t: DOWNLOAD_LABELS.singleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tdownloadNames[ 0 ]\n\t\t\t\t)\n\t\t\t);\n\n\t\tdefault:\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded\n\t\t\t\t\t\t? DOWNLOAD_LABELS.multipleExcluded\n\t\t\t\t\t\t: DOWNLOAD_LABELS.multipleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tlistify( mode, downloadNames )\n\t\t\t\t)\n\t\t\t);\n\t} //end switch\n};\n\nconst DownloadTaxonomies = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SelectedDownloadTaxonomies > ): JSX.Element => {\n\tconst statusName = em( useStatusName( status ) );\n\tconst value = selection.value.filter( ( t ) => !! t.termIds.length );\n\n\tconst cat = find( value, { taxonomy: 'download_category' } );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst catNames = map( useTermNames( cat?.taxonomy, cat?.termIds ), strong );\n\n\tconst tag = find( value, { taxonomy: 'download_tag' } );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst tagNames = map( useTermNames( tag?.taxonomy, tag?.termIds ), strong );\n\n\tif ( ! hasHead( value ) ) {\n\t\treturn beautify( sprintf( ORDER_STATUS, statusName ) );\n\t} //end if\n\n\tif ( isSingleton( value ) && ( cat || tag ) ) {\n\t\tconst terms = catNames || tagNames || [];\n\t\tconst mode = cat?.mode || tag?.mode || 'or';\n\t\tconst excluded = !! cat?.excluded || !! tag?.excluded || false;\n\t\tconst labels = cat ? CATEGORY_LABELS : TAG_LABELS;\n\n\t\tif ( isSingleton( terms ) ) {\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded ? labels.singleExcluded : labels.singleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tterms[ 0 ]\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\treturn beautify(\n\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\tsprintf(\n\t\t\t\texcluded ? labels.multipleExcluded : labels.multipleIncluded,\n\t\t\t\tstatusName,\n\t\t\t\tlistify( mode, terms )\n\t\t\t)\n\t\t);\n\t\t//end if\n\t} //end if\n\n\tconst isTwoTaxonomies = 2 === value.length;\n\tif ( isTwoTaxonomies && cat && tag ) {\n\t\treturn beautify(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */\n\t\t\t\t_x(\n\t\t\t\t\t'The status of an order is set to %1$s and said order has at least one download in category %2$s and is tagged as %3$s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tstatusName,\n\t\t\t\tlistify( cat.mode, catNames ),\n\t\t\t\tlistify( tag.mode, tagNames )\n\t\t\t)\n\t\t);\n\t} //end if\n\n\tconst [ last, ...rest ] = reverse( value );\n\tconst init = reverse( rest );\n\treturn (\n\t\t<>\n\t\t\t{ beautify(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: woocommerce order status */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'The status of an order is set to %s and said order has at least one download that',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tstatusName\n\t\t\t\t)\n\t\t\t) }\n\t\t\t{ init.map( ( t ) => (\n\t\t\t\t<>\n\t\t\t\t\t<DownloadTaxonomyTerms\n\t\t\t\t\t\tkey={ t.taxonomy }\n\t\t\t\t\t\tselection={ t }\n\t\t\t\t\t\tstatus={ status }\n\t\t\t\t\t/>\n\t\t\t\t\t{ init.length === 1 ? '' : '; ' }\n\t\t\t\t</>\n\t\t\t) ) }\n\t\t\t{ isSingleton( value ) ? '' : AND_PLUS }\n\t\t\t<DownloadTaxonomyTerms selection={ last } status={ status } />\n\t\t\t{ '.' }\n\t\t</>\n\t);\n};\n\nconst DownloadTaxonomyTerms = ( {\n\tselection,\n}: HelperViewProps< SelectedDownloadTerms > ): JSX.Element => {\n\tconst { taxonomy, mode, termIds, excluded } = selection;\n\n\tconst taxonomyName = em( useTaxonomyName( taxonomy ) );\n\tconst termNames = map( useTermNames( taxonomy, termIds ), strong );\n\n\treturn beautify(\n\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\tsprintf(\n\t\t\texcluded ? TERM_LABELS.excluded : TERM_LABELS.included,\n\t\t\ttaxonomyName,\n\t\t\tlistify( mode, termNames )\n\t\t)\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst beautify = ( text: string ): JSX.Element =>\n\tinterpolateComponents( {\n\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\tmixedString: text,\n\t\tcomponents: { em: <em />, strong: <strong /> },\n\t} );\n\nconst em = ( t: string ): string => `{{em}}${ t }{{/em}}`;\n\nconst strong = ( t: string ): string => `{{strong}}${ t }{{/strong}}`;\n\nconst el = document.createElement( 'div' );\nconst formatTermName = ( n: string ): string => {\n\tel.innerHTML = n;\n\treturn el.textContent ?? n;\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useStatusName = ( status: OrderStatusName ): string =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tfind(\n\t\t\t\tselect( NAB_DATA ).getECommerceSetting(\n\t\t\t\t\t'edd',\n\t\t\t\t\t'orderStatuses'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tvalue: status,\n\t\t\t\t}\n\t\t\t)?.label ?? status\n\t);\n\nconst useDownloadNames = ( downloadIds: ReadonlyArray< DownloadId > ) =>\n\tuseSelect( ( select ) =>\n\t\tdownloadIds.map(\n\t\t\t( downloadId ) =>\n\t\t\t\ttrim(\n\t\t\t\t\tselect( NAB_DATA ).getEntityRecord( 'download', downloadId )\n\t\t\t\t\t\t?.title\n\t\t\t\t) ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: product id */\n\t\t\t\t\t_x( 'Download #%d', 'text', 'nelio-ab-testing' ),\n\t\t\t\t\tdownloadId\n\t\t\t\t)\n\t\t)\n\t);\n\nconst useTaxonomyName = ( taxonomy: TaxonomyName ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( CORE ).getTaxonomy( taxonomy )?.labels.singular_name ??\n\t\t\ttaxonomy\n\t);\n\nconst useTermNames = (\n\ttaxonomy: Maybe< TaxonomyName >,\n\ttermIds: Maybe< ReadonlyArray< TermId > > = []\n) =>\n\tuseSelect( ( select ): ReadonlyArray< string > => {\n\t\tselect( CORE );\n\t\tif ( ! taxonomy || ! termIds ) {\n\t\t\treturn [];\n\t\t} //end if\n\t\treturn termIds.map( ( id ) =>\n\t\t\tformatTermName(\n\t\t\t\tselect( CORE ).getEntityRecord( 'taxonomy', taxonomy, id )\n\t\t\t\t\t?.name || `#${ id }`\n\t\t\t)\n\t\t);\n\t} );\n\n// =========\n// CONSTANTS\n// =========\n\ntype Labels = {\n\treadonly singleExcluded: string;\n\treadonly singleIncluded: string;\n\treadonly multipleExcluded: string;\n\treadonly multipleIncluded: string;\n};\n\n/* translators: woocommerce order status */\nconst ORDER_STATUS = _x(\n\t'The status of an order is set to %s.',\n\t'text',\n\t'nelio-ab-testing'\n);\n\nconst DOWNLOAD_LABELS: Labels = {\n\t/* translators: 1 -> woocomerce status, 2 -> download name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing download %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> download name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing the download %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of download names */\n\tmultipleExcluded: _x(\n\t\t'The status of an order not containing any of the downloads %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of download names */\n\tmultipleIncluded: _x(\n\t\t'The status of an order containing downloads %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst CATEGORY_LABELS: Labels = {\n\t/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing any download in category %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing at least one download in category %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */\n\tmultipleExcluded: _x(\n\t\t'The status of an order not containing any downloads in categories %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */\n\tmultipleIncluded: _x(\n\t\t'The status of an order containing at least one download in categories %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst TAG_LABELS_AUX = {\n\t/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing any download tagged as %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing at least one download tagged as %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst TAG_LABELS: Labels = {\n\t...TAG_LABELS_AUX,\n\tmultipleExcluded: TAG_LABELS_AUX.singleExcluded,\n\tmultipleIncluded: TAG_LABELS_AUX.singleIncluded,\n};\n\nconst TERM_LABELS = {\n\tempty: '',\n\t/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */\n\texcluded: _x(\n\t\t'doesn’t have %2$s in taxonomy %1$s',\n\t\t'text (implicit subject: download)',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */\n\tincluded: _x(\n\t\t'has %2$s in taxonomy %1$s',\n\t\t'text (implicit subject: download)',\n\t\t'nelio-ab-testing'\n\t),\n};\n\n// =========\n// CONSTANTS\n// =========\n\nconst AND_PLUS = _x( ', and ', 'text (2+ item list)', 'nelio-ab-testing' );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tTextControl,\n\tSelectControl,\n\tBaseControl,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { sortBy } from 'lodash';\nimport {\n\tConversionActionScope,\n\tErrorText,\n\tPostSearcher,\n} from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { CAEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getNameFieldLabel, isNamedForm } from './helpers';\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes,\n\tscope,\n\terrors,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst { formId, formType, formName = '' } = attributes;\n\tconst instanceId = useInstanceId( Edit );\n\tconst formTypes = useFormTypes();\n\n\tuseEffect( () => {\n\t\tif ( ! formType && formTypes[ 0 ]?.value ) {\n\t\t\tsetAttributes( {\n\t\t\t\tformType: formTypes[ 0 ].value,\n\t\t\t\tformId: undefined,\n\t\t\t\tformName: undefined,\n\t\t\t} );\n\t\t} //end if\n\t}, [ formType, formTypes.length ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ formTypes.length > 1 && (\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ _x( 'Form Type', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\toptions={ formTypes }\n\t\t\t\t\tvalue={ formType }\n\t\t\t\t\tonChange={ ( newFormType ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tformType: newFormType,\n\t\t\t\t\t\t\tformId: undefined,\n\t\t\t\t\t\t\tformName: undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t{ isNamedForm( attributes ) ? (\n\t\t\t\t<TextControl\n\t\t\t\t\tid={ `nab-conversion-action__form-submission-${ instanceId }` }\n\t\t\t\t\tlabel={ getNameFieldLabel( attributes ) }\n\t\t\t\t\thelp={ <ErrorText value={ errors.formName } /> }\n\t\t\t\t\tvalue={ formName }\n\t\t\t\t\tonChange={ ( newFormName ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tformType,\n\t\t\t\t\t\t\tformId: 0,\n\t\t\t\t\t\t\tformName: newFormName,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<BaseControl\n\t\t\t\t\tid={ `nab-conversion-action__form-submission-${ instanceId }` }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'nab-conversion-action__field--has-errors':\n\t\t\t\t\t\t\terrors.formId,\n\t\t\t\t\t} ) }\n\t\t\t\t\tlabel={ _x( 'Actual Form', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\thelp={ <ErrorText value={ errors.formId } /> }\n\t\t\t\t>\n\t\t\t\t\t<PostSearcher\n\t\t\t\t\t\tid={ `nab-conversion-action__form-submission-${ instanceId }` }\n\t\t\t\t\t\ttype={ formType }\n\t\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\t\tvalue={ formId }\n\t\t\t\t\t\tonChange={ ( newFormId ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tformType,\n\t\t\t\t\t\t\t\tformId: newFormId,\n\t\t\t\t\t\t\t\tformName: undefined,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BaseControl>\n\t\t\t) }\n\n\t\t\t<ConversionActionScope\n\t\t\t\tscope={ scope }\n\t\t\t\tsetScope={ setScope }\n\t\t\t\terror={ errors._scope }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useFormTypes = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getKindEntities } = select( NAB_DATA );\n\n\t\tconst formTypes = ( getKindEntities() || [] )\n\t\t\t.filter( ( pt ) => 'form' === pt.kind )\n\t\t\t.map( ( pt ) => ( {\n\t\t\t\tvalue: pt.name,\n\t\t\t\tlabel: pt.labels.singular_name,\n\t\t\t} ) );\n\t\treturn sortBy( formTypes, 'label' );\n\t} );\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function isNamedForm( attributes: Attributes ): boolean {\n\treturn (\n\t\t'nab_elementor_form' === attributes.formType ||\n\t\t'nab_hubspot_form' === attributes.formType\n\t);\n} //end isNamedForm()\n\nexport function getNameFieldLabel( attributes: Attributes ): string {\n\tswitch ( attributes.formType ) {\n\t\tcase 'nab_hubspot_form':\n\t\t\treturn _x( 'Form ID', 'text', 'nelio-ab-testing' );\n\n\t\tcase 'nab_elementor_form':\n\t\tdefault:\n\t\t\treturn _x( 'Form Name', 'text', 'nelio-ab-testing' );\n\t} //end switch\n} //end getLabel()\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/form-submission';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Form submission', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts a form submission as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\tisActive: ( select ) =>\n\t\tselect( NAB_DATA )\n\t\t\t.getKindEntities()\n\t\t\t.some( ( e ) => 'form' === e.kind ),\n\n\tattributes: {\n\t\tformType: '',\n\t\tformId: 0,\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { isNamedForm } from './helpers';\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tif ( ! isNamedForm( attributes ) && ! attributes.formId ) {\n\t\treturn {\n\t\t\tformId: _x(\n\t\t\t\t'Please select a form to track its submissions',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tif ( isNamedForm( attributes ) && ! attributes.formName ) {\n\t\treturn {\n\t\t\tformName: _x(\n\t\t\t\t'Please specify the form whose submissions you want to track',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\treturn {};\n} //end validate()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ConversionActionScopeView } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { CAViewProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { isNamedForm } from './helpers';\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes,\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tconst formTitle = useFormTitle( attributes );\n\tconst { formType } = attributes;\n\n\tif ( ! formTitle ) {\n\t\treturn <>{ getLabelForUnknownForm( formType ) }</>;\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\tgetLabelForKnownForm( formType ),\n\t\t\t\t\t`{{strong}}${ formTitle }{{/strong}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { strong: <strong /> },\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useFormTitle = ( attributes: Attributes ): string =>\n\tuseSelect( ( select ) => {\n\t\tselect( NAB_DATA );\n\t\tconst name = isNamedForm( attributes )\n\t\t\t? attributes.formName\n\t\t\t: select( NAB_DATA ).getEntityRecord(\n\t\t\t\t\tattributes.formType,\n\t\t\t\t\tattributes.formId\n\t\t\t  )?.title;\n\t\treturn name || '';\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nfunction getLabelForUnknownForm( formType: string ) {\n\tswitch ( formType ) {\n\t\tcase 'nelio_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a Nelio Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'wpcf7_contact_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a Contact Form 7.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_elementor_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits an Elementor Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_hubspot_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a HubSpot Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_gravity_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a Gravity Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_ninja_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a Ninja Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_formidable_form':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a Formidable Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'wpforms':\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a WPForm.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tdefault:\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits a form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t} //end formType\n} //end getLabelForUnknownForm()\n\nfunction getLabelForKnownForm( formType: string ) {\n\tswitch ( formType ) {\n\t\tcase 'nelio_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Nelio Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'wpcf7_contact_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Contact Form 7.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_elementor_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Elementor Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_hubspot_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s HubSpot Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_gravity_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Gravity Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_ninja_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Ninja Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'nab_formidable_form':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s Formidable Form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'wpforms':\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s WPForm.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tdefault:\n\t\t\t/* translators: form name */\n\t\t\treturn _x(\n\t\t\t\t'A visitor successfully submits the %s form.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t} //end formType\n} //end getLabelForKnownForm()\n","/**\n * External dependencies\n */\nimport { registerConversionActionType } from '@nab/conversion-actions';\nimport type { Dict } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as click from './click';\nimport * as clickExternalLink from './click-external-link';\nimport * as customEvent from './custom-event';\nimport * as downloadPurchase from './edd-order';\nimport * as formSubmission from './form-submission';\nimport * as pageView from './page-view';\nimport * as productPurchase from './wc-order';\nimport * as productToCart from './wc-add-to-cart';\nimport * as videoPlayback from './video-playback';\n\nexport const registerCoreConversionActions = (): void => {\n\t[\n\t\tpageView,\n\t\tclick,\n\t\tclickExternalLink,\n\t\tdownloadPurchase,\n\t\tformSubmission,\n\t\tvideoPlayback,\n\t\tproductPurchase,\n\t\tproductToCart,\n\t\tcustomEvent,\n\t].forEach( ( conversionAction?: { name: string; settings: Dict } ) => {\n\t\tif ( ! conversionAction ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tconst { name, settings } = conversionAction;\n\t\tregisterConversionActionType( name, settings );\n\t} );\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tBaseControl,\n\tExternalLink,\n\tSelectControl,\n\tTextControl,\n\tToggleControl,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { sortBy, trim } from 'lodash';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ErrorText, PostSearcher } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { CAEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const Edit = ( props: CAEditProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t{ props.attributes.mode === 'id' ? (\n\t\t\t<EditPostId { ...props } />\n\t\t) : (\n\t\t\t<EditUrl { ...props } />\n\t\t) }\n\t\t<ToggleControl\n\t\t\tlabel={ _x( 'Select page by URL', 'command', 'nelio-ab-testing' ) }\n\t\t\tchecked={ props.attributes.mode === 'url' }\n\t\t\tonChange={ ( enabled ) => {\n\t\t\t\tprops.setAttributes( { mode: enabled ? 'url' : 'id' } );\n\t\t\t\tprops.setScope(\n\t\t\t\t\tenabled\n\t\t\t\t\t\t? { type: 'urls', regexes: [ props.attributes.url ] }\n\t\t\t\t\t\t: { type: 'post-ids', ids: [ props.attributes.postId ] }\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t</>\n);\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst EditPostId = ( {\n\tattributes: { postId, postType },\n\tsetAttributes,\n\tsetScope,\n\terrors,\n}: CAEditProps< Attributes > ): JSX.Element | null => {\n\tconst instanceId = useInstanceId( Edit );\n\tconst { value: postTypes, isLoading } = usePostTypes();\n\tconst currentPostType = postType || postTypes[ 0 ]?.value;\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tisLoading ||\n\t\t\tpostTypes.map( ( t ) => t.value ).includes( postType )\n\t\t) {\n\t\t\treturn;\n\t\t} //end if\n\t\tsetAttributesAndScope( { postType: 'page', postId: 0 } );\n\t}, [ postType, isLoading ] );\n\n\tif ( isLoading ) {\n\t\treturn null;\n\t} //end if\n\n\tconst setAttributesAndScope = ( attrs: Partial< Attributes > ) => {\n\t\tsetAttributes( attrs );\n\t\tsetScope( {\n\t\t\ttype: 'post-ids',\n\t\t\tids: attrs.postType && attrs.postId ? [ attrs.postId ] : [],\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{ postTypes.length > 1 && (\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ _x( 'Content Type', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\toptions={ postTypes }\n\t\t\t\t\tvalue={ currentPostType }\n\t\t\t\t\tonChange={ ( newPostType ) =>\n\t\t\t\t\t\tsetAttributesAndScope( {\n\t\t\t\t\t\t\tpostType: newPostType,\n\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<BaseControl\n\t\t\t\tid={ `nab-conversion-action__page-view-${ instanceId }` }\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t'nab-conversion-action__field--has-errors':\n\t\t\t\t\t\t!! errors.postId,\n\t\t\t\t} ) }\n\t\t\t\tlabel={ <Label postType={ postType } postId={ postId } /> }\n\t\t\t\thelp={ <ErrorText value={ errors.postId } /> }\n\t\t\t>\n\t\t\t\t<PostSearcher\n\t\t\t\t\tid={ `nab-conversion-action__page-view-${ instanceId }` }\n\t\t\t\t\ttype={ currentPostType }\n\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\tvalue={ postId }\n\t\t\t\t\tonChange={ ( newPostId ) =>\n\t\t\t\t\t\tsetAttributesAndScope( {\n\t\t\t\t\t\t\tpostId: newPostId,\n\t\t\t\t\t\t\tpostType: currentPostType,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</BaseControl>\n\t\t</>\n\t);\n};\n\nconst EditUrl = ( {\n\tattributes: { url },\n\tsetAttributes,\n\tsetScope,\n\terrors,\n}: CAEditProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<TextControl\n\t\t\tlabel={ _x( 'URL', 'text', 'nelio-ab-testing' ) }\n\t\t\tvalue={ url }\n\t\t\tonChange={ ( value ) => {\n\t\t\t\tsetAttributes( { url: trim( value ) } );\n\t\t\t\tsetScope( {\n\t\t\t\t\ttype: 'urls',\n\t\t\t\t\tregexes: trim( value ) ? [ trim( value ) ] : [],\n\t\t\t\t} );\n\t\t\t} }\n\t\t\thelp={ <ErrorText value={ errors.url } /> }\n\t\t/>\n\t</>\n);\n\nconst Label = ( {\n\tpostType,\n\tpostId,\n}: {\n\tpostType: string; // TODO. Use proper type?\n\tpostId: number; // TODO. Use proper type?\n} ) => {\n\tconst permalink = usePostPermalink( postType, postId );\n\n\tif ( ! permalink ) {\n\t\treturn (\n\t\t\t<span>{ _x( 'Actual Content', 'text', 'nelio-ab-testing' ) }</span>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<span>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: _x(\n\t\t\t\t\t'Actual Content ({{a}}View{{/a}})',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tcomponents: {\n\t\t\t\t\ta: permalink ? (\n\t\t\t\t\t\t<ExternalLink href={ permalink } />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span />\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t} ) }\n\t\t</span>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst EXCLUDED_POST_TYPES = [ 'attachment', 'product_variation' ];\n\nconst usePostTypes = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getKindEntities, hasFinishedResolution, hasResolutionFailed } =\n\t\t\tselect( NAB_DATA );\n\n\t\tconst isLoading =\n\t\t\t! hasFinishedResolution( 'getKindEntities' ) &&\n\t\t\t! hasResolutionFailed( 'getKindEntities' );\n\n\t\tconst postTypes = ( getKindEntities() || [] )\n\t\t\t.filter(\n\t\t\t\t( pt ) =>\n\t\t\t\t\t'entity' === pt.kind &&\n\t\t\t\t\t! EXCLUDED_POST_TYPES.includes( pt.name )\n\t\t\t)\n\t\t\t.map( ( pt ) => ( {\n\t\t\t\tvalue: pt.name,\n\t\t\t\tlabel: pt.labels.singular_name,\n\t\t\t} ) );\n\n\t\treturn {\n\t\t\tvalue: sortBy( postTypes, 'label' ),\n\t\t\tisLoading,\n\t\t};\n\t} );\n\n// TODO. Use proper types?\nconst usePostPermalink = ( postType: string, postId: number ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( postType, postId )?.link\n\t);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/page-view';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Page view', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts a visit to a page as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\n\tattributes: {\n\t\tmode: 'id',\n\t\tpostType: 'page',\n\t\tpostId: 0,\n\t\turl: '',\n\t},\n\n\tscope: { type: 'post-ids', ids: [] },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isUrlInvalid } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { mode, url, postId } = attributes;\n\tif ( 'id' === mode && ! postId ) {\n\t\treturn {\n\t\t\tpostId: _x(\n\t\t\t\t'Please select a content to track its visits as conversions',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tconst urlError = 'url' === mode && getUrlError( url );\n\tif ( urlError ) {\n\t\treturn { url: urlError };\n\t} //end if\n\n\treturn {};\n} //end validate()\n\n// =======\n// HELPERS\n// =======\n\nconst getUrlError = ( url: string ): false | string =>\n\tisUrlInvalid( url ) || hasQueryArgs( url ) || isMissingProtocol( url );\n\nconst hasQueryArgs = ( url: string ): false | string =>\n\t0 <= url.indexOf( '?' ) &&\n\t_x( 'Please write a URL with no query args', 'user', 'nelio-ab-testing' );\n\nconst isMissingProtocol = ( url: string ): false | string =>\n\t! /^https:\\/\\//.test( url ) &&\n\t_x(\n\t\t'Please write a full URL starting with “https://”',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { ExternalLink } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { find } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { CAViewProps, EntityKindName } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element =>\n\tprops.attributes.mode === 'id' ? (\n\t\t<PostIdView { ...props } />\n\t) : (\n\t\t<UrlView { ...props } />\n\t);\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst PostIdView = ( {\n\tattributes: { postType, postId },\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tconst postTypeLabel = usePostTypeLabel( postType );\n\tconst postTitle = usePostTitle( postType, postId );\n\tconst permalink = usePostPermalink( postType, postId );\n\n\tif ( 'page' === postType || 'post' === postType ) {\n\t\tconst knownLabel =\n\t\t\t'page' === postType\n\t\t\t\t? /* translators: the title of a page */\n\t\t\t\t  _x(\n\t\t\t\t\t\t'A visitor views the %s page.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  )\n\t\t\t\t: /* translators: the title of a post */\n\t\t\t\t  _x(\n\t\t\t\t\t\t'A visitor views the %s post.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  );\n\t\tconst unknownLabel =\n\t\t\t'page' === postType\n\t\t\t\t? _x(\n\t\t\t\t\t\t'A visitor views a page in your website.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  )\n\t\t\t\t: _x(\n\t\t\t\t\t\t'A visitor views a post in your website.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  );\n\n\t\tif ( ! postTitle ) {\n\t\t\treturn <>{ unknownLabel }</>;\n\t\t} //end if\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\tknownLabel,\n\t\t\t\t\t\tsprintf( '{{a}}%s{{/a}}', postTitle )\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\ta: permalink ? (\n\t\t\t\t\t\t\t<ExternalLink href={ permalink } />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<strong />\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\tif ( ! postTitle ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: a custom post type */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor views some content in your website with the type %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tpostTypeLabel\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: 1 -> the title of a custom post type; 2 -> a post type name */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor views %1$s (%2$s).',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tsprintf( '{{a}}%s{{/a}}', postTitle ),\n\t\t\t\t\tpostTypeLabel\n\t\t\t\t),\n\t\t\t\tcomponents: {\n\t\t\t\t\ta: permalink ? (\n\t\t\t\t\t\t<ExternalLink href={ permalink } />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<strong />\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n\nconst UrlView = ( {\n\tattributes: { url },\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tif ( ! url ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ _x(\n\t\t\t\t\t'A visitor views a page in your website.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: a page URL */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor views a page with URL %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tsprintf( '{{code}}%s{{/code}}', url )\n\t\t\t\t),\n\t\t\t\tcomponents: {\n\t\t\t\t\tcode: <code></code>,\n\t\t\t\t},\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePostTypeLabel = ( postType?: EntityKindName ) => {\n\tconst postTypes = useSelect(\n\t\t( select ) => select( NAB_DATA ).getKindEntities() || []\n\t);\n\tconst obj = find( postTypes, { name: postType || '' } );\n\treturn (\n\t\tobj?.labels?.singular_name ||\n\t\t_x( 'Unknown', 'text (post type)', 'nelio-ab-testing' )\n\t);\n};\n\nconst usePostTitle = ( postType: string, postId: number ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( postType, postId )?.title\n\t);\n\nconst usePostPermalink = ( postType: string, postId: number ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tisResultsPage() &&\n\t\t\tselect( NAB_DATA ).getEntityRecord( postType, postId )?.link\n\t);\n\n// =======\n// HELPERS\n// =======\n\nconst isResultsPage = () =>\n\t!! document.querySelector( '.nab-results-experiment-layout' );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextControl, SelectControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { ConversionActionScope, ErrorText } from '@nab/components';\nimport type { CAEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: { event, videoId },\n\tscope,\n\terrors,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<SelectControl\n\t\t\tlabel={ _x( 'Event', 'text', 'nelio-ab-testing' ) }\n\t\t\toptions={ [\n\t\t\t\t{\n\t\t\t\t\tvalue: 'play',\n\t\t\t\t\tlabel: _x( 'Play Video', 'text', 'nelio-ab-testing' ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'end',\n\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t'Reach End of Video',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t\tvalue={ event }\n\t\t\tonChange={ ( newEvent ) => setAttributes( { event: newEvent } ) }\n\t\t/>\n\n\t\t<TextControl\n\t\t\tclassName={ classnames( {\n\t\t\t\t'nab-conversion-action__field--has-errors': errors.videoId,\n\t\t\t} ) }\n\t\t\tlabel={ _x( 'Video ID', 'text', 'nelio-ab-testing' ) }\n\t\t\tvalue={ videoId }\n\t\t\thelp={ <ErrorText value={ errors.videoId } /> }\n\t\t\tplaceholder={ _x( 'Video ID', 'text', 'nelio-ab-testing' ) }\n\t\t\tonChange={ ( newVideoId ) =>\n\t\t\t\tsetAttributes( { videoId: newVideoId } )\n\t\t\t}\n\t\t/>\n\n\t\t<ConversionActionScope\n\t\t\tscope={ scope }\n\t\t\tsetScope={ setScope }\n\t\t\terror={ errors._scope }\n\t\t/>\n\t</>\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/video-playback';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'YouTube Video Playback', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts YouTube video playback (starting or ending) as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\n\tattributes: {\n\t\tplatform: 'youtube',\n\t\tevent: 'play',\n\t\tvideoId: '',\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { platform, videoId } = attributes;\n\n\tif ( 'youtube' === platform && ! isYouTubeVideoId( videoId ) ) {\n\t\treturn {\n\t\t\tvideoId: _x(\n\t\t\t\t'Please write a valid YouTube video ID. For instance, the video ID dQw4w9WgXcQ refers to https://youtu.be/dQw4w9WgXcQ',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\tif ( ! videoId ) {\n\t\treturn {\n\t\t\tvideoId: _x(\n\t\t\t\t'Please write a video ID',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\treturn {};\n} //end validate()\n\n// =======\n// HELPERS\n// =======\n\nconst isYouTubeVideoId = ( id: string ) => /[-\\w]{11}/.test( id );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ConversionActionScopeView } from '@nab/components';\nimport type { CAViewProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes: { event, videoId },\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tif ( ! videoId ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ 'play' === event\n\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t'A visitor plays a YouTube video.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t  )\n\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t'A visitor reaches the end of a YouTube video.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t  ) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\tswitch ( event ) {\n\t\tcase 'play':\n\t\t\treturn interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: video id, such as “dQw4w9WgXcQ” */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor plays the YouTube video %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ videoId }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} );\n\n\t\tcase 'end':\n\t\t\treturn interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: video id, such as “dQw4w9WgXcQ” */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'A visitor reaches the end of the YouTube video %s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{code}}${ videoId }{{/code}}`\n\t\t\t\t),\n\t\t\t\tcomponents: { code: <code /> },\n\t\t\t} );\n\t} //end switch\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport { useSelect } from '@safe-wordpress/data';\nimport {\n\tBaseControl,\n\tToggleControl,\n\tExternalLink,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport {\n\tConversionActionScope,\n\tErrorText,\n\tPostSearcher,\n} from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { CAEditProps, ProductId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: { anyProduct, productId },\n\tscope,\n\terrors,\n\tsetAttributes,\n\tsetScope,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst instanceId = useInstanceId( Edit );\n\treturn (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Track conversion if a specific product is added to the shopping cart.',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tchecked={ ! anyProduct }\n\t\t\t\tonChange={ () => setAttributes( { anyProduct: ! anyProduct } ) }\n\t\t\t/>\n\n\t\t\t{ ! anyProduct && (\n\t\t\t\t<BaseControl\n\t\t\t\t\tid={ `nab-conversion-action__wc-order-${ instanceId }` }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'nab-conversion-action__field--has-errors':\n\t\t\t\t\t\t\terrors.productId,\n\t\t\t\t\t} ) }\n\t\t\t\t\tlabel={ <Label productId={ productId } /> }\n\t\t\t\t\thelp={ <ErrorText value={ errors.productId } /> }\n\t\t\t\t>\n\t\t\t\t\t<PostSearcher\n\t\t\t\t\t\tid={ `nab-conversion-action__wc-order-${ instanceId }` }\n\t\t\t\t\t\ttype=\"product\"\n\t\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\t\tvalue={ productId }\n\t\t\t\t\t\tonChange={ ( newProductId ) =>\n\t\t\t\t\t\t\tsetAttributes( { productId: newProductId } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BaseControl>\n\t\t\t) }\n\n\t\t\t<ConversionActionScope\n\t\t\t\tscope={ scope }\n\t\t\t\tsetScope={ setScope }\n\t\t\t\terror={ errors._scope }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst Label = ( { productId }: { productId: ProductId } ) => {\n\tconst permalink = useProductPermalink( productId );\n\n\tif ( ! permalink ) {\n\t\treturn <span>{ _x( 'Product', 'text', 'nelio-ab-testing' ) }</span>;\n\t} //end if\n\n\treturn (\n\t\t<span>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: _x(\n\t\t\t\t\t'Product ({{a}}View{{/a}})',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tcomponents: { a: <ExternalLink href={ permalink } /> },\n\t\t\t} ) }\n\t\t</span>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useProductPermalink = ( productId: ProductId ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( 'product', productId )?.link\n\t);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes } from './types';\n\nexport const name = 'nab/wc-add-to-cart';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'Add WooCommerce product to cart', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts adding a product to the shopping cart in WooCommerce as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\tisActive: ( select ) =>\n\t\tselect( NAB_DATA )\n\t\t\t.getActivePlugins()\n\t\t\t.includes( 'woocommerce/woocommerce.php' ),\n\n\tattributes: {\n\t\tanyProduct: false,\n\t\tproductId: 0,\n\t},\n\n\tscope: { type: 'test-scope' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes: Partial< Attributes >\n\t): ConversionAction< Attributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattributes: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { anyProduct, productId } = attributes;\n\n\tif ( ! anyProduct && ! productId ) {\n\t\treturn {\n\t\t\tproductId: _x(\n\t\t\t\t'Please select a product',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t};\n\t} //end if\n\n\treturn {};\n} //end validate()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { ConversionActionScopeView } from '@nab/components';\nimport type { CAViewProps, ProductId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from './types';\n\nexport const View = ( props: CAViewProps< Attributes > ): JSX.Element => (\n\t<>\n\t\t<div>\n\t\t\t<ActualView { ...props } />\n\t\t</div>\n\t\t<ConversionActionScopeView scope={ props.scope } />\n\t</>\n);\n\nconst ActualView = ( {\n\tattributes: { anyProduct, productId },\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tconst productTitle = useProductTitle( productId );\n\n\tif ( anyProduct ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Any product is added to the shopping cart.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\tif ( ! productTitle ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ _x(\n\t\t\t\t\t'A specific product is added to the shopping cart.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: the name of a product */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'The product %s is added to the shopping cart.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tsprintf( '{{strong}}%s{{/strong}}', productTitle )\n\t\t\t\t),\n\t\t\t\tcomponents: { strong: <strong /> },\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useProductTitle = ( productId: ProductId ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( 'product', productId )?.title\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport { useSelect } from '@safe-wordpress/data';\nimport {\n\tBaseControl,\n\tToggleControl,\n\tExternalLink,\n} from '@safe-wordpress/components';\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { useEffect } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ErrorText, PostSearcher } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type {\n\tAllProducts,\n\tCAEditProps,\n\tProductId,\n\tProductSelection,\n\tSomeProducts,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { modernize } from './helpers';\nimport type { Attributes } from './types';\n\nexport const Edit = ( {\n\tattributes: attrs,\n\tsetAttributes: setAttrs,\n\terrors,\n}: CAEditProps< Attributes > ): JSX.Element => {\n\tconst instanceId = useInstanceId( Edit );\n\n\tconst { value: attributes } = modernize( attrs );\n\tconst productId =\n\t\tattributes.type === 'some-products' &&\n\t\tattributes.value.type === 'product-ids'\n\t\t\t? attributes.value.productIds[ 0 ] || 0\n\t\t\t: 0;\n\n\tconst setAttributes = ( value: ProductSelection ): void =>\n\t\tsetAttrs( {\n\t\t\ttype: 'product-selection',\n\t\t\tvalue,\n\t\t} );\n\n\tuseEffect( () => {\n\t\tif ( attrs.type === 'product-selection' ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tsetAttributes( attributes );\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Track conversion if the order contains a specific product.',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tchecked={ attributes.type === 'some-products' }\n\t\t\t\tonChange={ ( any ) =>\n\t\t\t\t\tsetAttributes( any ? SOME_PRODUCTS : ALL_PRODUCTS )\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t{ attributes.type === 'some-products' &&\n\t\t\t\tattributes.value.type === 'product-ids' && (\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\tid={ `nab-conversion-action__wc-add-to-cart-${ instanceId }` }\n\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t'nab-conversion-action__field--has-errors':\n\t\t\t\t\t\t\t\terrors.type,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\tlabel={ <Label productId={ productId } /> }\n\t\t\t\t\t\thelp={ <ErrorText value={ errors.type } /> }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSearcher\n\t\t\t\t\t\t\tid={ `nab-conversion-action__wc-add-to-cart-${ instanceId }` }\n\t\t\t\t\t\t\ttype=\"product\"\n\t\t\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\t\t\tvalue={ productId }\n\t\t\t\t\t\t\tonChange={ ( newProductId ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\ttype: 'some-products',\n\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\ttype: 'product-ids',\n\t\t\t\t\t\t\t\t\t\tmode: 'and',\n\t\t\t\t\t\t\t\t\t\tproductIds: newProductId\n\t\t\t\t\t\t\t\t\t\t\t? [ newProductId ]\n\t\t\t\t\t\t\t\t\t\t\t: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst Label = ( { productId }: { productId: ProductId } ) => {\n\tconst permalink = useProductPermalink( productId );\n\n\tif ( ! permalink ) {\n\t\treturn <span>{ _x( 'Product', 'text', 'nelio-ab-testing' ) }</span>;\n\t} //end if\n\n\treturn (\n\t\t<span>\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: _x(\n\t\t\t\t\t'Product ({{a}}View{{/a}})',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tcomponents: { a: <ExternalLink href={ permalink } /> },\n\t\t\t} ) }\n\t\t</span>\n\t);\n};\n\n// =========\n// CONSTANTS\n// =========\n\nconst ALL_PRODUCTS: AllProducts = {\n\ttype: 'all-products',\n};\n\nconst SOME_PRODUCTS: SomeProducts = {\n\ttype: 'some-products',\n\tvalue: {\n\t\ttype: 'product-ids',\n\t\tmode: 'and',\n\t\tproductIds: [],\n\t},\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useProductPermalink = ( productId: ProductId ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getEntityRecord( 'product', productId )?.link\n\t);\n","/**\n * Internal dependencies\n */\nimport type { Attributes, NewAttributes } from './types';\n\nexport const modernize = ( attrs: Attributes ): NewAttributes => {\n\tif ( isNewAttributes( attrs ) ) {\n\t\treturn attrs;\n\t} //end if\n\n\tconst { anyProduct } = attrs;\n\tif ( anyProduct ) {\n\t\treturn {\n\t\t\ttype: 'product-selection',\n\t\t\tvalue: { type: 'all-products' },\n\t\t};\n\t} //end if\n\n\tconst { productId } = attrs;\n\tconst productIds = productId ? [ productId ] : [];\n\treturn {\n\t\ttype: 'product-selection',\n\t\tvalue: {\n\t\t\ttype: 'some-products',\n\t\t\tvalue: {\n\t\t\t\ttype: 'product-ids',\n\t\t\t\tmode: 'and',\n\t\t\t\tproductIds,\n\t\t\t},\n\t\t},\n\t};\n};\n\n// =======\n// HELPERS\n// =======\n\nconst isNewAttributes = ( attrs: Attributes ): attrs is NewAttributes =>\n\tattrs.type === 'product-selection' && ! hasProductIdWhenItShouldnt( attrs );\n\nconst hasProductIdWhenItShouldnt = (\n\tattrs: Record< string, unknown >\n): boolean => !! attrs.productId;\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ConversionAction, ConversionActionType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Edit as edit } from './edit';\nimport { View as view } from './view';\nimport { validate } from './validate';\n\nimport type { Attributes, NewAttributes } from './types';\n\nexport const name = 'nab/wc-order';\n\nexport const settings: ConversionActionType< Attributes > = {\n\tname,\n\ttitle: _x( 'WooCommerce Purchase', 'text', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Counts a WooCommerce purchase as a conversion.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tvalidate,\n\tisActive: ( select ) =>\n\t\tselect( NAB_DATA )\n\t\t\t.getActivePlugins()\n\t\t\t.includes( 'woocommerce/woocommerce.php' ),\n\n\tattributes: {\n\t\ttype: 'product-selection',\n\t\tvalue: { type: 'all-products' },\n\t},\n\n\tscope: { type: 'php-function' },\n\n\tedit,\n\tview,\n};\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ndeclare module '@nab/conversion-actions' {\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n\tfunction createConversionAction(\n\t\tactionType: typeof name,\n\t\tattributes?: Partial< NewAttributes >\n\t): ConversionAction< NewAttributes >;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { modernize } from './helpers';\nimport type { Attributes } from './types';\n\nexport function validate(\n\tattrs: Attributes\n): Partial< Record< keyof Attributes, string > > {\n\tconst { value: attributes } = modernize( attrs );\n\n\tif ( attributes.type === 'all-products' ) {\n\t\treturn {};\n\t} //end if\n\n\tconst selection = attributes.value;\n\tswitch ( selection.type ) {\n\t\tcase 'product-ids':\n\t\t\treturn selection.productIds.length\n\t\t\t\t? {}\n\t\t\t\t: {\n\t\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t\t'Please select a product',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t  };\n\n\t\tcase 'product-taxonomies': {\n\t\t\tconst taxonomies = selection.value;\n\t\t\tif ( ! taxonomies.length ) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t'Please select one or more taxonomies',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t} //end if\n\n\t\t\treturn taxonomies.every( ( t ) => !! t.termIds.length )\n\t\t\t\t? {}\n\t\t\t\t: {\n\t\t\t\t\t\ttype: _x(\n\t\t\t\t\t\t\t'Please select one or more terms in all your taxonomies',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t  };\n\t\t}\n\t} //end switch\n} //end validate()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\nimport { store as coreStore } from '@safe-wordpress/core-data';\nconst CORE = coreStore?.name ?? 'core';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { find, map, trim, reverse } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { hasHead, isSingleton, listify } from '@nab/utils';\nimport type {\n\tCAViewProps,\n\tOrderStatusName,\n\tMaybe,\n\tProductId,\n\tSelectedProductIds,\n\tSelectedProductTaxonomies,\n\tSelectedProductTerms,\n\tSomeProducts,\n\tTaxonomyName,\n\tTermId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { modernize } from './helpers';\nimport type { Attributes } from './types';\n\nexport const View = ( {\n\tattributes,\n\t...props\n}: CAViewProps< Attributes > ): JSX.Element => {\n\tconst { value: selection } = modernize( attributes );\n\tconst { orderStatusForConversion = 'wc-completed' } = props.goal;\n\n\tswitch ( selection.type ) {\n\t\tcase 'all-products':\n\t\t\treturn <AllProductsView status={ orderStatusForConversion } />;\n\n\t\tcase 'some-products':\n\t\t\treturn (\n\t\t\t\t<SomeProductsView\n\t\t\t\t\tselection={ selection.value }\n\t\t\t\t\tstatus={ orderStatusForConversion }\n\t\t\t\t/>\n\t\t\t);\n\t} //end switch\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\ntype HelperViewProps< T = unknown > = {\n\treadonly selection: T;\n\treadonly status: OrderStatusName;\n};\n\nconst AllProductsView = ( {\n\tstatus,\n}: Pick< HelperViewProps, 'status' > ): JSX.Element => {\n\tconst statusName = useStatusName( status );\n\n\tif ( status === 'wc-completed' ) {\n\t\treturn (\n\t\t\t<>{ _x( 'An order is completed.', 'text', 'nelio-ab-testing' ) }</>\n\t\t);\n\t} //end if\n\n\treturn beautify(\n\t\tsprintf(\n\t\t\t/* translators: woocommerce order status */\n\t\t\t_x(\n\t\t\t\t'The status of an order is set to %s.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t\tem( statusName )\n\t\t)\n\t);\n};\n\nconst SomeProductsView = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SomeProducts[ 'value' ] > ): JSX.Element => {\n\tswitch ( selection.type ) {\n\t\tcase 'product-ids':\n\t\t\treturn <ProductList selection={ selection } status={ status } />;\n\n\t\tcase 'product-taxonomies':\n\t\t\treturn (\n\t\t\t\t<ProductTaxonomies selection={ selection } status={ status } />\n\t\t\t);\n\t} //end switch\n};\n\nconst ProductList = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SelectedProductIds > ): JSX.Element => {\n\tconst { productIds, mode, excluded = false } = selection;\n\n\tconst statusName = em( useStatusName( status ) );\n\tconst productNames = map( useProductNames( productIds ), strong );\n\n\tswitch ( productNames.length ) {\n\t\tcase 0:\n\t\t\treturn beautify( sprintf( ORDER_STATUS, statusName ) );\n\n\t\tcase 1:\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded\n\t\t\t\t\t\t? PRODUCT_LABELS.singleExcluded\n\t\t\t\t\t\t: PRODUCT_LABELS.singleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tproductNames[ 0 ]\n\t\t\t\t)\n\t\t\t);\n\n\t\tdefault:\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded\n\t\t\t\t\t\t? PRODUCT_LABELS.multipleExcluded\n\t\t\t\t\t\t: PRODUCT_LABELS.multipleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tlistify( mode, productNames )\n\t\t\t\t)\n\t\t\t);\n\t} //end switch\n};\n\nconst ProductTaxonomies = ( {\n\tselection,\n\tstatus,\n}: HelperViewProps< SelectedProductTaxonomies > ): JSX.Element => {\n\tconst statusName = em( useStatusName( status ) );\n\tconst value = selection.value.filter( ( t ) => !! t.termIds.length );\n\n\tconst cat = find( value, { taxonomy: 'product_cat' } );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst catNames = map( useTermNames( cat?.taxonomy, cat?.termIds ), strong );\n\n\tconst tag = find( value, { taxonomy: 'product_tag' } );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst tagNames = map( useTermNames( tag?.taxonomy, tag?.termIds ), strong );\n\n\tif ( ! hasHead( value ) ) {\n\t\treturn beautify( sprintf( ORDER_STATUS, statusName ) );\n\t} //end if\n\n\tif ( isSingleton( value ) && ( cat || tag ) ) {\n\t\tconst terms = catNames || tagNames || [];\n\t\tconst mode = cat?.mode || tag?.mode || 'or';\n\t\tconst excluded = !! cat?.excluded || !! tag?.excluded || false;\n\t\tconst labels = cat ? CATEGORY_LABELS : TAG_LABELS;\n\n\t\tif ( isSingleton( terms ) ) {\n\t\t\treturn beautify(\n\t\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\tsprintf(\n\t\t\t\t\texcluded ? labels.singleExcluded : labels.singleIncluded,\n\t\t\t\t\tstatusName,\n\t\t\t\t\tterms[ 0 ]\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\treturn beautify(\n\t\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\tsprintf(\n\t\t\t\texcluded ? labels.multipleExcluded : labels.multipleIncluded,\n\t\t\t\tstatusName,\n\t\t\t\tlistify( mode, terms )\n\t\t\t)\n\t\t);\n\t\t//end if\n\t} //end if\n\n\tconst isTwoTaxonomies = 2 === value.length;\n\tif ( isTwoTaxonomies && cat && tag ) {\n\t\treturn beautify(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */\n\t\t\t\t_x(\n\t\t\t\t\t'The status of an order is set to %1$s and said order has at least one product in category %2$s and is tagged as %3$s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tstatusName,\n\t\t\t\tlistify( cat.mode, catNames ),\n\t\t\t\tlistify( tag.mode, tagNames )\n\t\t\t)\n\t\t);\n\t} //end if\n\n\tconst [ last, ...rest ] = reverse( value );\n\tconst init = reverse( rest );\n\treturn (\n\t\t<>\n\t\t\t{ beautify(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: woocommerce order status */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'The status of an order is set to %s and said order has at least one product that',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tstatusName\n\t\t\t\t)\n\t\t\t) }\n\t\t\t{ init.map( ( t ) => (\n\t\t\t\t<>\n\t\t\t\t\t<ProductTaxonomyTerms\n\t\t\t\t\t\tkey={ t.taxonomy }\n\t\t\t\t\t\tselection={ t }\n\t\t\t\t\t\tstatus={ status }\n\t\t\t\t\t/>\n\t\t\t\t\t{ init.length === 1 ? '' : '; ' }\n\t\t\t\t</>\n\t\t\t) ) }\n\t\t\t{ isSingleton( value ) ? '' : AND_PLUS }\n\t\t\t<ProductTaxonomyTerms selection={ last } status={ status } />\n\t\t\t{ '.' }\n\t\t</>\n\t);\n};\n\nconst ProductTaxonomyTerms = ( {\n\tselection,\n}: HelperViewProps< SelectedProductTerms > ): JSX.Element => {\n\tconst { taxonomy, mode, termIds, excluded } = selection;\n\n\tconst taxonomyName = em( useTaxonomyName( taxonomy ) );\n\tconst termNames = map( useTermNames( taxonomy, termIds ), strong );\n\n\treturn beautify(\n\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\tsprintf(\n\t\t\texcluded ? TERM_LABELS.excluded : TERM_LABELS.included,\n\t\t\ttaxonomyName,\n\t\t\tlistify( mode, termNames )\n\t\t)\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst beautify = ( text: string ): JSX.Element =>\n\tinterpolateComponents( {\n\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\tmixedString: text,\n\t\tcomponents: { em: <em />, strong: <strong /> },\n\t} );\n\nconst em = ( t: string ): string => `{{em}}${ t }{{/em}}`;\n\nconst strong = ( t: string ): string => `{{strong}}${ t }{{/strong}}`;\n\nconst el = document.createElement( 'div' );\nconst formatTermName = ( n: string ): string => {\n\tel.innerHTML = n;\n\treturn el.textContent ?? n;\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useStatusName = ( status: OrderStatusName ): string =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tfind(\n\t\t\t\tselect( NAB_DATA ).getECommerceSetting(\n\t\t\t\t\t'woocommerce',\n\t\t\t\t\t'orderStatuses'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tvalue: status,\n\t\t\t\t}\n\t\t\t)?.label ?? status\n\t);\n\nconst useProductNames = ( productIds: ReadonlyArray< ProductId > ) =>\n\tuseSelect( ( select ) =>\n\t\tproductIds.map(\n\t\t\t( productId ) =>\n\t\t\t\ttrim(\n\t\t\t\t\tselect( NAB_DATA ).getEntityRecord( 'product', productId )\n\t\t\t\t\t\t?.title\n\t\t\t\t) ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: product id */\n\t\t\t\t\t_x( 'Product #%d', 'text', 'nelio-ab-testing' ),\n\t\t\t\t\tproductId\n\t\t\t\t)\n\t\t)\n\t);\n\nconst useTaxonomyName = ( taxonomy: TaxonomyName ) =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( CORE ).getTaxonomy( taxonomy )?.labels.singular_name ??\n\t\t\ttaxonomy\n\t);\n\nconst useTermNames = (\n\ttaxonomy: Maybe< TaxonomyName >,\n\ttermIds: Maybe< ReadonlyArray< TermId > > = []\n) =>\n\tuseSelect( ( select ): ReadonlyArray< string > => {\n\t\tselect( CORE );\n\t\tif ( ! taxonomy || ! termIds ) {\n\t\t\treturn [];\n\t\t} //end if\n\t\treturn termIds.map( ( id ) =>\n\t\t\tformatTermName(\n\t\t\t\tselect( CORE ).getEntityRecord( 'taxonomy', taxonomy, id )\n\t\t\t\t\t?.name || `#${ id }`\n\t\t\t)\n\t\t);\n\t} );\n\n// =========\n// CONSTANTS\n// =========\n\ntype Labels = {\n\treadonly singleExcluded: string;\n\treadonly singleIncluded: string;\n\treadonly multipleExcluded: string;\n\treadonly multipleIncluded: string;\n};\n\n/* translators: woocommerce order status */\nconst ORDER_STATUS = _x(\n\t'The status of an order is set to %s.',\n\t'text',\n\t'nelio-ab-testing'\n);\n\nconst PRODUCT_LABELS: Labels = {\n\t/* translators: 1 -> woocomerce status, 2 -> product name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing product %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> product name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing the product %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of product names */\n\tmultipleExcluded: _x(\n\t\t'The status of an order not containing any of the products %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of product names */\n\tmultipleIncluded: _x(\n\t\t'The status of an order containing products %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst CATEGORY_LABELS: Labels = {\n\t/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing any product in category %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing at least one product in category %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */\n\tmultipleExcluded: _x(\n\t\t'The status of an order not containing any products in categories %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */\n\tmultipleIncluded: _x(\n\t\t'The status of an order containing at least one product in categories %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst TAG_LABELS_AUX = {\n\t/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */\n\tsingleExcluded: _x(\n\t\t'The status of an order not containing any product tagged as %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */\n\tsingleIncluded: _x(\n\t\t'The status of an order containing at least one product tagged as %2$s is set to %1$s.',\n\t\t'text',\n\t\t'nelio-ab-testing'\n\t),\n};\n\nconst TAG_LABELS: Labels = {\n\t...TAG_LABELS_AUX,\n\tmultipleExcluded: TAG_LABELS_AUX.singleExcluded,\n\tmultipleIncluded: TAG_LABELS_AUX.singleIncluded,\n};\n\nconst TERM_LABELS = {\n\tempty: '',\n\t/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */\n\texcluded: _x(\n\t\t'doesn’t have %2$s in taxonomy %1$s',\n\t\t'text (implicit subject: product)',\n\t\t'nelio-ab-testing'\n\t),\n\t/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */\n\tincluded: _x(\n\t\t'has %2$s in taxonomy %1$s',\n\t\t'text (implicit subject: product)',\n\t\t'nelio-ab-testing'\n\t),\n};\n\n// =========\n// CONSTANTS\n// =========\n\nconst AND_PLUS = _x( ', and ', 'text (2+ item list)', 'nelio-ab-testing' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/compose';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/core-data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t} //end if\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t} //end if\n} //end render()\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"conversionActions\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * as conversionActionLibrary from './index';\n"],"names":["React","TextControl","SelectControl","_x","classnames","ConversionActionScope","ErrorText","Edit","_a","_b","attributes","mode","value","scope","errors","setAttributes","setScope","createElement","Fragment","label","options","onChange","newMode","className","help","placeholder","newValue","error","_scope","icon","edit","View","view","validate","name","settings","title","description","type","isRegExpInvalid","isUrlFragmentInvalid","error_1","sprintf","interpolateComponents","ConversionActionScopeView","props","ActualView","__assign","mixedString","concat","components","code","includes","BaseControl","Button","useInstanceId","useDispatch","useSelect","CssSelectorFinder","STORE_NAME","NAB_DATA","usePageAttribute","NAB_EDITOR","experimentId","instanceId","alternatives","useAlternatives","_c","useCssFinder","isCssFinderOpen","openCssFinder","cssFinderUrl","useCssFinderUrl","saveExperiment","textControlId","OPTIONS","id","LABELS","variant","onClick","then","initialUrl","initialValue","onAccept","onClose","select","getAlternatives","finderId","setFinderId","isOpen","open","v","getPluginSetting","homeUrl","getAlternative","control","hasPostAttrs","postType","postId","getEntityRecord","post","link","class","css","Object","keys","map","a","isCssValueInvalid","isIdValueInvalid","isClassValueInvalid","dummy","document","querySelector","e","test","trim","eventName","goalIndex","jsAction","wbr","undefined","sentence","ToggleControl","ExternalLink","useEffect","PostSearcher","attrs","setAttrs","downloadId","downloadIds","checked","any","SOME_DOWNLOADS","ALL_DOWNLOADS","Label","perPage","newDownloadId","permalink","useDownloadPermalink","href","isActive","getActivePlugins","selection","length","taxonomies","every","t","termIds","store","coreStore","CORE","find","reverse","hasHead","isSingleton","listify","__rest","goal","orderStatusForConversion","AllDownloadsView","status","SomeDownloadsView","statusName","useStatusName","beautify","em","DownloadList","DownloadTaxonomies","excluded","downloadNames","useDownloadNames","strong","ORDER_STATUS","DOWNLOAD_LABELS","singleExcluded","singleIncluded","multipleExcluded","multipleIncluded","filter","cat","taxonomy","catNames","useTermNames","tag","tagNames","terms","labels","CATEGORY_LABELS","TAG_LABELS","isTwoTaxonomies","last","rest","slice","init","DownloadTaxonomyTerms","key","AND_PLUS","taxonomyName","useTaxonomyName","termNames","TERM_LABELS","included","text","el","formatTermName","n","innerHTML","textContent","getECommerceSetting","getTaxonomy","singular_name","TAG_LABELS_AUX","empty","sortBy","getNameFieldLabel","isNamedForm","formId","formType","formName","formTypes","useFormTypes","newFormType","newFormName","newFormId","getKindEntities","pt","kind","some","formTitle","useFormTitle","getLabelForUnknownForm","getLabelForKnownForm","registerConversionActionType","click","clickExternalLink","customEvent","downloadPurchase","formSubmission","pageView","productPurchase","productToCart","videoPlayback","registerCoreConversionActions","forEach","conversionAction","EditPostId","EditUrl","enabled","regexes","url","ids","_d","usePostTypes","postTypes","isLoading","currentPostType","setAttributesAndScope","newPostType","newPostId","usePostPermalink","EXCLUDED_POST_TYPES","hasFinishedResolution","hasResolutionFailed","isUrlInvalid","urlError","getUrlError","hasQueryArgs","isMissingProtocol","indexOf","PostIdView","UrlView","postTypeLabel","usePostTypeLabel","postTitle","usePostTitle","knownLabel","unknownLabel","obj","isResultsPage","event","videoId","newEvent","newVideoId","platform","isYouTubeVideoId","anyProduct","productId","newProductId","useProductPermalink","productTitle","useProductTitle","modernize","productIds","SOME_PRODUCTS","ALL_PRODUCTS","isNewAttributes","hasProductIdWhenItShouldnt","AllProductsView","SomeProductsView","ProductList","ProductTaxonomies","productNames","useProductNames","PRODUCT_LABELS","ProductTaxonomyTerms","createRoot","render","legacyRender","element","container","root","conversionActionLibrary"],"sourceRoot":""}