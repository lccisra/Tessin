(()=>{var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";e.r(n);const t=window.wp.element,r=window.wp.i18n,o=window.nab.data,a=window.nab.utils,i=window.wp.apiFetch;var u=e.n(i);const l=window.wp.date,c=window.wp.url;var d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},d.apply(this,arguments)};var s=function(e){var n,t;return!!(null===(n=e.url)||void 0===n?void 0:n.includes("/wp-json/"))||!!(null===(t=e.url)||void 0===t?void 0:t.includes("rest_route"))||!!Object.keys(e).includes("rest_route")};const m=window.wp.components,p=window.nab.components;var f,b=function(e){var n=e.experiment,o=e.alternative,a=y(n,o),i=a[0],u=a[1],l=w(),c=l[0],d=l[1];return t.createElement(t.Fragment,null,t.createElement(m.Button,{className:"page-title-action",onClick:function(){return d(!0)},style:{height:"auto"}},(0,r._x)("Duplicate Control Menu","command","nelio-ab-testing")),t.createElement(p.ConfirmationDialog,{title:(0,r._x)("Duplicate Control Menu?","title","nelio-ab-testing"),text:(0,r._x)("This will overwrite the items in your menu variant using those included in the control menu. Are you sure you want to continue?","user","nelio-ab-testing"),confirmLabel:i?(0,r._x)("Duplicatingâ€¦","text (widgets)","nelio-ab-testing"):(0,r._x)("Duplicate","command","nelio-ab-testing"),isConfirmEnabled:!i,isCancelEnabled:!i,isOpen:c,onCancel:function(){return d(!1)},onConfirm:u}))},w=function(){return(0,o.usePageAttribute)("menus/isConfirmationDialogForMenuDuplicationVisible",!1)},y=function(e,n){var r=(0,o.usePageAttribute)("menus/isDuplicatingMenu",!1),a=r[0],i=r[1];return(0,t.useEffect)((function(){var t,r,o,i;a&&(t={path:(0,c.addQueryArgs)("/nab/v1/menu/duplicate-control",{experiment:e,alternative:n}),method:"PUT"},r=t.url,o=t.path,i=(0,l.format)("YmjHi").substring(0,11)+"0",u()(d(d(d({},t),r&&{url:s(t)?(0,c.addQueryArgs)(r,{nabts:i}):r}),o&&{path:(0,c.addQueryArgs)(o,{nabts:i})}))).finally((function(){window.location.reload()}))}),[a]),[a,function(){return i(!0)}]},v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},v.apply(this,arguments)};window.nab=v(v({},(f=window)&&"object"==typeof f&&"nab"in f?window.nab:{}),{initAlternativeEdition:function(e){var n;(n=document.querySelector("#wpbody-content .wrap .wp-heading-inline"))&&(n.textContent=(0,r._x)("Menu Variant","text","nelio-ab-testing")),Array.from(document.querySelectorAll("#message.updated.notice")).forEach((function(e){var n=(0,r._x)("<strong>Menu variant</strong> has been updated.","text","nelio-ab-testing");e.innerHTML="<p>".concat(n,"</p>")})),Array.from(document.querySelectorAll(".wrap > .page-title-action")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".wrap > .nav-tab-wrapper")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".wrap > .manage-menus")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll("#menu-name, .menu-name-label")).forEach((function(e){return e.style.display="none"})),Array.from(document.querySelectorAll("#nav-menu-footer .delete-action")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".menu-settings")).forEach((function(e){return e.remove()})),function(e){var n,o,i=document.querySelector("#wpbody-content .wrap .wp-heading-inline"),u=document.createElement("span");n=t.createElement(b,{experiment:e.experiment,alternative:e.alternative}),(o=u)&&(t.createRoot?(0,t.createRoot)(o).render(n):(0,t.render)(n,o));var l=document.createElement("a");l.className="page-title-action",l.textContent=(0,r._x)("Back to Test","command","nelio-ab-testing"),l.setAttribute("href",e.links.experimentUrl),i&&((0,a.appendSibling)(l,i),(0,a.appendSibling)(u,i))}(e)}})})();var t=nab="undefined"==typeof nab?{}:nab;for(var r in n)t[r]=n[r];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();