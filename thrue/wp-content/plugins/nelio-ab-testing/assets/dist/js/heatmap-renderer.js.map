{"version":3,"file":"js/heatmap-renderer.js","mappings":"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zR,OAAO,CAACroB,OAAO,CAAE,GAAG,CAAE,GACxBqoB,OAAO,CAAC+d,MAAM,CAAE/d,OAAO,CAACroB,OAAO,CAAE,GAAG,CAAE,GAAG,CAAC,CAAE,GAC5C,EAAE;EAEN,OAAO;IACN6lC,QAAQ,EAAAA,QAAA;IACR/L,MAAM,EAAAA,MAAA;IACNwD,IAAI,EAAAA;GACJ;AACF,CAAC,CAAC;;;;;;;;;;ACrHF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,kCAAkC,gBAAgB;AAClD;AACA;AACA,KAAK;;AAEL;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA,KAAK;;AAEL;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,KAAK;;AAEL;AACA;AACA,yCAAyC,kBAAkB;AAC3D;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,uBAAuB;AACzD;AACA;AACA,KAAK;;AAEL;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,gBAAgB;AAClD;AACA;AACA,KAAK;;AAEL;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;AC/FD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACpBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,WAAW,mBAAO,C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AO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,qDAAY;AAClC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,eAAe,mBAAO,CAAC,uDAA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AAiB;AAC5C,aAAa,mBAAO,CAAC,mDAAW;AAChC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClFA,YAAY,mBAAO,CAAC,iDAAU;AAC9B,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7DA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9CA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3DA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,0BAA0B,mBAAO,CAAC,6EAAwB;AAC1D,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACrBA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,8BAA8B,mBAAO,CAAC,qFAA4B;;AAElE;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,UAAU,mBAAO,CAAC,2CAAO;AACzB,YAAY,mBAAO,CAAC,+CAAS;AAC7B,YAAY,mBAAO,CAAC,iDAAU;AAC9B,yBAAyB,mBAAO,CAAC,2EAAuB;AACxD,8BAA8B,mBAAO,CAAC,qFAA4B;AAClE,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChCA,eAAe,mBAAO,CAAC,uDAAa;AACpC,cAAc,mBAAO,CAAC,qDAAY;AAClC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,cAAc,mBAAO,CAAC,qDAAY;AAClC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,8BAA8B;AACzC,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,aAAa;AACb,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;AChDA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,YAAY,mBAAO,CAAC,+CAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;AAClC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,eAAe,mBAAO,CAAC,uDAAa;AACpC,cAAc,mBAAO,CAAC,qDAAY;AAClC,eAAe,mBAAO,CAAC,qDAAY;AACnC,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,GAAG;AACd,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClDA,eAAe,mBAAO,CAAC,qDAAY;AACnC,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,eAAe,mBAAO,CAAC,uDAAa;AACpC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,sBAAsB,mBAAO,CAAC,qEAAoB;;AAElD;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,cAAc,mBAAO,CAAC,mDAAW;AACjC,YAAY,mBAAO,CAAC,iDAAU;AAC9B,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxCA,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,oBAAoB;AAC/B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3CA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;ACLA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,IAAI;AACJ,CAAC;;AAED;;;;;;;;;;;ACVA,eAAe,mBAAO,CAAC,uDAAa;AACpC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnFA,aAAa,mBAAO,CAAC,mDAAW;AAChC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,SAAS,mBAAO,CAAC,yCAAM;AACvB,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/GA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzFA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F;;;;;;;;;;;ACHA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,yBAAyB,mBAAO,CAAC,2EAAuB;AACxD,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvBA,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,aAAa,mBAAO,CAAC,mDAAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7CA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;AC7BA,eAAe,mBAAO,CAAC,uDAAa;AACpC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,cAAc,mBAAO,CAAC,qDAAY;AAClC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,cAAc,mBAAO,CAAC,qDAAY;AAClC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,cAAc,mBAAO,CAAC,qDAAY;AAClC,eAAe,mBAAO,CAAC,qDAAY;AACnC,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACjBA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;;;;;;;;;;;ACLA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;;AAEA;;;;;;;;;;;;ACLA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,CAAC;;AAED;;;;;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACjBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA,YAAY,QAAQ,IAAI,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,UAAU,mBAAO,CAAC,2CAAO;AACzB,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,mFAAkC;;;;;;;;;;;ACAlC,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB,QAAQ,OAAO,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChCA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA,2BAA2B,gBAAgB,QAAQ,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,OAAO,2BAA2B;AAClC,OAAO;AACP;AACA;AACA;AACA;AACA,IAAI;AACJ,WAAW,OAAO,2BAA2B,SAAS;AACtD;AACA;AACA,WAAW,UAAU,2BAA2B,aAAa;AAC7D;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;ACnCA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B;AAChD,kBAAkB;AAClB;AACA;AACA,oCAAoC,eAAe;AACnD,WAAW,2BAA2B;AACtC;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;AC1CA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACxEA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,sCAAsC;AACjD;AACA,WAAW,UAAU;AACrB,YAAY,QAAQ;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,OAAO,6BAA6B;AACpC,OAAO,6BAA6B;AACpC,OAAO,6BAA6B;AACpC,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9CA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA,6BAA6B;AAC7B,CAAC;;AAED;;;;;;;;;;;ACxBA,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,YAAY,mBAAO,CAAC,iDAAU;AAC9B,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,UAAU;AACvB;AACA;AACA;AACA,OAAO,OAAO,UAAU;AACxB,OAAO,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/DA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA;AACA,cAAc,mBAAO,CAAC,4CAAO;AAC7B,aAAa,8EAAuB;AACpC,iBAAiB,mBAAO,CAAC,oDAAW;AACpC,YAAY,6EAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;AC/JD;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,uGAAuG;AAC1G;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,0BAA0B;AACrC,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ,aAAa,WAAW,KAAK;AAC7B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,eAAe;AACrC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,aAAa;AAClC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,aAAa;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEwL;;;;;;;;;;;ACznBxL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,GAAG;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sDAAsD;AACtD;;AAEA,sBAAsB;AACtB;;AAEA,+BAA+B;AAC/B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC,IAAI;AACtC;;AAEA,8CAA8C;AAC9C;;AAEA,uBAAuB;AACvB;;AAEA,+BAA+B,0CAA0C;AACzE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,WAAW,IAAI;AACrE;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA,sBAAsB,SAAS;AAC/B;AACA,kCAAkC;AAClC;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA,wDAAwD,EAAE;AAC1D;AACA,wCAAwC;AACxC,4BAA4B,IAAI;AAChC;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf,0BAA0B,EAAE;AAC5B;;AAEA;AACA;AACA,wBAAwB,EAAE,iBAAiB;AAC3C;;AAEA;AACA,0BAA0B,EAAE,UAAU;AACtC;;AAEA;AACA;AACA;AACA,qCAAqC,IAAI;AACzC;AACA,gCAAgC,IAAI;AACpC;;AAEA;AACA,gCAAgC,EAAE,gBAAgB,EAAE,GAAG,aAAa,IAAI;AACxE;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA,6DAA6D,EAAE,WAAW,EAAE;AAC5E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,eAAe,IAAI;AACzC;;AAEA;AACA,gCAAgC,EAAE,WAAW,EAAE,yDAAyD,IAAI;AAC5G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE,YAAY,EAAE;AACtC;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA,0CAA0C,MAAM;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,IAAI,IAAI;;AAE7B;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA,sBAAsB;AACtB,yBAAyB,GAAG;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,IAAI;AACtC,gCAAgC,EAAE;AAClC,gCAAgC,IAAI;AACpC;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA,sBAAsB,EAAE;AACxB;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,yCAAyC,EAAE;AAC3C;AACA,uBAAuB,IAAI;AAC3B;AACA,+BAA+B,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA,qCAAqC;AACrC;AACA;AACA,+CAA+C,WAAW,IAAI,IAAI;AAClE;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,kCAAkC,WAAW;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,sBAAsB,QAAQ,IAAI;AAClC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB,IAAI;AAC5B;AACA,wBAAwB,IAAI;AAC5B;AACA,8BAA8B;AAC9B;AACA,+BAA+B;AAC/B;AACA,8BAA8B,IAAI,EAAE;AACpC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,IAAI;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,IAAI,6BAA6B;AACzD,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,sBAAsB;AACtB;AACA,0CAA0C;AAC1C;AACA,4DAA4D,SAAS;AACrE;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY;;AAEjC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,+BAA+B,IAAI,mCAAmC,IAAI;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;A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","sources":["webpack://nab/./assets/src/admin/scripts/heatmap-renderer/lib/webgl-heatmap.js","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/confetti.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/heatmap.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/confetti-colors.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/page.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/store.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/utils.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/scrollmap.ts","webpack://nab/./assets/src/public/tracking/xpath.ts","webpack://nab/./assets/src/public/utils/cookies.ts","webpack://nab/./assets/src/public/utils/helpers/dom-ready.ts","webpack://nab/./assets/src/public/utils/helpers/get-active-experiments.ts","webpack://nab/./assets/src/public/utils/helpers/get-api-url.ts","webpack://nab/./assets/src/public/utils/helpers/get-closest.ts","webpack://nab/./assets/src/public/utils/helpers/get-document-height.ts","webpack://nab/./assets/src/public/utils/helpers/get-session.ts","webpack://nab/./assets/src/public/utils/helpers/head-ready.ts","webpack://nab/./assets/src/public/utils/helpers/index.ts","webpack://nab/./assets/src/public/utils/helpers/internal/does-visitor-participate.ts","webpack://nab/./assets/src/public/utils/helpers/internal/get-settings.ts","webpack://nab/./assets/src/public/utils/helpers/preload-query-args.ts","webpack://nab/./assets/src/public/utils/segmentation/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/browser.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/cookie.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/day-of-week.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/device-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/ip-address.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/language.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/location.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/operating-system.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/query-parameter.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/referring-url.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/time.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/user-login.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/window-width.ts","webpack://nab/./assets/src/public/utils/tracking.ts","webpack://nab/./assets/src/public/utils/url.ts","webpack://nab/./node_modules/charenc/charenc.js","webpack://nab/./node_modules/crypt/crypt.js","webpack://nab/./node_modules/is-buffer/index.js","webpack://nab/./node_modules/lodash/_DataView.js","webpack://nab/./node_modules/lodash/_Hash.js","webpack://nab/./node_modules/lodash/_ListCache.js","webpack://nab/./node_modules/lodash/_Map.js","webpack://nab/./node_modules/lodash/_MapCache.js","webpack://nab/./node_modules/lodash/_Promise.js","webpack://nab/./node_modules/lodash/_Set.js","webpack://nab/./node_modules/lodash/_SetCache.js","webpack://nab/./node_modules/lodash/_Stack.js","webpack://nab/./node_modules/lodash/_Symbol.js","webpack://nab/./node_modules/lodash/_Uint8Array.js","webpack://nab/./node_modules/lodash/_WeakMap.js","webpack://nab/./node_modules/lodash/_apply.js","webpack://nab/./node_modules/lodash/_arrayAggregator.js","webpack://nab/./node_modules/lodash/_arrayFilter.js","webpack://nab/./node_modules/lodash/_arrayLikeKeys.js","webpack://nab/./node_modules/lodash/_arrayMap.js","webpack://nab/./node_modules/lodash/_arrayPush.js","webpack://nab/./node_modules/lodash/_arraySome.js","webpack://nab/./node_modules/lodash/_assignValue.js","webpack://nab/./node_modules/lodash/_assocIndexOf.js","webpack://nab/./node_modules/lodash/_baseAggregator.js","webpack://nab/./node_modules/lodash/_baseAssignValue.js","webpack://nab/./node_modules/lodash/_baseEach.js","webpack://nab/./node_modules/lodash/_baseFlatten.js","webpack://nab/./node_modules/lodash/_baseFor.js","webpack://nab/./node_modules/lodash/_baseForOwn.js","webpack://nab/./node_modules/lodash/_baseGet.js","webpack://nab/./node_modules/lodash/_baseGetAllKeys.js","webpack://nab/./node_modules/lodash/_baseGetTag.js","webpack://nab/./node_modules/lodash/_baseHasIn.js","webpack://nab/./node_modules/lodash/_baseIsArguments.js","webpack://nab/./node_modules/lodash/_baseIsEqual.js","webpack://nab/./node_modules/lodash/_baseIsEqualDeep.js","webpack://nab/./node_modules/lodash/_baseIsMatch.js","webpack://nab/./node_modules/lodash/_baseIsNative.js","webpack://nab/./node_modules/lodash/_baseIsTypedArray.js","webpack://nab/./node_modules/lodash/_baseIteratee.js","webpack://nab/./node_modules/lodash/_baseKeys.js","webpack://nab/./node_modules/lodash/_baseMap.js","webpack://nab/./node_modules/lodash/_baseMatches.js","webpack://nab/./node_modules/lodash/_baseMatchesProperty.js","webpack://nab/./node_modules/lodash/_baseOrderBy.js","webpack://nab/./node_modules/lodash/_basePick.js","webpack://nab/./node_modules/lodash/_basePickBy.js","webpack://nab/./node_modules/lodash/_baseProperty.js","webpack://nab/./node_modules/lodash/_basePropertyDeep.js","webpack://nab/./node_modules/lodash/_baseSet.js","webpack://nab/./node_modules/lodash/_baseSetToString.js","webpack://nab/./node_modules/lodash/_baseSortBy.js","webpack://nab/./node_modules/lodash/_baseTimes.js","webpack://nab/./node_modules/lodash/_baseToString.js","webpack://nab/./node_modules/lodash/_baseTrim.js","webpack://nab/./node_modules/lodash/_baseUnary.js","webpack://nab/./node_modules/lodash/_cacheHas.js","webpack://nab/./node_modules/lodash/_castPath.js","webpack://nab/./node_modules/lodash/_compareAscending.js","webpack://nab/./node_modules/lodash/_compareMultiple.js","webpack://nab/./node_modules/lodash/_coreJsData.js","webpack://nab/./node_modules/lodash/_createAggregator.js","webpack://nab/./node_modules/lodash/_createBaseEach.js","webpack://nab/./node_modules/lodash/_createBaseFor.js","webpack://nab/./node_modules/lodash/_defineProperty.js","webpack://nab/./node_modules/lodash/_equalArrays.js","webpack://nab/./node_modules/lodash/_equalByTag.js","webpack://nab/./node_modules/lodash/_equalObjects.js","webpack://nab/./node_modules/lodash/_flatRest.js","webpack://nab/./node_modules/lodash/_freeGlobal.js","webpack://nab/./node_modules/lodash/_getAllKeys.js","webpack://nab/./node_modules/lodash/_getMapData.js","webpack://nab/./node_modules/lodash/_getMatchData.js","webpack://nab/./node_modules/lodash/_getNative.js","webpack://nab/./node_modules/lodash/_getRawTag.js","webpack://nab/./node_modules/lodash/_getSymbols.js","webpack://nab/./node_modules/lodash/_getTag.js","webpack://nab/./node_modules/lodash/_getValue.js","webpack://nab/./node_modules/lodash/_hasPath.js","webpack://nab/./node_modules/lodash/_hashClear.js","webpack://nab/./node_modules/lodash/_hashDelete.js","webpack://nab/./node_modules/lodash/_hashGet.js","webpack://nab/./node_modules/lodash/_hashHas.js","webpack://nab/./node_modules/lodash/_hashSet.js","webpack://nab/./node_modules/lodash/_isFlattenable.js","webpack://nab/./node_modules/lodash/_isIndex.js","webpack://nab/./node_modules/lodash/_isKey.js","webpack://nab/./node_modules/lodash/_isKeyable.js","webpack://nab/./node_modules/lodash/_isMasked.js","webpack://nab/./node_modules/lodash/_isPrototype.js","webpack://nab/./node_modules/lodash/_isStrictComparable.js","webpack://nab/./node_modules/lodash/_listCacheClear.js","webpack://nab/./node_modules/lodash/_listCacheDelete.js","webpack://nab/./node_modules/lodash/_listCacheGet.js","webpack://nab/./node_modules/lodash/_listCacheHas.js","webpack://nab/./node_modules/lodash/_listCacheSet.js","webpack://nab/./node_modules/lodash/_mapCacheClear.js","webpack://nab/./node_modules/lodash/_mapCacheDelete.js","webpack://nab/./node_modules/lodash/_mapCacheGet.js","webpack://nab/./node_modules/lodash/_mapCacheHas.js","webpack://nab/./node_modules/lodash/_mapCacheSet.js","webpack://nab/./node_modules/lodash/_mapToArray.js","webpack://nab/./node_modules/lodash/_matchesStrictComparable.js","webpack://nab/./node_modules/lodash/_memoizeCapped.js","webpack://nab/./node_modules/lodash/_nativeCreate.js","webpack://nab/./node_modules/lodash/_nativeKeys.js","webpack://nab/./node_modules/lodash/_nodeUtil.js","webpack://nab/./node_modules/lodash/_objectToString.js","webpack://nab/./node_modules/lodash/_overArg.js","webpack://nab/./node_modules/lodash/_overRest.js","webpack://nab/./node_modules/lodash/_root.js","webpack://nab/./node_modules/lodash/_setCacheAdd.js","webpack://nab/./node_modules/lodash/_setCacheHas.js","webpack://nab/./node_modules/lodash/_setToArray.js","webpack://nab/./node_modules/lodash/_setToString.js","webpack://nab/./node_modules/lodash/_shortOut.js","webpack://nab/./node_modules/lodash/_stackClear.js","webpack://nab/./node_modules/lodash/_stackDelete.js","webpack://nab/./node_modules/lodash/_stackGet.js","webpack://nab/./node_modules/lodash/_stackHas.js","webpack://nab/./node_modules/lodash/_stackSet.js","webpack://nab/./node_modules/lodash/_stringToPath.js","webpack://nab/./node_modules/lodash/_toKey.js","webpack://nab/./node_modules/lodash/_toSource.js","webpack://nab/./node_modules/lodash/_trimmedEndIndex.js","webpack://nab/./node_modules/lodash/constant.js","webpack://nab/./node_modules/lodash/debounce.js","webpack://nab/./node_modules/lodash/eq.js","webpack://nab/./node_modules/lodash/first.js","webpack://nab/./node_modules/lodash/flatten.js","webpack://nab/./node_modules/lodash/get.js","webpack://nab/./node_modules/lodash/hasIn.js","webpack://nab/./node_modules/lodash/head.js","webpack://nab/./node_modules/lodash/identity.js","webpack://nab/./node_modules/lodash/isArguments.js","webpack://nab/./node_modules/lodash/isArray.js","webpack://nab/./node_modules/lodash/isArrayLike.js","webpack://nab/./node_modules/lodash/isBuffer.js","webpack://nab/./node_modules/lodash/isFunction.js","webpack://nab/./node_modules/lodash/isLength.js","webpack://nab/./node_modules/lodash/isObject.js","webpack://nab/./node_modules/lodash/isObjectLike.js","webpack://nab/./node_modules/lodash/isSymbol.js","webpack://nab/./node_modules/lodash/isTypedArray.js","webpack://nab/./node_modules/lodash/keyBy.js","webpack://nab/./node_modules/lodash/keys.js","webpack://nab/./node_modules/lodash/last.js","webpack://nab/./node_modules/lodash/mapValues.js","webpack://nab/./node_modules/lodash/memoize.js","webpack://nab/./node_modules/lodash/now.js","webpack://nab/./node_modules/lodash/orderBy.js","webpack://nab/./node_modules/lodash/pick.js","webpack://nab/./node_modules/lodash/property.js","webpack://nab/./node_modules/lodash/stubArray.js","webpack://nab/./node_modules/lodash/stubFalse.js","webpack://nab/./node_modules/lodash/toNumber.js","webpack://nab/./node_modules/lodash/toString.js","webpack://nab/./node_modules/md5/md5.js","webpack://nab/./node_modules/stackblur-canvas/dist/stackblur-es.js","webpack://nab/./node_modules/ua-parser-js/src/ua-parser.js","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/amd options","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/global","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/runtime/node module decorator","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/index.ts"],"sourcesContent":["// Generated by CoffeeScript 1.8.0\nvar Framebuffer,\n\tHeights,\n\tNode,\n\tShader,\n\tTexture,\n\tWebGLHeatmap,\n\tfragmentShaderBlit,\n\tnukeVendorPrefix,\n\ttextureFloatShims,\n\tvertexShaderBlit,\n\t__indexOf =\n\t\t[].indexOf ||\n\t\tfunction ( item ) {\n\t\t\tfor ( var i = 0, l = this.length; i < l; i++ ) {\n\t\t\t\tif ( i in this && this[ i ] === item ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\nnukeVendorPrefix = function () {\n\tvar getExtension, getSupportedExtensions, vendorRe, vendors;\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tvendors = [ 'WEBKIT', 'MOZ', 'MS', 'O' ];\n\t\tvendorRe = /^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/;\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj, match, vendor, _i, _len;\n\t\t\tmatch = name.match( vendorRe );\n\t\t\tif ( match !== null ) {\n\t\t\t\tname = match[ 1 ];\n\t\t\t}\n\t\t\textobj = getExtension.call( this, name );\n\t\t\tif ( extobj === null ) {\n\t\t\t\tfor ( _i = 0, _len = vendors.length; _i < _len; _i++ ) {\n\t\t\t\t\tvendor = vendors[ _i ];\n\t\t\t\t\textobj = getExtension.call( this, vendor + '_' + name );\n\t\t\t\t\tif ( extobj !== null ) {\n\t\t\t\t\t\treturn extobj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\treturn ( WebGLRenderingContext.prototype.getSupportedExtensions = function () {\n\t\t\tvar extension, match, result, supported, _i, _len;\n\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\tresult = [];\n\t\t\tfor ( _i = 0, _len = supported.length; _i < _len; _i++ ) {\n\t\t\t\textension = supported[ _i ];\n\t\t\t\tmatch = extension.match( vendorRe );\n\t\t\t\tif ( match !== null ) {\n\t\t\t\t\textension = match[ 1 ];\n\t\t\t\t}\n\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t} );\n\t}\n};\n\ntextureFloatShims = function () {\n\tvar checkColorBuffer,\n\t\tcheckFloatLinear,\n\t\tcheckSupport,\n\t\tcheckTexture,\n\t\tcreateSourceCanvas,\n\t\tgetExtension,\n\t\tgetSupportedExtensions,\n\t\tname,\n\t\tshimExtensions,\n\t\tshimLookup,\n\t\tunshimExtensions,\n\t\tunshimLookup,\n\t\t_i,\n\t\t_len;\n\tcreateSourceCanvas = function () {\n\t\tvar canvas, ctx, imageData;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tcanvas.width = 2;\n\t\tcanvas.height = 2;\n\t\tctx = canvas.getContext( '2d' );\n\t\timageData = ctx.getImageData( 0, 0, 2, 2 );\n\t\timageData.data.set(\n\t\t\tnew Uint8ClampedArray( [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t] )\n\t\t);\n\t\tctx.putImageData( imageData, 0, 0 );\n\t\treturn canvas;\n\t};\n\tcreateSourceCanvas();\n\tcheckFloatLinear = function ( gl, sourceType ) {\n\t\tvar buffer,\n\t\t\tcleanup,\n\t\t\tfragmentShader,\n\t\t\tframebuffer,\n\t\t\tpositionLoc,\n\t\t\tprogram,\n\t\t\treadBuffer,\n\t\t\tresult,\n\t\t\tsource,\n\t\t\tsourceCanvas,\n\t\t\tsourceLoc,\n\t\t\ttarget,\n\t\t\tvertexShader,\n\t\t\tvertices;\n\t\tprogram = gl.createProgram();\n\t\tvertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\tgl.attachShader( program, vertexShader );\n\t\tgl.shaderSource(\n\t\t\tvertexShader,\n\t\t\t'attribute vec2 position;\\nvoid main(){\\n    gl_Position = vec4(position, 0.0, 1.0);\\n}'\n\t\t);\n\t\tgl.compileShader( vertexShader );\n\t\tif ( ! gl.getShaderParameter( vertexShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( vertexShader );\n\t\t}\n\t\tfragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\tgl.attachShader( program, fragmentShader );\n\t\tgl.shaderSource(\n\t\t\tfragmentShader,\n\t\t\t'uniform sampler2D source;\\nvoid main(){\\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\\n}'\n\t\t);\n\t\tgl.compileShader( fragmentShader );\n\t\tif ( ! gl.getShaderParameter( fragmentShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( fragmentShader );\n\t\t}\n\t\tgl.linkProgram( program );\n\t\tif ( ! gl.getProgramParameter( program, gl.LINK_STATUS ) ) {\n\t\t\tthrow gl.getProgramInfoLog( program );\n\t\t}\n\t\tgl.useProgram( program );\n\t\tcleanup = function () {\n\t\t\tgl.deleteShader( fragmentShader );\n\t\t\tgl.deleteShader( vertexShader );\n\t\t\tgl.deleteProgram( program );\n\t\t\tgl.deleteBuffer( buffer );\n\t\t\tgl.deleteTexture( source );\n\t\t\tgl.deleteTexture( target );\n\t\t\tgl.deleteFramebuffer( framebuffer );\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, null );\n\t\t\tgl.useProgram( null );\n\t\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\t\treturn gl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\t};\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.UNSIGNED_BYTE,\n\t\t\tnull\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tsourceCanvas = createSourceCanvas();\n\t\tsource = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, source );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.RGBA,\n\t\t\tsourceType,\n\t\t\tsourceCanvas\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tvertices = new Float32Array( [\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t-1,\n\t\t] );\n\t\tbuffer = gl.createBuffer();\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\t\tpositionLoc = gl.getAttribLocation( program, 'position' );\n\t\tsourceLoc = gl.getUniformLocation( program, 'source' );\n\t\tgl.enableVertexAttribArray( positionLoc );\n\t\tgl.vertexAttribPointer( positionLoc, 2, gl.FLOAT, false, 0, 0 );\n\t\tgl.uniform1i( sourceLoc, 0 );\n\t\tgl.drawArrays( gl.TRIANGLES, 0, 6 );\n\t\treadBuffer = new Uint8Array( 4 * 4 );\n\t\tgl.readPixels( 0, 0, 2, 2, gl.RGBA, gl.UNSIGNED_BYTE, readBuffer );\n\t\tresult = Math.abs( readBuffer[ 0 ] - 127 ) < 10;\n\t\tcleanup();\n\t\treturn result;\n\t};\n\tcheckTexture = function ( gl, targetType ) {\n\t\tvar target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tif ( gl.getError() === 0 ) {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn true;\n\t\t} else {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn false;\n\t\t}\n\t};\n\tcheckColorBuffer = function ( gl, targetType ) {\n\t\tvar check, framebuffer, target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tcheck = gl.checkFramebufferStatus( gl.FRAMEBUFFER );\n\t\tgl.deleteTexture( target );\n\t\tgl.deleteFramebuffer( framebuffer );\n\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\tif ( check === gl.FRAMEBUFFER_COMPLETE ) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\tshimExtensions = [];\n\tshimLookup = {};\n\tunshimExtensions = [];\n\tcheckSupport = function () {\n\t\tvar canvas,\n\t\t\textobj,\n\t\t\tgl,\n\t\t\thalfFloatExt,\n\t\t\thalfFloatTexturing,\n\t\t\tsingleFloatExt,\n\t\t\tsingleFloatTexturing;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tgl = null;\n\t\ttry {\n\t\t\tgl = canvas.getContext( 'experimental-webgl' );\n\t\t\tif ( gl === null ) {\n\t\t\t\tgl = canvas.getContext( 'webgl' );\n\t\t\t}\n\t\t} catch ( _error ) {}\n\t\tif ( gl != null ) {\n\t\t\tsingleFloatExt = gl.getExtension( 'OES_texture_float' );\n\t\t\tif ( singleFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t\tshimLookup.OES_texture_float = {\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( singleFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t\tshimLookup.WEBGL_color_buffer_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA32F_EXT: 0x8814,\n\t\t\t\t\t\t\tRGB32F_EXT: 0x8815,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t\tshimLookup.OES_texture_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\thalfFloatExt = gl.getExtension( 'OES_texture_half_float' );\n\t\t\tif ( halfFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, 0x8d61 ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t\thalfFloatExt = shimLookup.OES_texture_half_float = {\n\t\t\t\t\t\tHALF_FLOAT_OES: 0x8d61,\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( halfFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'EXT_color_buffer_half_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t\tshimLookup.EXT_color_buffer_half_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA16F_EXT: 0x881a,\n\t\t\t\t\t\t\tRGB16F_EXT: 0x881b,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float_linear' );\n\t\t\t\t\t\treturn ( shimLookup.OES_texture_half_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\treturn shimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tcheckSupport();\n\t\tunshimLookup = {};\n\t\tfor ( _i = 0, _len = unshimExtensions.length; _i < _len; _i++ ) {\n\t\t\tname = unshimExtensions[ _i ];\n\t\t\tunshimLookup[ name ] = true;\n\t\t}\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj;\n\t\t\textobj = shimLookup[ name ];\n\t\t\tif ( extobj === void 0 ) {\n\t\t\t\tif ( unshimLookup[ name ] ) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn getExtension.call( this, name );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\tWebGLRenderingContext.prototype.getSupportedExtensions = function () {\n\t\t\tvar extension, result, supported, _j, _k, _len1, _len2;\n\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = supported.length; _j < _len1; _j++ ) {\n\t\t\t\textension = supported[ _j ];\n\t\t\t\tif ( unshimLookup[ extension ] === void 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _k = 0, _len2 = shimExtensions.length; _k < _len2; _k++ ) {\n\t\t\t\textension = shimExtensions[ _k ];\n\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\treturn ( WebGLRenderingContext.prototype.getFloatExtension = function (\n\t\t\tspec\n\t\t) {\n\t\t\tvar candidate,\n\t\t\t\tcandidates,\n\t\t\t\thalf,\n\t\t\t\thalfFramebuffer,\n\t\t\t\thalfLinear,\n\t\t\t\thalfTexture,\n\t\t\t\ti,\n\t\t\t\timportance,\n\t\t\t\tpreference,\n\t\t\t\tresult,\n\t\t\t\tsingle,\n\t\t\t\tsingleFramebuffer,\n\t\t\t\tsingleLinear,\n\t\t\t\tsingleTexture,\n\t\t\t\tuse,\n\t\t\t\t_j,\n\t\t\t\t_k,\n\t\t\t\t_l,\n\t\t\t\t_len1,\n\t\t\t\t_len2,\n\t\t\t\t_len3,\n\t\t\t\t_len4,\n\t\t\t\t_m,\n\t\t\t\t_ref,\n\t\t\t\t_ref1,\n\t\t\t\t_ref2;\n\t\t\tif ( spec.prefer == null ) {\n\t\t\t\tspec.prefer = [ 'half' ];\n\t\t\t}\n\t\t\tif ( spec.require == null ) {\n\t\t\t\tspec.require = [];\n\t\t\t}\n\t\t\tif ( spec.throws == null ) {\n\t\t\t\tspec.throws = true;\n\t\t\t}\n\t\t\tsingleTexture = this.getExtension( 'OES_texture_float' );\n\t\t\thalfTexture = this.getExtension( 'OES_texture_half_float' );\n\t\t\tsingleFramebuffer = this.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\thalfFramebuffer = this.getExtension(\n\t\t\t\t'EXT_color_buffer_half_float'\n\t\t\t);\n\t\t\tsingleLinear = this.getExtension( 'OES_texture_float_linear' );\n\t\t\thalfLinear = this.getExtension( 'OES_texture_half_float_linear' );\n\t\t\tsingle = {\n\t\t\t\ttexture: singleTexture !== null,\n\t\t\t\tfilterable: singleLinear !== null,\n\t\t\t\trenderable: singleFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'single',\n\t\t\t\thalf: false,\n\t\t\t\tsingle: true,\n\t\t\t\ttype: this.FLOAT,\n\t\t\t};\n\t\t\thalf = {\n\t\t\t\ttexture: halfTexture !== null,\n\t\t\t\tfilterable: halfLinear !== null,\n\t\t\t\trenderable: halfFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'half',\n\t\t\t\thalf: true,\n\t\t\t\tsingle: false,\n\t\t\t\ttype:\n\t\t\t\t\t( _ref =\n\t\t\t\t\t\thalfTexture != null\n\t\t\t\t\t\t\t? halfTexture.HALF_FLOAT_OES\n\t\t\t\t\t\t\t: void 0 ) != null\n\t\t\t\t\t\t? _ref\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tcandidates = [];\n\t\t\tif ( single.texture ) {\n\t\t\t\tcandidates.push( single );\n\t\t\t}\n\t\t\tif ( half.texture ) {\n\t\t\t\tcandidates.push( half );\n\t\t\t}\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = candidates.length; _j < _len1; _j++ ) {\n\t\t\t\tcandidate = candidates[ _j ];\n\t\t\t\tuse = true;\n\t\t\t\t_ref1 = spec.require;\n\t\t\t\tfor ( _k = 0, _len2 = _ref1.length; _k < _len2; _k++ ) {\n\t\t\t\t\tname = _ref1[ _k ];\n\t\t\t\t\tif ( candidate[ name ] === false ) {\n\t\t\t\t\t\tuse = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( use ) {\n\t\t\t\t\tresult.push( candidate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _l = 0, _len3 = result.length; _l < _len3; _l++ ) {\n\t\t\t\tcandidate = result[ _l ];\n\t\t\t\t_ref2 = spec.prefer;\n\t\t\t\tfor ( i = _m = 0, _len4 = _ref2.length; _m < _len4; i = ++_m ) {\n\t\t\t\t\tpreference = _ref2[ i ];\n\t\t\t\t\timportance = Math.pow( 2, spec.prefer.length - i - 1 );\n\t\t\t\t\tif ( candidate[ preference ] ) {\n\t\t\t\t\t\tcandidate.score += importance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.sort( function ( a, b ) {\n\t\t\t\tif ( a.score === b.score ) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if ( a.score < b.score ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if ( a.score > b.score ) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( result.length === 0 ) {\n\t\t\t\tif ( spec.throws ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\t'No floating point texture support that is ' +\n\t\t\t\t\t\tspec.require.join( ', ' )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = result[ 0 ];\n\t\t\t\treturn {\n\t\t\t\t\tfilterable: result.filterable,\n\t\t\t\t\trenderable: result.renderable,\n\t\t\t\t\ttype: result.type,\n\t\t\t\t\tprecision: result.precision,\n\t\t\t\t};\n\t\t\t}\n\t\t} );\n\t}\n};\n\nnukeVendorPrefix();\n\ntextureFloatShims();\n\nShader = ( function () {\n\tfunction Shader( gl, _arg ) {\n\t\tvar fragment, vertex;\n\t\tthis.gl = gl;\n\t\t( vertex = _arg.vertex ), ( fragment = _arg.fragment );\n\t\tthis.program = this.gl.createProgram();\n\t\tthis.vs = this.gl.createShader( this.gl.VERTEX_SHADER );\n\t\tthis.fs = this.gl.createShader( this.gl.FRAGMENT_SHADER );\n\t\tthis.gl.attachShader( this.program, this.vs );\n\t\tthis.gl.attachShader( this.program, this.fs );\n\t\tthis.compileShader( this.vs, vertex );\n\t\tthis.compileShader( this.fs, fragment );\n\t\tthis.link();\n\t\tthis.value_cache = {};\n\t\tthis.uniform_cache = {};\n\t\tthis.attribCache = {};\n\t}\n\n\tShader.prototype.attribLocation = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.attribCache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.attribCache[ name ] = this.gl.getAttribLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.compileShader = function ( shader, source ) {\n\t\tthis.gl.shaderSource( shader, source );\n\t\tthis.gl.compileShader( shader );\n\t\tif ( ! this.gl.getShaderParameter( shader, this.gl.COMPILE_STATUS ) ) {\n\t\t\tthrow 'Shader Compile Error: ' + this.gl.getShaderInfoLog( shader );\n\t\t}\n\t};\n\n\tShader.prototype.link = function () {\n\t\tthis.gl.linkProgram( this.program );\n\t\tif (\n\t\t\t! this.gl.getProgramParameter( this.program, this.gl.LINK_STATUS )\n\t\t) {\n\t\t\tthrow (\n\t\t\t\t'Shader Link Error: ' +\n\t\t\t\tthis.gl.getProgramInfoLog( this.program )\n\t\t\t);\n\t\t}\n\t};\n\n\tShader.prototype.use = function () {\n\t\tthis.gl.useProgram( this.program );\n\t\treturn this;\n\t};\n\n\tShader.prototype.uniformLoc = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.uniform_cache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.uniform_cache[ name ] = this.gl.getUniformLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.int = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1i( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.vec2 = function ( name, a, b ) {\n\t\tvar loc;\n\t\tloc = this.uniformLoc( name );\n\t\tif ( loc ) {\n\t\t\tthis.gl.uniform2f( loc, a, b );\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.float = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1f( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\treturn Shader;\n} )();\n\nFramebuffer = ( function () {\n\tfunction Framebuffer( gl ) {\n\t\tthis.gl = gl;\n\t\tthis.buffer = this.gl.createFramebuffer();\n\t}\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFRamebuffer( this.buffer );\n\t};\n\n\tFramebuffer.prototype.bind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, this.buffer );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.unbind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, null );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.check = function () {\n\t\tvar result;\n\t\tresult = this.gl.checkFramebufferStatus( this.gl.FRAMEBUFFER );\n\t\tswitch ( result ) {\n\t\t\tcase this.gl.FRAMEBUFFER_UNSUPPORTED:\n\t\t\t\tthrow 'Framebuffer is unsupported';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete attachment';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n\t\t\t\tthrow 'Framebuffer incomplete dimensions';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete missing attachment';\n\t\t}\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.color = function ( texture ) {\n\t\tthis.gl.framebufferTexture2D(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.COLOR_ATTACHMENT0,\n\t\t\ttexture.target,\n\t\t\ttexture.handle,\n\t\t\t0\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.depth = function ( buffer ) {\n\t\tthis.gl.framebufferRenderbuffer(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.DEPTH_ATTACHMENT,\n\t\t\tthis.gl.RENDERBUFFER,\n\t\t\tbuffer.id\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFramebuffer( this.buffer );\n\t};\n\n\treturn Framebuffer;\n} )();\n\nTexture = ( function () {\n\tfunction Texture( gl, params ) {\n\t\tvar _ref, _ref1;\n\t\tthis.gl = gl;\n\t\tif ( params == null ) {\n\t\t\tparams = {};\n\t\t}\n\t\tthis.channels = this.gl[\n\t\t\t( ( _ref = params.channels ) != null ? _ref : 'rgba' ).toUpperCase()\n\t\t];\n\t\tif ( typeof params.type === 'number' ) {\n\t\t\tthis.type = params.type;\n\t\t} else {\n\t\t\tthis.type = this.gl[\n\t\t\t\t( ( _ref1 = params.type ) != null\n\t\t\t\t\t? _ref1\n\t\t\t\t\t: 'unsigned_byte'\n\t\t\t\t).toUpperCase()\n\t\t\t];\n\t\t}\n\t\tswitch ( this.channels ) {\n\t\t\tcase this.gl.RGBA:\n\t\t\t\tthis.chancount = 4;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.RGB:\n\t\t\t\tthis.chancount = 3;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.LUMINANCE_ALPHA:\n\t\t\t\tthis.chancount = 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.chancount = 1;\n\t\t}\n\t\tthis.target = this.gl.TEXTURE_2D;\n\t\tthis.handle = this.gl.createTexture();\n\t}\n\n\tTexture.prototype.destroy = function () {\n\t\treturn this.gl.deleteTexture( this.handle );\n\t};\n\n\tTexture.prototype.bind = function ( unit ) {\n\t\tif ( unit == null ) {\n\t\t\tunit = 0;\n\t\t}\n\t\tif ( unit > 15 ) {\n\t\t\tthrow 'Texture unit too large: ' + unit;\n\t\t}\n\t\tthis.gl.activeTexture( this.gl.TEXTURE0 + unit );\n\t\tthis.gl.bindTexture( this.target, this.handle );\n\t\treturn this;\n\t};\n\n\tTexture.prototype.setSize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.width,\n\t\t\tthis.height,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tnull\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.upload = function ( data ) {\n\t\tthis.width = data.width;\n\t\tthis.height = data.height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tdata\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.linear = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.nearest = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.clampToEdge = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.repeat = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\treturn this;\n\t};\n\n\treturn Texture;\n} )();\n\nNode = ( function () {\n\tfunction Node( gl, width, height ) {\n\t\tvar floatExt;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tfloatExt = this.gl.getFloatExtension( {\n\t\t\trequire: [ 'renderable' ],\n\t\t} );\n\t\tthis.texture = new Texture( this.gl, {\n\t\t\ttype: floatExt.type,\n\t\t} )\n\t\t\t.bind( 0 )\n\t\t\t.setSize( this.width, this.height )\n\t\t\t.nearest()\n\t\t\t.clampToEdge();\n\t\tthis.fbo = new Framebuffer( this.gl )\n\t\t\t.bind()\n\t\t\t.color( this.texture )\n\t\t\t.unbind();\n\t}\n\n\tNode.prototype.use = function () {\n\t\treturn this.fbo.bind();\n\t};\n\n\tNode.prototype.bind = function ( unit ) {\n\t\treturn this.texture.bind( unit );\n\t};\n\n\tNode.prototype.end = function () {\n\t\treturn this.fbo.unbind();\n\t};\n\n\tNode.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this.texture.bind( 0 ).setSize( this.width, this.height );\n\t};\n\n\treturn Node;\n} )();\n\nvertexShaderBlit =\n\t'attribute vec4 position;\\nvarying vec2 texcoord;\\nvoid main(){\\n    texcoord = position.xy*0.5+0.5;\\n    gl_Position = position;\\n}';\n\nfragmentShaderBlit =\n\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nuniform sampler2D source;\\nvarying vec2 texcoord;';\n\nHeights = ( function () {\n\tfunction Heights( heatmap, gl, width, height ) {\n\t\tvar i, _i, _ref;\n\t\tthis.heatmap = heatmap;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex:\n\t\t\t\t'attribute vec4 position, intensity;\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nuniform vec2 viewport;\\n\\nvoid main(){\\n    dim = abs(position.zw);\\n    off = position.zw;\\n    vec2 pos = position.xy + position.zw;\\n    vIntensity = intensity.x;\\n    gl_Position = vec4((pos/viewport)*2.0-1.0, 0.0, 1.0);\\n}',\n\t\t\tfragment:\n\t\t\t\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nvoid main(){\\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(off/dim)));\\n    float intensity = falloff*vIntensity;\\n    gl_FragColor = vec4(intensity);\\n}',\n\t\t} );\n\t\tthis.clampShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float low, high;\\nvoid main(){\\n    gl_FragColor = vec4(clamp(texture2D(source, texcoord).rgb, low, high), 1.0);\\n}',\n\t\t} );\n\t\tthis.multiplyShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float value;\\nvoid main(){\\n    gl_FragColor = vec4(texture2D(source, texcoord).rgb*value, 1.0);\\n}',\n\t\t} );\n\t\tthis.blurShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform vec2 viewport;\\nvoid main(){\\n    vec4 result = vec4(0.0);\\n    for(int x=-1; x<=1; x++){\\n        for(int y=-1; y<=1; y++){\\n            vec2 off = vec2(x,y)/viewport;\\n            //float factor = 1.0 - smoothstep(0.0, 1.5, length(off));\\n            float factor = 1.0;\\n            result += vec4(texture2D(source, texcoord+off).rgb*factor, factor);\\n        }\\n    }\\n    gl_FragColor = vec4(result.rgb/result.w, 1.0);\\n}',\n\t\t} );\n\t\tthis.nodeBack = new Node( this.gl, this.width, this.height );\n\t\tthis.nodeFront = new Node( this.gl, this.width, this.height );\n\t\tthis.vertexBuffer = this.gl.createBuffer();\n\t\tthis.vertexSize = 8;\n\t\tthis.maxPointCount = 1024 * 10;\n\t\tthis.vertexBufferData = new Float32Array(\n\t\t\tthis.maxPointCount * this.vertexSize * 6\n\t\t);\n\t\tthis.vertexBufferViews = [];\n\t\tfor (\n\t\t\ti = _i = 0, _ref = this.maxPointCount;\n\t\t\t0 <= _ref ? _i < _ref : _i > _ref;\n\t\t\ti = 0 <= _ref ? ++_i : --_i\n\t\t) {\n\t\t\tthis.vertexBufferViews.push(\n\t\t\t\tnew Float32Array(\n\t\t\t\t\tthis.vertexBufferData.buffer,\n\t\t\t\t\t0,\n\t\t\t\t\ti * this.vertexSize * 6\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tthis.bufferIndex = 0;\n\t\tthis.pointCount = 0;\n\t}\n\n\tHeights.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.nodeBack.resize( this.width, this.height );\n\t\treturn this.nodeFront.resize( this.width, this.height );\n\t};\n\n\tHeights.prototype.update = function () {\n\t\tvar intensityLoc, positionLoc;\n\t\tif ( this.pointCount > 0 ) {\n\t\t\tthis.gl.enable( this.gl.BLEND );\n\t\t\tthis.nodeFront.use();\n\t\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.vertexBuffer );\n\t\t\tthis.gl.bufferData(\n\t\t\t\tthis.gl.ARRAY_BUFFER,\n\t\t\t\tthis.vertexBufferViews[ this.pointCount ],\n\t\t\t\tthis.gl.STREAM_DRAW\n\t\t\t);\n\t\t\tpositionLoc = this.shader.attribLocation( 'position' );\n\t\t\tintensityLoc = this.shader.attribLocation( 'intensity' );\n\t\t\tthis.gl.enableVertexAttribArray( 1 );\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tpositionLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t0 * 4\n\t\t\t);\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tintensityLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t4 * 4\n\t\t\t);\n\t\t\tthis.shader.use().vec2( 'viewport', this.width, this.height );\n\t\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, this.pointCount * 6 );\n\t\t\tthis.gl.disableVertexAttribArray( 1 );\n\t\t\tthis.pointCount = 0;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tthis.nodeFront.end();\n\t\t\treturn this.gl.disable( this.gl.BLEND );\n\t\t}\n\t};\n\n\tHeights.prototype.clear = function () {\n\t\tthis.nodeFront.use();\n\t\tthis.gl.clearColor( 0, 0, 0, 1 );\n\t\tthis.gl.clear( this.gl.COLOR_BUFFER_BIT );\n\t\treturn this.nodeFront.end();\n\t};\n\n\tHeights.prototype.clamp = function ( min, max ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.clampShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.float( 'low', min )\n\t\t\t.float( 'high', max );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.multiply = function ( value ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.multiplyShader.use().int( 'source', 0 ).float( 'value', value );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.blur = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.blurShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.vec2( 'viewport', this.width, this.height );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.swap = function () {\n\t\tvar tmp;\n\t\ttmp = this.nodeFront;\n\t\tthis.nodeFront = this.nodeBack;\n\t\treturn ( this.nodeBack = tmp );\n\t};\n\n\tHeights.prototype.addVertex = function ( x, y, xs, ys, intensity ) {\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = x;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = y;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = xs;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = ys;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\treturn ( this.vertexBufferData[ this.bufferIndex++ ] = intensity );\n\t};\n\n\tHeights.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\tvar s;\n\t\tif ( size == null ) {\n\t\t\tsize = 50;\n\t\t}\n\t\tif ( intensity == null ) {\n\t\t\tintensity = 0.2;\n\t\t}\n\t\tif ( this.pointCount >= this.maxPointCount - 1 ) {\n\t\t\tthis.update();\n\t\t}\n\t\ty = this.height - y;\n\t\ts = size / 2;\n\t\tthis.addVertex( x, y, -s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, +s, intensity );\n\t\treturn ( this.pointCount += 1 );\n\t};\n\n\treturn Heights;\n} )();\n\nWebGLHeatmap = ( function () {\n\tfunction WebGLHeatmap( _arg ) {\n\t\tvar alphaEnd,\n\t\t\talphaRange,\n\t\t\talphaStart,\n\t\t\terror,\n\t\t\tgetColorFun,\n\t\t\tgradientTexture,\n\t\t\timage,\n\t\t\tintensityToAlpha,\n\t\t\toutput,\n\t\t\tquad,\n\t\t\ttextureGradient,\n\t\t\t_ref,\n\t\t\t_ref1;\n\t\t( _ref = _arg != null ? _arg : {} ),\n\t\t\t( this.canvas = _ref.canvas ),\n\t\t\t( this.width = _ref.width ),\n\t\t\t( this.height = _ref.height ),\n\t\t\t( intensityToAlpha = _ref.intensityToAlpha ),\n\t\t\t( gradientTexture = _ref.gradientTexture ),\n\t\t\t( alphaRange = _ref.alphaRange );\n\t\tif ( ! this.canvas ) {\n\t\t\tthis.canvas = document.createElement( 'canvas' );\n\t\t}\n\t\ttry {\n\t\t\tthis.gl = this.canvas.getContext( 'experimental-webgl', {\n\t\t\t\tdepth: false,\n\t\t\t\tantialias: false,\n\t\t\t} );\n\t\t\tif ( this.gl === null ) {\n\t\t\t\tthis.gl = this.canvas.getContext( 'webgl', {\n\t\t\t\t\tdepth: false,\n\t\t\t\t\tantialias: false,\n\t\t\t\t} );\n\t\t\t\tif ( this.gl === null ) {\n\t\t\t\t\tthrow 'WebGL not supported';\n\t\t\t\t}\n\t\t\t}\n\t\t} catch ( _error ) {\n\t\t\terror = _error;\n\t\t\tthrow 'WebGL not supported';\n\t\t}\n\t\tif ( window.WebGLDebugUtils != null ) {\n\t\t\tconsole.log( 'debugging mode' ); // eslint-disable-line\n\t\t\tthis.gl = WebGLDebugUtils.makeDebugContext(\n\t\t\t\tthis.gl,\n\t\t\t\tfunction ( err, funcName, args ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\tWebGLDebugUtils.glEnumToString( err ) +\n\t\t\t\t\t\t' was caused by call to: ' +\n\t\t\t\t\t\tfuncName\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tthis.gl.enableVertexAttribArray( 0 );\n\t\tthis.gl.blendFunc( this.gl.ONE, this.gl.ONE );\n\t\tif ( gradientTexture ) {\n\t\t\ttextureGradient = this.gradientTexture = new Texture( this.gl, {\n\t\t\t\tchannels: 'rgba',\n\t\t\t} )\n\t\t\t\t.bind( 0 )\n\t\t\t\t.setSize( 2, 2 )\n\t\t\t\t.nearest()\n\t\t\t\t.clampToEdge();\n\t\t\tif ( typeof gradientTexture === 'string' ) {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = function () {\n\t\t\t\t\treturn textureGradient.bind().upload( image );\n\t\t\t\t};\n\t\t\t\timage.src = gradientTexture;\n\t\t\t} else {\n\t\t\t\tif ( gradientTexture.width > 0 && gradientTexture.height > 0 ) {\n\t\t\t\t\ttextureGradient.upload( gradientTexture );\n\t\t\t\t} else {\n\t\t\t\t\tgradientTexture.onload = function () {\n\t\t\t\t\t\treturn textureGradient.upload( gradientTexture );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tgetColorFun =\n\t\t\t\t'uniform sampler2D gradientTexture;\\nvec3 getColor(float intensity){\\n    return texture2D(gradientTexture, vec2(intensity, 0.0)).rgb;\\n}';\n\t\t} else {\n\t\t\ttextureGradient = null;\n\t\t\tgetColorFun =\n\t\t\t\t'vec3 getColor(float intensity){\\n    vec3 blue = vec3(0.0, 0.0, 1.0);\\n    vec3 cyan = vec3(0.0, 1.0, 1.0);\\n    vec3 green = vec3(0.0, 1.0, 0.0);\\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\\n    vec3 red = vec3(1.0, 0.0, 0.0);\\n\\n    vec3 color = (\\n        fade(-0.25, 0.25, intensity)*blue +\\n        fade(0.0, 0.5, intensity)*cyan +\\n        fade(0.25, 0.75, intensity)*green +\\n        fade(0.5, 1.0, intensity)*yellow +\\n        smoothstep(0.75, 1.0, intensity)*red\\n    );\\n    return color;\\n}';\n\t\t}\n\t\tif ( intensityToAlpha == null ) {\n\t\t\tintensityToAlpha = true;\n\t\t}\n\t\tif ( intensityToAlpha ) {\n\t\t\t( _ref1 = alphaRange != null ? alphaRange : [ 0, 1 ] ),\n\t\t\t\t( alphaStart = _ref1[ 0 ] ),\n\t\t\t\t( alphaEnd = _ref1[ 1 ] );\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    float alpha = smoothstep(' +\n\t\t\t\talphaStart.toFixed( 8 ) +\n\t\t\t\t', ' +\n\t\t\t\talphaEnd.toFixed( 8 ) +\n\t\t\t\t', intensity);\\n    return vec4(color*alpha, alpha);\\n}';\n\t\t} else {\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    return vec4(color, 1.0);\\n}';\n\t\t}\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t( 'float linstep(float low, float high, float value){\\n    return clamp((value-low)/(high-low), 0.0, 1.0);\\n}\\n\\nfloat fade(float low, float high, float value){\\n    float mid = (low+high)*0.5;\\n    float range = (high-low)*0.5;\\n    float x = 1.0 - clamp(abs(mid-value)/range, 0.0, 1.0);\\n    return smoothstep(0.0, 1.0, x);\\n}\\n\\n' +\n\t\t\t\t\tgetColorFun +\n\t\t\t\t\t'\\n' +\n\t\t\t\t\toutput +\n\t\t\t\t\t'\\n\\nvoid main(){\\n    float intensity = smoothstep(0.0, 1.0, texture2D(source, texcoord).r);\\n    vec3 color = getColor(intensity);\\n    gl_FragColor = alphaFun(color, intensity);\\n}' ),\n\t\t} );\n\t\tif ( this.width == null ) {\n\t\t\tthis.width = this.canvas.offsetWidth || 2;\n\t\t}\n\t\tif ( this.height == null ) {\n\t\t\tthis.height = this.canvas.offsetHeight || 2;\n\t\t}\n\t\tthis.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\t\tthis.gl.viewport( 0, 0, this.width, this.height );\n\t\tthis.quad = this.gl.createBuffer();\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tquad = new Float32Array( [\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t] );\n\t\tthis.gl.bufferData( this.gl.ARRAY_BUFFER, quad, this.gl.STATIC_DRAW );\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, null );\n\t\tthis.heights = new Heights( this, this.gl, this.width, this.height );\n\t}\n\n\tWebGLHeatmap.prototype.adjustSize = function () {\n\t\tvar canvasHeight, canvasWidth;\n\t\tcanvasWidth = this.canvas.offsetWidth || 2;\n\t\tcanvasHeight = this.canvas.offsetHeight || 2;\n\t\tif ( this.width !== canvasWidth || this.height !== canvasHeight ) {\n\t\t\tthis.gl.viewport( 0, 0, canvasWidth, canvasHeight );\n\t\t\tthis.canvas.width = canvasWidth;\n\t\t\tthis.canvas.height = canvasHeight;\n\t\t\tthis.width = canvasWidth;\n\t\t\tthis.height = canvasHeight;\n\t\t\treturn this.heights.resize( this.width, this.height );\n\t\t}\n\t};\n\n\tWebGLHeatmap.prototype.display = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.heights.nodeFront.bind( 0 );\n\t\tif ( this.gradientTexture ) {\n\t\t\tthis.gradientTexture.bind( 1 );\n\t\t}\n\t\tthis.shader.use().int( 'source', 0 ).int( 'gradientTexture', 1 );\n\t\treturn this.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t};\n\n\tWebGLHeatmap.prototype.update = function () {\n\t\treturn this.heights.update();\n\t};\n\n\tWebGLHeatmap.prototype.clear = function () {\n\t\treturn this.heights.clear();\n\t};\n\n\tWebGLHeatmap.prototype.clamp = function ( min, max ) {\n\t\tif ( min == null ) {\n\t\t\tmin = 0;\n\t\t}\n\t\tif ( max == null ) {\n\t\t\tmax = 1;\n\t\t}\n\t\treturn this.heights.clamp( min, max );\n\t};\n\n\tWebGLHeatmap.prototype.multiply = function ( value ) {\n\t\tif ( value == null ) {\n\t\t\tvalue = 0.95;\n\t\t}\n\t\treturn this.heights.multiply( value );\n\t};\n\n\tWebGLHeatmap.prototype.blur = function () {\n\t\treturn this.heights.blur();\n\t};\n\n\tWebGLHeatmap.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\treturn this.heights.addPoint( x, y, size, intensity );\n\t};\n\n\tWebGLHeatmap.prototype.addPoints = function ( items ) {\n\t\tvar item, _i, _len, _results;\n\t\t_results = [];\n\t\tfor ( _i = 0, _len = items.length; _i < _len; _i++ ) {\n\t\t\titem = items[ _i ];\n\t\t\t_results.push(\n\t\t\t\tthis.addPoint( item.x, item.y, item.size, item.intensity )\n\t\t\t);\n\t\t}\n\t\treturn _results;\n\t};\n\n\treturn WebGLHeatmap;\n} )();\n\nexport function createWebGLHeatmap( params ) {\n\treturn new WebGLHeatmap( params );\n}\n","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport keyBy from 'lodash/keyBy';\nimport orderBy from 'lodash/orderBy';\nimport type {\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapFrameAction,\n\tHeatmapLabels,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getClicks, recomputeClickCoordinates } from './internal/store';\nimport { getConfettiColor, getDefaultColor } from './internal/confetti-colors';\nimport {\n\tareResults,\n\tcreateOverlayElement,\n\tgetWordPressData,\n\tmaximizeElement,\n} from './internal/utils';\n\nimport type { Click } from './internal/types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\nconst STATS_REFRESH_DELAY = 100;\n\nconst confetti: {\n\tcanvas?: HTMLCanvasElement;\n\toverlay?: HTMLElement;\n\tstats?: HTMLElement;\n\tstatsTracker?: HTMLElement;\n} = {};\n\nlet actualFilterOptions: Partial<\n\tRecord< ConfettiType, Dict< ConfettiOption > >\n>;\n\nlet visibleClicks: ReadonlyArray< Click > = [];\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'confetti' !== action.mode ) {\n\t\tremoveConfettiFromBody();\n\t\treturn true;\n\t} //end if\n\n\tif ( ! areResults( 'ready' ) ) {\n\t\treturn true;\n\t} //end if\n\n\tswitch ( action.type ) {\n\t\tcase 'recompute-click-coordinates':\n\t\t\trecomputeClickCoordinates();\n\t\t\treturn true;\n\n\t\tcase 'render-results':\n\t\t\trenderResults();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity( action.value );\n\t\t\treturn true;\n\t} //end if\n} //end reactToParentMessages()\n\n// =======\n// HELPERS\n// =======\n\nfunction renderResults() {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! confetti.canvas ) {\n\t\tinitConfetti();\n\t} //end if\n\n\tif ( ! actualFilterOptions ) {\n\t\tinitFilterOptions();\n\t\twpdata\n\t\t\t.dispatch( NAB_DATA )\n\t\t\t.setPageAttribute(\n\t\t\t\t'heatmap/confettiFilterOptions',\n\t\t\t\tactualFilterOptions\n\t\t\t);\n\t} //end if\n\n\tconst { getPageAttribute: get } = wpdata.select( NAB_DATA );\n\tconst activeFilter = get( 'heatmap/activeFilter' ) ?? 'timeToClick';\n\tconst disabledFilterOptions = get( 'heatmap/disabledFilterOptions' ) ?? [];\n\tconst opacity = get( 'heatmap/opacity' ) ?? 80;\n\tupdateVisibleClicks( activeFilter, disabledFilterOptions );\n\tsetOverlayOpacity( opacity );\n\tappendConfettiInBody();\n\trenderConfetti( activeFilter );\n} //end renderResults()\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! confetti.overlay || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\tconfetti.overlay.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeConfettiFromBody() {\n\tif ( document.body === confetti.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.canvas );\n\t} //end if\n\n\tif ( document.body === confetti.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.overlay );\n\t} //end if\n\n\tif ( document.body === confetti.stats?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.stats );\n\t} //end if\n\n\tif ( document.body === confetti.statsTracker?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.statsTracker );\n\t} //end if\n} //end removeConfettiFromBody()\n\nfunction appendConfettiInBody() {\n\tif (\n\t\t! confetti.overlay ||\n\t\t! confetti.canvas ||\n\t\t! confetti.stats ||\n\t\t! confetti.statsTracker\n\t) {\n\t\treturn;\n\t} //end if\n\n\tmaximizeElement( confetti.overlay );\n\tmaximizeElement( confetti.canvas );\n\n\tif ( document.body === confetti.canvas.parentNode ) {\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( confetti.overlay );\n\tdocument.body.appendChild( confetti.canvas );\n\tdocument.body.appendChild( confetti.stats );\n\tdocument.body.appendChild( confetti.statsTracker );\n} //end appendConfettiInBody()\n\nfunction initConfetti() {\n\tconfetti.overlay = createOverlayElement( 'div' );\n\tconfetti.overlay.style.background = '#000';\n\tconfetti.canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\t// Stats.\n\n\tconfetti.stats = createOverlayElement( 'div' );\n\tconfetti.stats.style.height = 'auto';\n\tconfetti.stats.style.borderBottom = '2px dashed #262b2d';\n\tconfetti.stats.style.opacity = '0';\n\tconfetti.stats.style.transition = 'opacity 200ms ease-in-out';\n\n\tconst scrollStatsContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tleft: '1em',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\ttransform: 'translate(0, -50%)',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tconst statsPopularity = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst statsPopularityLabel = document.createTextNode(\n\t\tw.parent.nabI18n.clicksAbove + ' '\n\t);\n\tconst statsPopularityValue = createElement( 'output', {\n\t\tid: 'nab-clicks-above',\n\t} );\n\tstatsPopularityValue.style.color = 'inherit';\n\tstatsPopularityValue.style.display = 'inline';\n\tstatsPopularityValue.style.fontSize = 'inherit';\n\tstatsPopularityValue.style.lineHeight = 'inherit';\n\tstatsPopularityValue.style.margin = '0';\n\tstatsPopularityValue.style.padding = '0';\n\n\tscrollStatsContainer.appendChild( statsPopularity );\n\tstatsPopularity.appendChild( statsPopularityLabel );\n\tstatsPopularity.appendChild( statsPopularityValue );\n\n\t// Stats tracker.\n\tconfetti.statsTracker = createOverlayElement( 'div' );\n\n\t// Event listeners.\n\tconfetti.stats.appendChild( scrollStatsContainer );\n\n\tconfetti.statsTracker.addEventListener( 'mouseenter', () => {\n\t\tif ( confetti.stats ) {\n\t\t\tconfetti.stats.style.opacity = '1';\n\t\t} //end if\n\t} );\n\n\tconfetti.statsTracker.addEventListener( 'mouseleave', () => {\n\t\tif ( confetti.stats ) {\n\t\t\tconfetti.stats.style.opacity = '0';\n\t\t} //end if\n\t} );\n\n\t// Update positon.\n\tconfetti.statsTracker.addEventListener( 'mousemove', ( event ) => {\n\t\tif ( ! confetti.stats ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tconfetti.stats.style.top = `${ Math.max( event.pageY, 0 ) }px`;\n\t} );\n\n\t// Update count.\n\tconfetti.statsTracker.addEventListener(\n\t\t'mousemove',\n\t\tdebounce( ( event: MouseEvent ) => {\n\t\t\tconst clicksEl = document.getElementById( 'nab-clicks-above' );\n\t\t\tif ( ! clicksEl ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\t\t\tconst clicks = visibleClicks.filter(\n\t\t\t\t( click ) =>\n\t\t\t\t\t( click.realCoordinates.desktop?.y ||\n\t\t\t\t\t\tNumber.POSITIVE_INFINITY ) <= event.pageY\n\t\t\t);\n\t\t\tclicksEl.textContent = `${ clicks.length }`;\n\t\t}, STATS_REFRESH_DELAY )\n\t);\n} //end initConfetti()\n\nfunction initFilterOptions() {\n\tconst clicks = getClicks();\n\tactualFilterOptions = getFilterOptions( clicks );\n} //end initFilterOptions()\n\nfunction shouldClickBeRendered(\n\tclick: Click,\n\tactiveFilter: ConfettiType,\n\tdisabledFilterOptions: ReadonlyArray< string >\n) {\n\tlet filterValue = click[ activeFilter ];\n\tif (\n\t\t! Object.keys( actualFilterOptions[ activeFilter ] || {} ).includes(\n\t\t\t`${ filterValue }`\n\t\t)\n\t) {\n\t\tfilterValue = 'other';\n\t} //end if\n\n\treturn ! disabledFilterOptions.includes( `${ filterValue }` );\n} //end shouldClickBeRendered()\n\nexport function getFilterOptions(\n\tclicks: ReadonlyArray< Click >\n): Record< ConfettiType, Dict< ConfettiOption > > {\n\tconst resultsSummary: Record< ConfettiType, Dict< number > > = {\n\t\tcountry: {},\n\t\tdevice: {},\n\t\tos: {},\n\t\tbrowser: {},\n\t\tdayOfWeek: {},\n\t\thourOfDay: {},\n\t\ttimeToClick: {},\n\t\twindowWidth: {},\n\t};\n\n\tclicks.forEach( ( click ) => {\n\t\tresultsSummary.country[ click.country ] =\n\t\t\t( resultsSummary.country[ click.country ] || 0 ) + click.intensity;\n\t\tresultsSummary.device[ click.device ] =\n\t\t\t( resultsSummary.device[ click.device ] || 0 ) + click.intensity;\n\t\tresultsSummary.os[ click.os ] =\n\t\t\t( resultsSummary.os[ click.os ] || 0 ) + click.intensity;\n\t\tresultsSummary.browser[ click.browser ] =\n\t\t\t( resultsSummary.browser[ click.browser ] || 0 ) + click.intensity;\n\t\tresultsSummary.dayOfWeek[ click.dayOfWeek ] =\n\t\t\t( resultsSummary.dayOfWeek[ click.dayOfWeek ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.hourOfDay[ click.hourOfDay ] =\n\t\t\t( resultsSummary.hourOfDay[ click.hourOfDay ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.timeToClick[ click.timeToClick ] =\n\t\t\t( resultsSummary.timeToClick[ click.timeToClick ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.windowWidth[ click.windowWidth ] =\n\t\t\t( resultsSummary.windowWidth[ click.windowWidth ] || 0 ) +\n\t\t\tclick.intensity;\n\t} );\n\n\tconst keys = Object.keys( resultsSummary ) as ReadonlyArray< ConfettiType >;\n\treturn keys.reduce(\n\t\t( memo, key ) => ( {\n\t\t\t...memo,\n\t\t\t[ key ]: processFilter( key, resultsSummary[ key ] ),\n\t\t} ),\n\t\t{} as Record< ConfettiType, Dict< ConfettiOption > >\n\t);\n} //end getFilterOptions()\n\nfunction processFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n): Dict< ConfettiOption > {\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'device':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'os':\n\t\t\treturn sortOsOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\n\t\tcase 'browser': {\n\t\t\treturn sortBrowserOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\t\t}\n\n\t\tcase 'dayOfWeek':\n\t\tcase 'hourOfDay':\n\t\tcase 'timeToClick':\n\t\tcase 'windowWidth':\n\t\t\treturn getFilterOptionsForContinuousFilter( filter, filterOptions );\n\t} //end switch\n} //end processFilterOption()\n\nfunction getFilterOptionsForDiscreteFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n) {\n\tconst orderedOptions = orderBy(\n\t\tObject.keys( filterOptions ).map( ( key ) => ( {\n\t\t\tkey,\n\t\t\tvalue: filterOptions[ key ],\n\t\t} ) ),\n\t\t'value',\n\t\t'desc'\n\t);\n\n\tlet relevantOptions = orderedOptions.splice( 0, 14 );\n\trelevantOptions = orderBy( relevantOptions, 'key' );\n\n\tif ( orderedOptions.length ) {\n\t\trelevantOptions.push( {\n\t\t\tkey: 'other',\n\t\t\tvalue: orderedOptions.reduce(\n\t\t\t\t( total, { value } ) => total + ( value ?? 0 ),\n\t\t\t\t0\n\t\t\t),\n\t\t} );\n\t} //end if\n\n\tlet defaultColor = -1;\n\treturn keyBy(\n\t\trelevantOptions.map(\n\t\t\t( { key, value } ): ConfettiOption => ( {\n\t\t\t\tkey,\n\t\t\t\tlabel: getLabelOfDiscreteFilterOption( filter, key ),\n\t\t\t\tvalue: `${ value ?? '' }`,\n\t\t\t\tcolor:\n\t\t\t\t\tgetConfettiColor( filter, key ) ||\n\t\t\t\t\tgetDefaultColor( ++defaultColor ),\n\t\t\t} )\n\t\t),\n\t\t'key'\n\t);\n} //end getFilterOptionsForDiscreteFilter()\n\nfunction getLabelOfDiscreteFilterOption(\n\tfilter: ConfettiType,\n\tfilterOptionKey: string\n) {\n\tif ( 'other' === filterOptionKey ) {\n\t\treturn w.parent.nabI18n.other;\n\t} //end if\n\n\tswitch ( filter ) {\n\t\tcase 'device':\n\t\t\treturn (\n\t\t\t\t( filterOptionKey[ 0 ]?.toUpperCase() ?? '' ) +\n\t\t\t\tfilterOptionKey.slice( 1 )\n\t\t\t);\n\n\t\tcase 'country':\n\t\tcase 'os':\n\t\tcase 'browser':\n\t\tdefault:\n\t\t\treturn filterOptionKey;\n\t} //end switch\n} //end getLabelOfDiscreteFilterOption()\n\nfunction getFilterOptionsForContinuousFilter(\n\tfilter: 'dayOfWeek' | 'hourOfDay' | 'timeToClick' | 'windowWidth',\n\tfilterOptions: Dict< number >\n) {\n\tconst filterCategories = {\n\t\tdayOfWeek: [\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.sunday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.monday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.tuesday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.wednesday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.thursday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.friday },\n\t\t\t{ label: w.parent.nabI18n.dayOfWeek.saturday },\n\t\t],\n\t\thourOfDay: [\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '12a - 2a' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '2a - 4a' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '4a - 6a' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '6a - 8a' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '8a - 10a' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '10a - 12p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '12p - 2p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '2p - 4p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '4p - 6p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '6p - 8p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '8p - 10p' ] },\n\t\t\t{ label: w.parent.nabI18n.hourOfDay[ '10p - 12a' ] },\n\t\t],\n\t\ttimeToClick: [\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '0 - 2s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '2 - 3s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '3 - 4s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '4 - 5s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '5 - 10s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '10 - 15s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '15 - 20s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '20 - 25s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '25 - 30s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '30 - 60s' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '1 - 2min' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '2 - 3min' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '3 - 5min' ] },\n\t\t\t{ label: w.parent.nabI18n.timeToClick[ '+5min' ] },\n\t\t],\n\t\twindowWidth: [\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '< 300 px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '300 - 600px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '600 - 900px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '900 - 1200px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '1200 - 1500px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '1500 - 1800px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '1800 - 2100px' ] },\n\t\t\t{ label: w.parent.nabI18n.windowWidth[ '+2100px' ] },\n\t\t],\n\t};\n\n\tconst categoriesOfFilter = filterCategories[ filter ].map(\n\t\t( { label }, index ) => ( {\n\t\t\tkey: `${ index }`,\n\t\t\tlabel,\n\t\t\tvalue: filterOptions[ index ] || 0,\n\t\t\tcolor: '',\n\t\t} )\n\t);\n\n\tlet defaultColor = -1;\n\treturn keyBy(\n\t\tcategoriesOfFilter.map(\n\t\t\t( category ): ConfettiOption => ( {\n\t\t\t\t...category,\n\t\t\t\tcolor:\n\t\t\t\t\tgetConfettiColor( filter, category.key ) ||\n\t\t\t\t\tgetDefaultColor( ++defaultColor ),\n\t\t\t} )\n\t\t),\n\t\t'key'\n\t);\n} //end getFilterOptionsForContinuousFilter()\n\nfunction sortOsOptions( options: Dict< ConfettiOption > ) {\n\tconst windows: Dict< string > = {\n\t\t'Windows 10': 'Windows 01',\n\t\t'Windows Phone': 'Windows 02',\n\t\t'Windows 7': 'Windows 03',\n\t\t'Windows Vista': 'Windows 04',\n\t\t'Windows XP': 'Windows 05',\n\t\t'Windows 98': 'Windows 06',\n\t\t'Windows 95': 'Windows 07',\n\t\tWindows: 'Windows 08',\n\t};\n\n\tlet aux = Object.values( options ).map( ( { key, ...option } ) => ( {\n\t\tkey,\n\t\t...option,\n\t\tsorting: windows[ key ] ? windows[ key ] : key,\n\t} ) );\n\taux = orderBy( aux, 'sorting' );\n\n\tconst sortedOptions = aux.map( ( opt ) => ( {\n\t\tkey: opt.key,\n\t\tcolor: opt.color,\n\t\tvalue: opt.value,\n\t\tlabel: opt.label,\n\t} ) );\n\n\treturn keyBy( sortedOptions, 'key' );\n} //end sortOsOptions()\n\nfunction sortBrowserOptions( options: Dict< ConfettiOption > ) {\n\tconst sortedOptions = orderBy( Object.values( options ), 'key' );\n\treturn keyBy( sortedOptions, 'key' );\n} //end sortBrowserOptions()\n\nfunction updateVisibleClicks(\n\tactiveFilter: ConfettiType,\n\tdisabledFilterOptions: ReadonlyArray< string >\n) {\n\tvisibleClicks = getClicks().filter( ( c ) =>\n\t\tshouldClickBeRendered( c, activeFilter, disabledFilterOptions )\n\t);\n} //end updateVisibleClicks()\n\nfunction renderConfetti( activeFilter: ConfettiType ) {\n\tif ( ! confetti.canvas ) {\n\t\treturn;\n\t} //end if\n\n\tconst ctx = confetti.canvas.getContext( '2d' );\n\tif ( ! ctx ) {\n\t\treturn;\n\t} //end if\n\n\tctx.clearRect( 0, 0, confetti.canvas.width, confetti.canvas.height );\n\tctx.lineWidth = 1;\n\tctx.strokeStyle = '#000';\n\n\tvisibleClicks.forEach( ( c ) => renderClick( ctx, c, activeFilter ) );\n} //end renderConfetti()\n\nfunction renderClick(\n\tctx: CanvasRenderingContext2D,\n\tclick: Click,\n\tactiveFilter: ConfettiType\n) {\n\tif ( ! click.realCoordinates || ! click.realCoordinates.desktop ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! click.isVisibleInResolution?.desktop ) {\n\t\treturn;\n\t} //end if\n\n\tconst { x, y } = click.realCoordinates.desktop;\n\tconst options = actualFilterOptions[ activeFilter ] || {};\n\n\tctx.fillStyle =\n\t\toptions[ click[ activeFilter ] ]?.color ||\n\t\tgetConfettiColor( activeFilter, 'other' );\n\tctx.beginPath();\n\tctx.arc( x, y, 6, 0, 2 * Math.PI, true );\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n} //end renderClick()\n\n// TODO. This is duplicated from Scrollmap. Refactor?\nfunction createElement< T extends HTMLElement = HTMLElement >(\n\ttype: string,\n\toptions: Dict & { style?: Dict< string > } = {}\n): T {\n\tconst el = document.createElement( type );\n\n\tconst { id, className, style, ...props } = options;\n\tif ( 'string' === typeof id ) {\n\t\tel.id = id;\n\t} //end if\n\n\tif ( 'string' === typeof className ) {\n\t\tel.className = className;\n\t} //end if\n\n\tif ( 'object' === typeof style ) {\n\t\tObject.keys( style ).forEach( ( k ) => {\n\t\t\t( el as unknown as { style: Dict } ).style[ k ] = style[ k ];\n\t\t} );\n\t} //end if\n\n\tObject.keys( props ).forEach( ( p ) => {\n\t\t( el as unknown as Dict )[ p ] = props[ p ];\n\t} );\n\n\treturn el as T;\n} //end createElement()\n\n// =======\n// GLOBALS\n// =======\n\nconst w = window as unknown as Window & {\n\tparent: {\n\t\tnabI18n: HeatmapLabels;\n\t};\n};\n","/**\n * External dependencies\n */\nimport type { HeatmapFrameAction, HeatmapResolution } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from '../../../public/utils/helpers';\nimport {\n\tgetClicksInResolution,\n\trecomputeClickCoordinates,\n\tstopResultLoading,\n} from './internal/store';\nimport {\n\tareResults,\n\tcreateOverlayElement,\n\tgetDocumentHeight,\n\tgetWordPressData,\n\tmaximizeElement,\n} from './internal/utils';\nimport { WebGLHeatmap, createWebGLHeatmap } from './lib/webgl-heatmap';\nimport type { Click } from './internal/types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\nconst GL_CANVAS_SCALE = 0.25;\nconst HEATMAP_POINT_SIZE = 100;\nconst MAX_SIZE_MULTIPLIER = 2;\nconst MIN_INTENSITY = 0.4;\nconst MAX_INTENSITY = 2;\nconst INTENSITY_RANGE = MAX_INTENSITY - MIN_INTENSITY;\n\ntype Heatmap = {\n\tcanvas: HTMLCanvasElement;\n\tinstance: WebGLHeatmap;\n\toverlay: HTMLElement;\n};\n\ntype ClicksPerSquare = {\n\treadonly columns: number;\n\treadonly value: ReadonlyArray< number >;\n\treadonly height: number;\n\treadonly max: number;\n\treadonly rows: number;\n\treadonly width: number;\n};\n\nconst heatmap: Heatmap = initWebGLHeatmap();\nlet clicksPerSquare: Partial< Record< HeatmapResolution, ClicksPerSquare > > =\n\t{};\n\n// Add overlay on startup.\ndomReady( appendHeatmapInBody );\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'heatmap' !== action.mode ) {\n\t\tremoveHeatmapFromBody();\n\t\treturn true;\n\t} //end if\n\n\tif ( ! areResults( [ 'still-loading', 'ready' ] ) ) {\n\t\treturn true;\n\t} //end if\n\n\tswitch ( action.type ) {\n\t\tcase 'recompute-click-coordinates':\n\t\t\tclicksPerSquare = {};\n\t\t\trecomputeClickCoordinates();\n\t\t\treturn true;\n\n\t\tcase 'stop-result-loading':\n\t\t\tstopResultLoading();\n\t\t\treturn true;\n\n\t\tcase 'render-results':\n\t\t\trefreshHeatmap();\n\t\t\treturn true;\n\n\t\tcase 'update-intensity':\n\t\t\tupdateIntensity();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity( action.value );\n\t\t\treturn true;\n\t} //end if\n} //end reactToParentMessages()\n\nexport function refreshHeatmap(): void {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn;\n\t} //end if\n\n\tresetHeatmap();\n\trenderHeatmap();\n} //end refreshHeatmap();\n\n// =======\n// HELPERS\n// =======\n\nconst updateIntensity = renderHeatmap;\n\nfunction resetHeatmap() {\n\tconst { canvas, instance } = initWebGLHeatmap();\n\tclicksPerSquare = {};\n\tremoveHeatmapFromBody();\n\theatmap.canvas = canvas;\n\theatmap.instance = instance;\n\tappendHeatmapInBody();\n} //end resetHeatmap()\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! heatmap.overlay || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\theatmap.overlay.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeHeatmapFromBody() {\n\tif ( document.body === heatmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.canvas );\n\t} //end if\n\n\tif ( document.body === heatmap.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.overlay );\n\t} //end if\n} //end removeHeatmapFromBody()\n\nfunction appendHeatmapInBody() {\n\tif ( ! heatmap.canvas || ! heatmap.overlay ) {\n\t\treturn;\n\t} //end if\n\n\tif ( document.body === heatmap.canvas.parentNode ) {\n\t\tmaximizeHeatmap();\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( heatmap.overlay );\n\tdocument.body.appendChild( heatmap.canvas );\n\tmaximizeHeatmap();\n} //end appendHeatmapInBody()\n\nfunction maximizeHeatmap() {\n\tif ( ! heatmap.canvas || ! heatmap.instance || ! heatmap.overlay ) {\n\t\treturn;\n\t} //end if\n\n\tmaximizeElement( heatmap.overlay );\n\n\tconst width = document.body.clientWidth * GL_CANVAS_SCALE;\n\tconst height = getDocumentHeight() * GL_CANVAS_SCALE;\n\theatmap.canvas.style.width = `${ width }px`;\n\theatmap.canvas.style.height = `${ height }px`;\n\theatmap.instance.adjustSize( width, height );\n} //end maximizeHeatmap()\n\nfunction initWebGLHeatmap(): Heatmap {\n\tconst overlay = createOverlayElement( 'div' );\n\toverlay.style.background = '#000';\n\toverlay.style.opacity = '0.8';\n\n\tconst canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\tcanvas.style.mixBlendMode = 'screen';\n\tcanvas.style.transform = `scale(${ ( 1 / GL_CANVAS_SCALE ).toFixed( 3 ) })`;\n\tcanvas.style.transformOrigin = '0 0';\n\n\tconst instance = createWebGLHeatmap( {\n\t\tcanvas,\n\t} );\n\treturn { overlay, canvas, instance };\n} //end initWebGLHeatmap()\n\nfunction renderHeatmap() {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t} //end if\n\n\tconst { getPageAttribute: get } = wpdata.select( NAB_DATA );\n\tconst activeResolution = get( 'heatmap/activeResolution' ) ?? 'desktop';\n\tconst heatmapIntensity = get( 'heatmap/intensity' ) ?? 80;\n\tconst opacity = get( 'heatmap/opacity' ) ?? 80;\n\n\tremoveHeatmapFromBody();\n\tsetOverlayOpacity( opacity );\n\tappendHeatmapInBody();\n\n\tconst clicks = getClicksInResolution( activeResolution );\n\tif ( ! clicksPerSquare[ activeResolution ] ) {\n\t\tcomputeClicksPerSquareInResolution( clicks, activeResolution );\n\t} //end if\n\n\tconst cps = clicksPerSquare[ activeResolution ];\n\tif ( ! cps ) {\n\t\treturn;\n\t} //end if\n\n\tconst maxClicksInSquare = cps.max;\n\tconst intensity = heatmapIntensity / 100;\n\n\theatmap.instance.clear();\n\tclicks.forEach( ( click ) =>\n\t\trenderClick( click, maxClicksInSquare, activeResolution )\n\t);\n\theatmap.instance.update();\n\theatmap.instance.multiply( intensity );\n\theatmap.instance.update();\n\theatmap.instance.display();\n} //end renderHeatmap()\n\nfunction renderClick(\n\tclick: Click,\n\tmaxClicksInSquare: number,\n\tresolution: HeatmapResolution\n) {\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! click.isVisibleInResolution[ resolution ] ) {\n\t\treturn;\n\t} //end if\n\n\tconst coords = click.realCoordinates[ resolution ];\n\tif ( ! coords ) {\n\t\treturn;\n\t} //end if\n\n\tconst { x, y } = coords;\n\tconst clicksInSquare = getClicksInSquare( click, resolution );\n\tconst normalizedSquareIntensity =\n\t\t( clicksInSquare / maxClicksInSquare ) * INTENSITY_RANGE +\n\t\tMIN_INTENSITY;\n\tconst clickIntensity = normalizedSquareIntensity / clicksInSquare;\n\n\tconst scale = mapScale(\n\t\tclicksInSquare,\n\t\t0,\n\t\tmaxClicksInSquare,\n\t\tMAX_SIZE_MULTIPLIER,\n\t\t1\n\t);\n\n\theatmap.instance.addPoint(\n\t\tx * GL_CANVAS_SCALE,\n\t\ty * GL_CANVAS_SCALE,\n\t\tscale * HEATMAP_POINT_SIZE * GL_CANVAS_SCALE,\n\t\tclickIntensity\n\t);\n} //end renderClick()\n\nfunction mapScale(\n\tvalue: number,\n\tinputStart: number,\n\tinputEnd: number,\n\toutputStart: number,\n\toutputEnd: number\n) {\n\tconst slope = ( outputEnd - outputStart ) / ( inputEnd - inputStart );\n\treturn outputStart + slope * ( value - inputStart );\n} //end mapScale()\n\nfunction getClicksInSquare(\n\tclick: Click,\n\tresolution: HeatmapResolution\n): number {\n\tconst cps = clicksPerSquare[ resolution ];\n\tconst coords = click.realCoordinates[ resolution ];\n\tif ( ! cps || ! coords ) {\n\t\treturn 1;\n\t} //end if\n\n\tconst { x, y } = coords;\n\tconst { columns, value } = cps;\n\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\tconst index = row * columns + col;\n\tif ( index < 0 && value.length <= index ) {\n\t\treturn 1;\n\t} //end if\n\n\treturn cps.value[ index ] ?? 0;\n} //end getClicksInSquare()\n\nfunction computeClicksPerSquareInResolution(\n\tclicks: ReadonlyArray< Click >,\n\tresolution: HeatmapResolution\n) {\n\tif ( clicksPerSquare[ resolution ] ) {\n\t\treturn;\n\t} //end if\n\n\tconst width = document.body.clientWidth;\n\tconst height = getDocumentHeight();\n\n\tconst NUM_OF_COLS = Math.ceil( width / HEATMAP_POINT_SIZE );\n\tconst NUM_OF_ROWS = Math.ceil( height / HEATMAP_POINT_SIZE );\n\n\tconst data = new Array( NUM_OF_ROWS * NUM_OF_COLS ).fill( 0 );\n\tclicks.forEach( ( click ) => {\n\t\tif ( ! click.isVisibleInResolution[ resolution ] ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst coords = click.realCoordinates[ resolution ];\n\t\tif ( ! coords ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst { x, y } = coords;\n\t\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\t\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\t\tconst index = row * NUM_OF_COLS + col;\n\t\tif ( index < 0 && data.length <= index ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tdata[ index ] += click.intensity;\n\t} );\n\n\tclicksPerSquare[ resolution ] = {\n\t\tcolumns: NUM_OF_COLS,\n\t\tvalue: data,\n\t\theight,\n\t\tmax: Math.max(\n\t\t\t1,\n\t\t\tdata.reduce( ( max, value ) => Math.max( max, value || 0 ) )\n\t\t),\n\t\trows: NUM_OF_ROWS,\n\t\twidth,\n\t};\n} //end computeClicksPerSquareInResolution()\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\nconst DEFAULT_PALETTE: [ string, ...string[] ] = [\n\t'#753966',\n\t'#91628b',\n\t'#5b52f3',\n\t'#4a87d5',\n\t'#42b0ec',\n\t'#4cc3d9',\n\t'#59d1b7',\n\t'#7bc8a4',\n\t'#bfe656',\n\t'#ffc65d',\n\t'#ffb039',\n\t'#f17b45',\n\t'#ef4444',\n\t'#cb0a0a',\n];\n\nexport function getDefaultColor( i: number ): string {\n\treturn (\n\t\tDEFAULT_PALETTE[ i % DEFAULT_PALETTE.length ] || DEFAULT_PALETTE[ 0 ]\n\t);\n} //end getDefaultColor()\n\nexport function getConfettiColor( filter: string, value: 'other' ): string;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string >;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string > {\n\tif ( 'other' === value ) {\n\t\treturn '#ec82b6';\n\t} //end if\n\n\tvalue = `${ value ?? '' }`;\n\tconst num = isNaN( Number.parseInt( value ) )\n\t\t? -1\n\t\t: Number.parseInt( value );\n\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getCountryColor( value );\n\n\t\tcase 'device':\n\t\t\treturn getDeviceColor( value );\n\n\t\tcase 'os':\n\t\t\treturn getOsColor( value );\n\n\t\tcase 'browser':\n\t\t\treturn getBrowserColor( value );\n\n\t\tcase 'dayOfWeek':\n\t\t\treturn getDayOfWeekColor( num );\n\n\t\tcase 'hourOfDay':\n\t\t\treturn getHourOfDayColor( num );\n\n\t\tdefault:\n\t\t\treturn getGenericColor( num );\n\t} //end switch\n} //end getConfettiColor()\n\n// =======\n// HELPERS\n// =======\n\nfunction getCountryColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tAR: '#75aadb',\n\t\tAU: '#008000',\n\t\tBR: '#2dc52d',\n\t\tCA: '#f71818',\n\t\tCN: '#ff0000',\n\t\tFI: '#2008ff',\n\t\tFR: '#0000ff',\n\t\tDE: '#b97575',\n\t\tGR: '#9292da',\n\t\tIS: '#9494c3',\n\t\tIN: '#ffa500',\n\t\tIT: '#007fff',\n\t\tJP: '#e8f48c',\n\t\tNL: '#ff7f00',\n\t\tNZ: '#993333',\n\t\tNO: '#00008b',\n\t\tPT: '#218000',\n\t\tRU: '#3e3e77',\n\t\tES: '#ff0000',\n\t\tGB: '#e64444',\n\t\tUS: '#ec7777',\n\t};\n\treturn palette[ value ];\n} //end getCountryColor()\n\nfunction getDeviceColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tdesktop: '#11a0d2',\n\t\tconsole: '#f17b45',\n\t\tmobile: '#ffc65d',\n\t\ttablet: '#7bc8a4',\n\t\tsmarttv: '#93648d',\n\t\twearable: '#4bc0d6',\n\t\tembedded: '#ec82b6',\n\t};\n\treturn palette[ value ];\n} //end getDeviceColor()\n\nfunction getOsColor( value: string ) {\n\tvalue = `${ value }`;\n\n\tif ( 'Mac OS X' === value ) {\n\t\treturn '#e6e6e6';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows 10' ) ) {\n\t\treturn '#066b96';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows Phone' ) ) {\n\t\treturn '#097cae';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows 7' ) ) {\n\t\treturn '#0a8bc3';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows Vista' ) ) {\n\t\treturn '#049cde';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows XP' ) ) {\n\t\treturn '#35afe4';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows' ) ) {\n\t\treturn '#67c5ef';\n\t} //end if\n\n\tconst others: Record< string, string > = {\n\t\t'Chromium OS': '#63c7c5',\n\t\t'Mac OS': '#c3c3c3',\n\t\tAndroid: '#97e375',\n\t\tDebian: '#ff7185',\n\t\tFuchsia: '#d0608a',\n\t\tLinux: '#5e2c80',\n\t\tMint: '#7aaa65',\n\t\tSUSE: '#84bc91',\n\t\tUbuntu: '#f28b4a',\n\t\tiOS: '#d6d6d6',\n\t};\n\n\treturn others[ value ];\n} //end getOsColor()\n\nfunction getBrowserColor( value: string ) {\n\tconst colors: Record< string, string > = {\n\t\t'Opera Mini': '#ff6060',\n\t\t'Opera Mobi': '#ff9090',\n\t\t'Samsung Browser': '#93648d',\n\t\tChrome: '#7bc8a4',\n\t\tChromium: '#6cbc6d',\n\t\tEdge: '#024b6e',\n\t\tFirefox: '#f28b4a',\n\t\tMozilla: '#f29f79',\n\t\tOpera: '#f24a4a',\n\t\tSafari: '#ffc65d',\n\t\tVivaldi: '#ef6dd2',\n\t};\n\treturn colors[ `${ value }` ];\n} //end getBrowserColor()\n\nfunction getDayOfWeekColor( value: number ) {\n\tconst palette: ReadonlyArray< string > = [\n\t\t'#ec82b6',\n\t\t'#f17b45',\n\t\t'#ffc65d',\n\t\t'#7bc8a4',\n\t\t'#4cc3d9',\n\t\t'#4c8ad9',\n\t\t'#93648d',\n\t\t'#ec82b6',\n\t];\n\treturn palette[ value ];\n} //end getDayOfWeekColor()\n\nfunction getHourOfDayColor( value: number ) {\n\tconst palette = [\n\t\t'#003e6b',\n\t\t'#034d71',\n\t\t'#066b96',\n\t\t'#64c8c6',\n\t\t'#dbeabf',\n\t\t'#e3e075',\n\t\t'#faca5c',\n\t\t'#f28b4a',\n\t\t'#d1618b',\n\t\t'#9a4987',\n\t\t'#5e2c80',\n\t\t'#15205a',\n\t];\n\treturn palette[ value ];\n} //end getHourOfDayColor()\n\nfunction getGenericColor( value: number ) {\n\tconst palette = [\n\t\t'#cb0a0a',\n\t\t'#ef4444',\n\t\t'#f17b45',\n\t\t'#ffb039',\n\t\t'#ffc65d',\n\t\t'#bfe656',\n\t\t'#7bc8a4',\n\t\t'#59d1b7',\n\t\t'#4cc3d9',\n\t\t'#42b0ec',\n\t\t'#4a87d5',\n\t\t'#5b52f3',\n\t\t'#91628b',\n\t\t'#753966',\n\t];\n\treturn palette[ value ];\n} //end getGenericColor()\n","/**\n * Internal dependencies\n */\nimport { getDocumentHeight } from './utils';\nimport { domReady } from '../../../../public/utils/helpers';\n\nconst SCROLL_STEP_IN_PX = 1000;\n\nlet _isPageReady = false;\nexport const isPageReady = (): boolean => _isPageReady;\n\nlet prq: ( () => void )[] = [];\nexport const onPageReady = ( cb: () => void ): void =>\n\tvoid ( isPageReady() ? cb() : prq.push( cb ) );\n\nlet _once = false;\nexport const loadAssets = (): void => {\n\tif ( _once ) {\n\t\treturn;\n\t} //end if\n\t_once = true;\n\tdomReady( () => void doLoadPage() );\n};\n\n// =======\n// HELPERS\n// =======\n\nasync function doLoadPage() {\n\tfetchLazyLoadImages();\n\tawait scanPage();\n\tawait wait( 2000 );\n\tmarkPageAsLoaded();\n} //end doLoadPage()\n\nfunction fetchLazyLoadImages(): void {\n\tconst images = Array.from(\n\t\tdocument.querySelectorAll< HTMLElement >( 'img[data-src]' )\n\t).reverse();\n\timages.forEach( ( img ) => {\n\t\tconst src = img.getAttribute( 'data-src' );\n\t\tif ( src ) {\n\t\t\timg.setAttribute( 'src', src );\n\t\t} //end if\n\t} );\n} //end fetchLazyLoadImages()\n\nasync function scanPage(): Promise< void > {\n\tconst height = getDocumentHeight();\n\n\tfor ( let i = SCROLL_STEP_IN_PX; i < height; i += SCROLL_STEP_IN_PX ) {\n\t\twindow.scrollTo( 0, i );\n\t\tawait wait( 100 );\n\t} //end for\n\n\twindow.scrollTo( 0, 0 );\n} //end scanPage()\n\nfunction wait( ms: number ): Promise< void > {\n\treturn new Promise( ( resolve ) => setTimeout( resolve, ms ) );\n} //end wait()\n\nfunction markPageAsLoaded(): void {\n\t_isPageReady = true;\n\tprq.forEach( ( f ) => f() );\n\tprq = [];\n} //end markPageAsLoaded();\n","/**\n * External dependencies\n */\nimport first from 'lodash/first';\nimport keyBy from 'lodash/keyBy';\nimport last from 'lodash/last';\nimport mapValues from 'lodash/mapValues';\nimport type {\n\tExperiment,\n\tHeatmapLabels,\n\tHeatmapResolution,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { addQueryArgs } from '../../../../public/utils/url';\nimport { getElementByXPath } from '../../../../public/tracking/xpath';\nimport { isPageReady, onPageReady } from './page';\nimport {\n\tgetHours,\n\tgetMinMaxWidthInResolution,\n\tgetWordPressData,\n} from './utils';\nimport { refreshHeatmap } from '../heatmap';\nimport type {\n\tAwsPaginatedResults,\n\tClick,\n\tHeatmapResults,\n\tResultLoadingOptions,\n\tScroll,\n\tWordPressData,\n} from './types';\n\nconst NO_BB: BoundingBox = { top: 0, left: 0, width: 0, height: 0 };\ntype BoundingBox = {\n\treadonly top: number;\n\treadonly left: number;\n\treadonly width: number;\n\treadonly height: number;\n};\n\ntype AlternativeIndex = number;\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\nconst PAGES_TO_REFRESH = 2;\nconst MIN_HOURS_TO_ESTIMATE_PROGRESS = 10;\n\nlet totalHoursRunning = 0;\nlet results: Maybe< HeatmapResults >;\nlet boundingBoxes: Record<\n\tHeatmapResolution,\n\tMaybe< Record< string, BoundingBox > >\n> = {\n\tdesktop: undefined,\n\ttablet: undefined,\n\tsmartphone: undefined,\n};\n\nlet shouldResultLoadingBeStopped = false;\nexport function stopResultLoading(): void {\n\tshouldResultLoadingBeStopped = true;\n} //end stopResultLoading()\n\nlet didLoadResultsRun = false;\nexport async function loadResults(\n\texperiment: Experiment,\n\talternative: AlternativeIndex,\n\toptions: ResultLoadingOptions\n): Promise< void > {\n\tif ( didLoadResultsRun ) {\n\t\treturn;\n\t} //end if\n\tdidLoadResultsRun = true;\n\n\tresults = undefined;\n\tboundingBoxes = {\n\t\tdesktop: undefined,\n\t\ttablet: undefined,\n\t\tsmartphone: undefined,\n\t};\n\tconst { dispatch } = options;\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'loading' } );\n\n\ttry {\n\t\tawait loadResultsInBackground( experiment, alternative, options );\n\t} catch ( e ) {\n\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\tmode: 'error',\n\t\t\trationale: 'promise-failed',\n\t\t} );\n\t} //end try\n} //end loadResults()\n\nexport function getClicks(): HeatmapResults[ 'clicks' ] {\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! boundingBoxes.desktop ) {\n\t\treturn [];\n\t} //end if\n\n\treturn results.clicks;\n} //end getClicks()\n\nexport function getClicksInResolution(\n\tresolution: HeatmapResolution\n): HeatmapResults[ 'clicks' ] {\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! boundingBoxes[ resolution ] || ! results.clicks ) {\n\t\treturn [];\n\t} //end if\n\n\tconst { minWidth, maxWidth } = getMinMaxWidthInResolution( resolution );\n\treturn results.clicks.filter(\n\t\t( { realCoordinates: rc, windowWidthInPx: w } ) =>\n\t\t\tminWidth <= w && w <= maxWidth && !! rc?.[ resolution ]\n\t);\n} //end getClicksInResolution()\n\nexport function getScrolls(): HeatmapResults[ 'scrolls' ] {\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\treturn results.scrolls;\n} //end getScrolls()\n\nexport function recomputeClickCoordinates(): void {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn;\n\t} //end if\n\n\tconst { getPageAttribute } = wpdata.select( NAB_DATA );\n\tconst resolution =\n\t\tgetPageAttribute( 'heatmap/activeResolution' ) ?? 'desktop';\n\tconst mode = getPageAttribute( 'heatmap/activeMode' ) ?? 'heatmap';\n\n\tconst { setPageAttribute } = wpdata.dispatch( NAB_DATA );\n\tsetPageAttribute( 'heatmap/isProcessingData', true );\n\tsetTimeout( () => {\n\t\tboundingBoxes = {\n\t\t\t...boundingBoxes,\n\t\t\t[ resolution ]: undefined,\n\t\t};\n\t\tconst start = new Date().getTime();\n\t\tmutateClickCoordinates( resolution, results?.clicks ?? [] );\n\t\tconst end = new Date().getTime();\n\t\tconst ellapsedMillis = end - start;\n\n\t\tconst atLeastOneSec = Math.max( 0, 1000 - ellapsedMillis );\n\t\tsetTimeout( () => {\n\t\t\tsetPageAttribute( 'heatmap/isProcessingData', false );\n\t\t\tsetPageAttribute( 'heatmap/postMessageProxy', {\n\t\t\t\tplugin: 'nelio-ab-testing',\n\t\t\t\ttype: 'render-results',\n\t\t\t\tmode,\n\t\t\t} );\n\t\t}, 100 + atLeastOneSec );\n\t}, 100 );\n} //end recomputeClickCoordinates()\n\n// =======\n// HELPERS\n// =======\n\nasync function loadResultsInBackground(\n\texperiment: Experiment,\n\talternative: AlternativeIndex,\n\toptions: ResultLoadingOptions\n): Promise< void > {\n\tconst { dispatch } = options;\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\n\tconst baseUrl = `${ options.apiUrl }/site/${ options.siteId }/experiment/${ experiment.id }`;\n\tconst args = {\n\t\talternative,\n\t\tstart: experiment.startDate,\n\t\tend:\n\t\t\texperiment.status === 'finished'\n\t\t\t\t? experiment?.endDate || undefined\n\t\t\t\t: undefined,\n\t\ttz: options.timezone,\n\t};\n\tconst clicksUrl = addQueryArgs( `${ baseUrl }/clicks`, args );\n\tconst scrollsUrl = addQueryArgs( `${ baseUrl }/scrolls`, args );\n\n\tconst now = new Date().toISOString();\n\ttotalHoursRunning = getHours( args.start, args.end ?? now );\n\n\tconst [ clicks, scrolls ] = await Promise.all( [\n\t\tloadFirstResults< Click >( options, clicksUrl ),\n\t\tloadFirstResults< Scroll >( options, scrollsUrl ),\n\t] );\n\n\tresults = { clicks: clicks.data, scrolls: scrolls.data };\n\n\tonPageReady( () => {\n\t\tmutateClickCoordinates( 'desktop', results?.clicks ?? [] );\n\t\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'still-loading' } );\n\t\tupdateStats( options );\n\t\trefreshHeatmap();\n\t} );\n\n\tawait Promise.all( [\n\t\tclicks.page &&\n\t\t\tloadPaginatedResults(\n\t\t\t\t'clicks',\n\t\t\t\toptions,\n\t\t\t\taddQueryArgs( clicksUrl, { page: clicks.page } )\n\t\t\t),\n\t\tscrolls.page &&\n\t\t\tloadPaginatedResults(\n\t\t\t\t'scrolls',\n\t\t\t\toptions,\n\t\t\t\taddQueryArgs( scrollsUrl, { page: scrolls.page } )\n\t\t\t),\n\t] );\n\n\tonPageReady( () => {\n\t\tmutateClickCoordinates( 'desktop', results?.clicks ?? [] );\n\t\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'ready' } );\n\t\tupdateStats( options );\n\t\trefreshHeatmap();\n\t} );\n} //end loadResultsInBackground()\n\nasync function loadFirstResults< T extends Click | Scroll >(\n\toptions: ResultLoadingOptions,\n\turl: string\n): Promise< AwsPaginatedResults< T > > {\n\tconst response = await fetch( url, {\n\t\tmethod: 'GET',\n\t\tcredentials: 'omit',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\tAuthorization: `Bearer ${ options.awsAuthToken }`,\n\t\t},\n\t} );\n\tconst { data: rawData, page } =\n\t\t( await response.json() ) as AwsPaginatedResults< T >;\n\n\tconst data = url.includes( '/clicks' )\n\t\t? beautifyClicks( rawData as ReadonlyArray< Click > )\n\t\t: rawData;\n\n\tif ( url.includes( '/clicks' ) ) {\n\t\tmutateClickCoordinates( 'desktop', data as ReadonlyArray< Click > );\n\t} //end if\n\n\treturn { data: data as ReadonlyArray< T >, page };\n} //end loadFirstResults()\n\nfunction loadPaginatedResults(\n\twhat: 'clicks' | 'scrolls',\n\toptions: ResultLoadingOptions,\n\turl: string\n): Promise< void > {\n\treturn new Promise( ( resolve ) =>\n\t\tloadPage( 1, what, url, options, resolve )\n\t);\n} //end loadPaginatedResults()\n\nfunction loadPage(\n\tinvocation: number,\n\twhat: 'clicks' | 'scrolls',\n\turl: string,\n\toptions: ResultLoadingOptions,\n\tresolve: () => void\n): void {\n\tfetch( url, {\n\t\tmethod: 'GET',\n\t\tcredentials: 'omit',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\tAuthorization: `Bearer ${ options.awsAuthToken }`,\n\t\t},\n\t} )\n\t\t.then< AwsPaginatedResults< HeatmapResults[ typeof what ][ number ] > >(\n\t\t\t( response ) => response.json()\n\t\t)\n\t\t.then(\n\t\t\t( { data, page } ) => {\n\t\t\t\tif ( what === 'clicks' ) {\n\t\t\t\t\tdata = beautifyClicks( data as ReadonlyArray< Click > );\n\t\t\t\t} //end if\n\n\t\t\t\tresults = results ?? { clicks: [], scrolls: [] };\n\t\t\t\tresults = {\n\t\t\t\t\t...results,\n\t\t\t\t\t[ what ]: [ ...results[ what ], ...data ],\n\t\t\t\t};\n\n\t\t\t\tif (\n\t\t\t\t\twhat === 'clicks' &&\n\t\t\t\t\tinvocation % PAGES_TO_REFRESH === 0 &&\n\t\t\t\t\tisPageReady()\n\t\t\t\t) {\n\t\t\t\t\tmutateClickCoordinates( 'desktop', results[ what ] );\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tupdateStats( options );\n\t\t\t\t\t\trefreshHeatmap();\n\t\t\t\t\t}, 0 );\n\t\t\t\t} //end if\n\n\t\t\t\tconst newUrl = addQueryArgs( url, { page } );\n\t\t\t\tif (\n\t\t\t\t\tshouldResultLoadingBeStopped ||\n\t\t\t\t\t! page ||\n\t\t\t\t\turl === newUrl\n\t\t\t\t) {\n\t\t\t\t\treturn resolve();\n\t\t\t\t} //end if\n\n\t\t\t\tloadPage( ++invocation, what, newUrl, options, resolve );\n\t\t\t},\n\t\t\t() => resolve()\n\t\t);\n} // end loadPage()\n\nfunction beautifyClicks(\n\tclicks: ReadonlyArray< Click >\n): ReadonlyArray< Click > {\n\tconst UNKNOWN = w.parent.nabI18n.unknown;\n\treturn clicks.map( ( click ) => ( {\n\t\t...click,\n\t\tbrowser: click.browser || UNKNOWN,\n\t\tcountry: click.country || UNKNOWN,\n\t\tdayOfWeek: getDayOfWeekCategory( click.dayOfWeek ),\n\t\tdevice: click.device || UNKNOWN,\n\t\thourOfDay: getHourOfDayCategory( click.hourOfDay ),\n\t\tintensity: click.intensity || 1,\n\t\tos: click.os || UNKNOWN,\n\t\ttimeToClick: getTimeToClickCategory( click.timeToClick ),\n\t\twindowWidth: getWindowWidthCategory( click.windowWidth ),\n\t\twindowWidthInPx:\n\t\t\t'number' === typeof click.windowWidth\n\t\t\t\t? click.windowWidth\n\t\t\t\t: Number.parseInt( click.windowWidth ) || 0,\n\t\tisVisibleInResolution: {},\n\t\trealCoordinates: {},\n\t} ) );\n} //end beautifyClicks()\n\nfunction updateStats( wpdata: WordPressData ) {\n\tupdateClickCount( wpdata );\n\tupdateProgressEstimate( wpdata );\n} //end updateStats()\n\nfunction updateClickCount( { dispatch }: WordPressData ) {\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/clickCount',\n\t\tresults?.clicks.length || 0\n\t);\n} //end updateClickCount()\n\nfunction updateProgressEstimate( { select, dispatch }: WordPressData ) {\n\tif ( totalHoursRunning < MIN_HOURS_TO_ESTIMATE_PROGRESS ) {\n\t\treturn;\n\t} //end if\n\n\tconst firstClick = first( results?.clicks );\n\tconst lastClick = last( results?.clicks );\n\tif ( ! firstClick?.timestamp || ! lastClick?.timestamp ) {\n\t\treturn;\n\t} //end if\n\n\tconst clickHours = getHours( firstClick.timestamp, lastClick.timestamp );\n\tconst actualProgress = ( 100 * clickHours ) / totalHoursRunning;\n\tconst progress = Math.max( 1, Math.floor( actualProgress ) );\n\n\tconst prevProgress =\n\t\tselect( NAB_DATA ).getPageAttribute( 'heatmap/progress' ) ?? 0;\n\tif ( progress > prevProgress ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute( 'heatmap/progress', progress );\n\t} //end if\n} //end updateProgressEstimate()\n\nfunction mutateClickCoordinates(\n\tresolution: HeatmapResolution,\n\tclicks: ReadonlyArray< Click >\n): void {\n\tif ( ! isPageReady ) {\n\t\treturn;\n\t} //end if\n\n\tconst boxes = computeBoundingBoxes( resolution, clicks );\n\tclicks.forEach( ( click ) => {\n\t\tconst { x, y } = click;\n\t\tconst { top, left, width, height } =\n\t\t\tboxes[ click.xpath || click.cssPath ] || NO_BB;\n\n\t\tconst realX = left + x * width;\n\t\tconst realY = top + y * height;\n\n\t\tclick.realCoordinates = click.realCoordinates || {};\n\t\tclick.realCoordinates[ resolution ] = {\n\t\t\t...( click.realCoordinates[ resolution ] || {} ),\n\t\t\tx: realX,\n\t\t\ty: realY,\n\t\t};\n\n\t\tclick.isVisibleInResolution = click.isVisibleInResolution || {};\n\t\tclick.isVisibleInResolution[ resolution ] = width > 0 && height > 0;\n\t} );\n\n\tboundingBoxes[ resolution ] = boxes;\n} //end mutateClickCoordinates()\n\nconst computeBoundingBoxes = (\n\tresolution: HeatmapResolution,\n\tclicks: ReadonlyArray< Click >\n): Record< string, BoundingBox > =>\n\tmapValues(\n\t\tkeyBy(\n\t\t\tclicks.map( ( c ) => ( {\n\t\t\t\t...c,\n\t\t\t\t_selector: c.xpath || c.cssPath,\n\t\t\t} ) ),\n\t\t\t'_selector'\n\t\t),\n\t\t( click ): BoundingBox => {\n\t\t\tconst selector = click.xpath || click.cssPath;\n\t\t\tif ( ! selector ) {\n\t\t\t\treturn NO_BB;\n\t\t\t} //end if\n\n\t\t\tconst existingBoundingBox =\n\t\t\t\tboundingBoxes[ resolution ]?.[ selector ];\n\t\t\tif ( existingBoundingBox ) {\n\t\t\t\treturn existingBoundingBox;\n\t\t\t} //end if\n\n\t\t\tconst el = getAllSelectors( selector ).reduce( ( r, s ) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn r || click.xpath\n\t\t\t\t\t\t? getElementByXPath( s )\n\t\t\t\t\t\t: document.querySelector( s );\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t}, null as Node | null );\n\n\t\t\tif ( ! isHTMLElement( el ) ) {\n\t\t\t\treturn NO_BB;\n\t\t\t} //end if\n\n\t\t\tconst bodyBox = document.body.getBoundingClientRect();\n\t\t\tconst elBox = el.getBoundingClientRect();\n\t\t\treturn {\n\t\t\t\ttop: elBox.top - bodyBox.top,\n\t\t\t\tleft: elBox.left - bodyBox.left,\n\t\t\t\twidth: elBox.width,\n\t\t\t\theight: elBox.height,\n\t\t\t};\n\t\t}\n\t);\n\nfunction getAllSelectors( selector: string ): ReadonlyArray< string > {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn [ selector ];\n\t} //end if\n\n\tconst { getExperiment, getPageAttribute } = wpdata.select( NAB_DATA );\n\tconst experimentId = getPageAttribute( 'editor/activeExperiment' );\n\tconst experiment = getExperiment( experimentId ?? 0 );\n\tif ( ! experiment ) {\n\t\treturn [ selector ];\n\t} //end if\n\n\tif ( experiment.type === 'nab/heatmap' ) {\n\t\treturn [ selector ];\n\t} //end if\n\n\tconst altIdx = getPageAttribute( 'heatmap/activeAlternative' );\n\tif ( altIdx === 0 ) {\n\t\treturn [ selector ];\n\t} //end if\n\n\tconst control = experiment.alternatives[ 0 ];\n\tconst alternative =\n\t\tundefined !== altIdx ? experiment.alternatives[ altIdx ] : undefined;\n\n\tconst controlPost = control?.attributes.postId;\n\tconst alternativePost = alternative?.attributes.postId;\n\tif ( ! isPostId( controlPost ) || ! isPostId( alternativePost ) ) {\n\t\treturn [ selector ];\n\t} //end if\n\n\treturn [\n\t\tselector,\n\t\tselector.replace(\n\t\t\tnew RegExp( `([\\\\b_])?${ controlPost }([\\\\b_])?`, 'g' ),\n\t\t\t`$1${ alternativePost }$2`\n\t\t),\n\t\tselector.replace(\n\t\t\tnew RegExp( `([\\\\b_])?${ alternativePost }([\\\\b_])?`, 'g' ),\n\t\t\t`$1${ controlPost }$2`\n\t\t),\n\t];\n} //end getAlternativeSelector()\n\nconst isPostId = ( id: unknown ): id is number =>\n\t'number' === typeof id && 0 < id;\n\nfunction getHourOfDayCategory( hourOfDay: string | number ): string {\n\tif ( 'string' === typeof hourOfDay ) {\n\t\thourOfDay = Number.parseInt( hourOfDay );\n\t\tif ( isNaN( hourOfDay ) ) {\n\t\t\thourOfDay = 0;\n\t\t} //end if\n\t} //end if\n\treturn `${ Math.floor( hourOfDay / 2 ) }`;\n} //end getHourOfDayCategory()\n\nfunction getDayOfWeekCategory( dayOfWeek: string | number ): string {\n\treturn `${ dayOfWeek }`;\n} //end getDayOfWeekCategory()\n\nfunction getTimeToClickCategory( timeToClick: string | number ): string {\n\tif ( 'string' === typeof timeToClick ) {\n\t\ttimeToClick = Number.parseInt( timeToClick );\n\t} //end if\n\n\tconst cuts = [ 2, 3, 4, 5, 10, 15, 20, 25, 30, 60, 120, 180, 300 ] as const;\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tconst cut = cuts[ i ];\n\t\tif ( cut && timeToClick <= cut ) {\n\t\t\treturn `${ i }`;\n\t\t} //end if\n\t} //end for\n\n\tconst lastCut = cuts[ cuts.length - 1 ] || 300;\n\treturn `${ lastCut }`;\n} //end getTimeToClickCategory()\n\nfunction getWindowWidthCategory( windowWidth: string | number ): string {\n\tif ( 'string' === typeof windowWidth ) {\n\t\twindowWidth = Number.parseInt( windowWidth );\n\t} //end if\n\n\tconst cuts = [ 300, 600, 900, 1200, 1500, 1800, 2100 ];\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tconst cut = cuts[ i ];\n\t\tif ( cut && windowWidth < cut ) {\n\t\t\treturn `${ i }`;\n\t\t} //end if\n\t} //end for\n\n\tconst lastCut = cuts[ cuts.length - 1 ] || 2100;\n\treturn `${ lastCut }`;\n} //end getWindowWidthCategory()\n\nfunction isHTMLElement( n: Node | null ): n is HTMLElement {\n\treturn !! n && Node.ELEMENT_NODE === n.nodeType;\n} //end isHTMLElement()\n\n// =======\n// GLOBALS\n// =======\n\nconst w = window as unknown as Window & {\n\tparent: {\n\t\tnabI18n: HeatmapLabels;\n\t};\n};\n","/**\n * External dependencies\n */\nimport type {\n\tDims,\n\tHeatmapDataStatus,\n\tHeatmapResolution,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getDocumentHeight as _getDocumentHeight } from '../../../../public/utils/helpers/get-document-height';\nimport type { WordPressData } from './types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\nconst MAX_DESKTOP_HEIGHT = 100_000;\nconst HOUR_IN_MILLIS = 3_600_000;\n\nconst RESOLUTIONS: Record< HeatmapResolution, Dims > = {\n\tdesktop: {\n\t\twidth: 1600,\n\t\theight: 900,\n\t},\n\ttablet: {\n\t\twidth: 1024,\n\t\theight: 576,\n\t},\n\tsmartphone: {\n\t\twidth: 460,\n\t\theight: 818,\n\t},\n};\n\nexport const getHours = ( d1: string, d2: string ): number =>\n\tMath.ceil(\n\t\tMath.abs( new Date( d1 ).getTime() - new Date( d2 ).getTime() ) /\n\t\t\tHOUR_IN_MILLIS\n\t);\n\nexport const getDocumentHeight = (): number => {\n\tconst pairs = Array.from(\n\t\tdocument.querySelectorAll( '.nab-overlay-element' )\n\t)\n\t\t.map( ( el ) => [ el.parentElement, el ] )\n\t\t.filter(\n\t\t\t( pair ): pair is [ HTMLElement, HTMLElement ] => !! pair[ 0 ]\n\t\t);\n\n\tpairs.forEach( ( [ p, c ] ) => p.removeChild( c ) );\n\tconst height = Math.min( _getDocumentHeight(), MAX_DESKTOP_HEIGHT );\n\tpairs.forEach( ( [ p, c ] ) => p.appendChild( c ) );\n\treturn height;\n};\n\nexport const getWordPressData = (): Maybe< WordPressData > =>\n\t// eslint-disable-next-line\n\t( ( window.parent as any )?.wp as any ).data as WordPressData;\n\nexport function areResults(\n\tmode: HeatmapDataStatus[ 'mode' ] | HeatmapDataStatus[ 'mode' ][]\n): boolean {\n\tconst select = getWordPressData()?.select;\n\tif ( ! select ) {\n\t\treturn false;\n\t} //end if\n\n\tconst { getPageAttribute } = select( NAB_DATA );\n\tconst modes = 'string' === typeof mode ? [ mode ] : mode;\n\treturn modes.some(\n\t\t( m ) => m === getPageAttribute( 'heatmap/dataStatus' )?.mode\n\t);\n} //end areResults()\n\nexport function createOverlayElement< T extends HTMLElement = HTMLElement >(\n\ttype: string\n): T {\n\tconst el = document.createElement( type );\n\tel.className = 'nab-overlay-element';\n\tel.style.position = 'absolute';\n\tel.style.left = '0px';\n\tel.style.top = '0px';\n\tel.style.zIndex = '999999';\n\tmaximizeElement( el );\n\n\treturn el as T;\n} //end createOverlayElement()\n\nexport function maximizeElement( el: HTMLElement ): void {\n\tconst width = document.body.clientWidth;\n\tconst height = getDocumentHeight();\n\n\tel.style.width = `${ width }px`;\n\tel.style.height = `${ height }px`;\n\n\tif ( isHTMLCanvas( el ) ) {\n\t\tel.width = width;\n\t\tel.height = height;\n\t} //end if\n} //end maximizeElement()\n\nexport function getMinMaxWidthInResolution(\n\tactiveResolution: HeatmapResolution\n): {\n\treadonly minWidth: number;\n\treadonly maxWidth: number;\n} {\n\tconst expectedWidth = RESOLUTIONS[ activeResolution ].width;\n\tconst cuts = Object.values( RESOLUTIONS ).map( ( { width } ) => width );\n\n\tconst minWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\twidth < expectedWidth ? Math.max( width, memo ) : memo,\n\t\t-1\n\t);\n\n\tlet maxWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\texpectedWidth < width ? Math.min( width, memo ) : memo,\n\t\tNumber.POSITIVE_INFINITY\n\t);\n\tif ( Number.POSITIVE_INFINITY !== maxWidth ) {\n\t\tmaxWidth = expectedWidth;\n\t} //end if\n\n\treturn { minWidth: minWidth + 1, maxWidth };\n} //end getMinMaxWidthInResolution()\n\nconst isHTMLCanvas = ( el: HTMLElement ): el is HTMLCanvasElement =>\n\t'canvas' === el.nodeName.toLowerCase();\n","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport * as StackBlur from 'stackblur-canvas';\nimport type {\n\tDict,\n\tHeatmapFrameAction,\n\tHeatmapLabels,\n\tHeatmapResolution,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getScrolls } from './internal/store';\nimport {\n\tareResults,\n\tcreateOverlayElement,\n\tgetDocumentHeight,\n\tgetMinMaxWidthInResolution,\n\tgetWordPressData,\n\tmaximizeElement,\n} from './internal/utils';\nimport type { Scroll } from './internal/types';\n\nimport { getDocumentHeight as getBodyHeight } from '../../../public/utils/helpers/get-document-height';\n\ntype Scrollmap = {\n\taverageFold?: HTMLElement;\n\tcanvas?: HTMLCanvasElement;\n\tactiveResolution: HeatmapResolution;\n\tdata: Partial< Record< HeatmapResolution, ScrollmapData > >;\n\timages: Record< string, HTMLCanvasElement >;\n\tscrolls?: ReadonlyArray< Scroll >;\n\tstats?: HTMLElement;\n\tstatsTracker?: HTMLElement;\n};\n\ntype ScrollmapData = {\n\treadonly maxHits: number;\n\treadonly rows: ReadonlyArray< number >;\n\treadonly averageFold: number | false;\n};\n\nconst scrollmap: Scrollmap = {\n\tactiveResolution: 'desktop',\n\tdata: {},\n\timages: {},\n};\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\nconst STATS_REFRESH_DELAY = 100;\nconst ROW_HEIGHT = 50;\nconst COLORS = [\n\t'#000000',\n\t'#00031d',\n\t'#00052d',\n\t'#00094f',\n\t'#000c6a',\n\t'#000f7f',\n\t'#0014ac',\n\t'#0017c6',\n\t'#001dff',\n\t'#003dff',\n\t'#0074ff',\n\t'#009cff',\n\t'#00bcff',\n\t'#00d3ff',\n\t'#00ebff',\n\t'#00ffeb',\n\t'#00ffac',\n\t'#00ff74',\n\t'#00ff4d',\n\t'#2aff00',\n\t'#62ff00',\n\t'#91ff00',\n\t'#b1ff00',\n\t'#d1ff00',\n\t'#f8ff00',\n\t'#ffde00',\n\t'#ffbe00',\n\t'#ff9700',\n\t'#ff7700',\n\t'#ff5f00',\n\t'#ff4700',\n\t'#ff0000',\n];\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'scrollmap' !== action.mode ) {\n\t\tremoveScrollmapFromBody();\n\t\treturn true;\n\t} //end if\n\n\tif ( ! areResults( 'ready' ) ) {\n\t\treturn true;\n\t} //end if\n\n\tswitch ( action.type ) {\n\t\tcase 'render-results':\n\t\t\trenderResults();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity( action.value );\n\t\t\treturn true;\n\t} //end if\n} //end reactToParentMessages()\n\n// =======\n// HELPERS\n// =======\n\nfunction renderResults() {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\treturn;\n\t} //end if\n\n\tconst { getPageAttribute: get } = wpdata.select( NAB_DATA );\n\tconst activeResolution = get( 'heatmap/activeResolution' ) ?? 'desktop';\n\tconst opacity = get( 'heatmap/opacity' ) ?? 80;\n\n\tif ( ! scrollmap.scrolls ) {\n\t\tscrollmap.scrolls = getScrolls();\n\t} //end if\n\n\tif ( ! scrollmap.canvas ) {\n\t\tinitScrollmap();\n\t} //end if\n\n\tscrollmap.activeResolution = activeResolution;\n\n\tsetOverlayOpacity( opacity );\n\tappendScrollmapInBody();\n\trenderScrollmap( activeResolution );\n} //end renderResults()\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! scrollmap.canvas || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\tscrollmap.canvas.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeScrollmapFromBody() {\n\tif ( document.body === scrollmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.canvas );\n\t} //end if\n\n\tif ( document.body === scrollmap.stats?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.stats );\n\t} //end if\n\n\tif ( document.body === scrollmap.averageFold?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.averageFold );\n\t} //end if\n\n\tif ( document.body === scrollmap.statsTracker?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.statsTracker );\n\t} //end if\n} //end removeScrollmapFromBody()\n\nfunction appendScrollmapInBody() {\n\tif (\n\t\t! scrollmap.averageFold ||\n\t\t! scrollmap.stats ||\n\t\t! scrollmap.canvas ||\n\t\t! scrollmap.statsTracker\n\t) {\n\t\treturn;\n\t} //end if\n\n\tscrollmap.averageFold.style.width = `${ document.body.clientWidth }px`;\n\tscrollmap.stats.style.width = `${ document.body.clientWidth }px`;\n\tmaximizeElement( scrollmap.canvas );\n\tmaximizeElement( scrollmap.statsTracker );\n\n\tif ( document.body === scrollmap.canvas.parentNode ) {\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( scrollmap.canvas );\n\tdocument.body.appendChild( scrollmap.averageFold );\n\tdocument.body.appendChild( scrollmap.stats );\n\tdocument.body.appendChild( scrollmap.statsTracker );\n} //end appendScrollmapInBody()\n\nfunction initScrollmap() {\n\t// Canvas.\n\tscrollmap.canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\tscrollmap.canvas.style.opacity = '0.75';\n\n\t// Average Fold.\n\tscrollmap.averageFold = createOverlayElement( 'div' );\n\tscrollmap.averageFold.style.display = 'none';\n\tscrollmap.averageFold.style.height = 'auto';\n\tscrollmap.averageFold.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.averageFold.style.textAlign = 'center';\n\n\tconst averageFoldContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tmargin: '0 auto',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\tposition: 'absolute',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tscrollmap.averageFold.appendChild( averageFoldContainer );\n\tconst scrollmapSpan = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst scrollmapSpanIcon = createElement( 'span', {\n\t\tclassName: 'dashicons dashicons-image-flip-vertical',\n\t\tstyle: {\n\t\t\tverticalAlign: 'text-top',\n\t\t\tmarginRight: '5px',\n\t\t},\n\t} );\n\tconst scrollmapLabel = document.createTextNode(\n\t\tw.parent.nabI18n.averageFold + ' '\n\t);\n\tconst scrollmapValue = createElement( 'output', {\n\t\tid: 'nab-average-fold',\n\t} );\n\tscrollmapValue.style.color = 'inherit';\n\tscrollmapValue.style.display = 'inline';\n\tscrollmapValue.style.fontSize = 'inherit';\n\tscrollmapValue.style.lineHeight = 'inherit';\n\tscrollmapValue.style.margin = '0';\n\tscrollmapValue.style.padding = '0';\n\n\taverageFoldContainer.appendChild( scrollmapSpan );\n\tscrollmapSpan.appendChild( scrollmapSpanIcon );\n\tscrollmapSpan.appendChild( scrollmapLabel );\n\tscrollmapSpan.appendChild( scrollmapValue );\n\n\t// Stats.\n\tscrollmap.stats = createOverlayElement( 'div' );\n\tscrollmap.stats.style.height = 'auto';\n\tscrollmap.stats.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.stats.style.opacity = '0';\n\tscrollmap.stats.style.transition = 'opacity 200ms ease-in-out';\n\n\tconst scrollStatsContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tleft: '1em',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\ttransform: 'translate(0, -50%)',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tconst statsPopularity = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst statsPopularityLabel = document.createTextNode(\n\t\tw.parent.nabI18n.popularity + ' '\n\t);\n\tconst statsPopularityValue = createElement( 'output', {\n\t\tid: 'nab-popularity',\n\t} );\n\tscrollStatsContainer.appendChild( statsPopularity );\n\tstatsPopularity.appendChild( statsPopularityLabel );\n\tstatsPopularity.appendChild( statsPopularityValue );\n\n\t// Stats tracker.\n\tscrollmap.statsTracker = createOverlayElement( 'div' );\n\n\t// Event listeners.\n\tscrollmap.stats.appendChild( scrollStatsContainer );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseenter', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '1';\n\t\t} //end if\n\t} );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseleave', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '0';\n\t\t} //end if\n\t} );\n\n\t// Update position.\n\tscrollmap.statsTracker.addEventListener( 'mousemove', ( event ) => {\n\t\tif ( ! scrollmap.stats ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tscrollmap.stats.style.top = `${ Math.max( event.pageY, 0 ) }px`;\n\t} );\n\n\t// Update count.\n\tscrollmap.statsTracker.addEventListener(\n\t\t'mousemove',\n\t\tdebounce( ( event: MouseEvent ) => {\n\t\t\tconst popularityEl = document.getElementById( 'nab-popularity' );\n\t\t\tconst data = scrollmap.data[ scrollmap.activeResolution ];\n\t\t\tif ( ! data || ! popularityEl ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\t\t\tconst { rows, maxHits } = data;\n\t\t\tconst rowIndex = Math.floor( event.pageY / ROW_HEIGHT );\n\t\t\tconst intensity = rows[ rowIndex ] || 0;\n\t\t\tconst popularity = Math.round( ( 100 * intensity ) / maxHits ) || 0;\n\t\t\tpopularityEl.textContent = `${ popularity.toLocaleString() }%`;\n\t\t}, STATS_REFRESH_DELAY )\n\t);\n} //end initScrollmap()\n\nfunction renderScrollmap( activeResolution: HeatmapResolution ): void {\n\tif ( ! scrollmap.images[ activeResolution ] ) {\n\t\tgenerateScrollmapImage( activeResolution );\n\t} //end if\n\n\tif ( ! scrollmap.canvas ) {\n\t\treturn;\n\t} //end if\n\n\tconst image = scrollmap.images[ activeResolution ];\n\tconst ctx = scrollmap.canvas.getContext( '2d' );\n\tif ( image && ctx ) {\n\t\tscrollmap.canvas.width = image.width;\n\t\tscrollmap.canvas.height = image.height;\n\t\tctx.clearRect( 0, 0, scrollmap.canvas.width, scrollmap.canvas.height );\n\t\tctx.drawImage( image, 0, 0 );\n\t} //end if\n\n\trenderAverageFold( activeResolution );\n} //end renderScrollmap()\n\nfunction renderAverageFold( activeResolution: HeatmapResolution ) {\n\tconst avgFoldEl = document.getElementById( 'nab-average-fold' );\n\tif ( ! avgFoldEl || ! scrollmap.averageFold ) {\n\t\treturn;\n\t} //end if\n\n\tconst { averageFold } = scrollmap.data[ activeResolution ] || {};\n\tif ( averageFold ) {\n\t\tavgFoldEl.textContent = `${ averageFold.toLocaleString() }px`;\n\t\tscrollmap.averageFold.style.top = `${ averageFold }px`;\n\t\tscrollmap.averageFold.style.display = 'block';\n\t} else {\n\t\tavgFoldEl.textContent = ``;\n\t\tscrollmap.averageFold.style.display = 'none';\n\t} //end if\n} //end renderAverageFold()\n\nfunction generateScrollmapImage( activeResolution: HeatmapResolution ) {\n\tif ( ! scrollmap.data[ activeResolution ] ) {\n\t\tprocessScrollDataForCurrentResolution( activeResolution );\n\t} //end if\n\n\tconst data = scrollmap.data[ activeResolution ];\n\tif ( ! data ) {\n\t\treturn;\n\t} //end if\n\n\tconst { rows, maxHits } = data;\n\tconst narrowCanvas = createElement< HTMLCanvasElement >( 'canvas' );\n\tnarrowCanvas.width = 1;\n\tnarrowCanvas.height = rows.length;\n\tconst narrowCtx = narrowCanvas.getContext( '2d' );\n\n\tconst colorIndexes = rows.map( ( hits ) =>\n\t\tMath.floor( ( hits / maxHits ) * ( COLORS.length - 1 ) )\n\t);\n\tsmoothColorIndexTransition( colorIndexes ).forEach(\n\t\t( colorIndex, rowNumber ) => {\n\t\t\tif ( ! narrowCtx || ! scrollmap.canvas ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\t\t\tnarrowCtx.fillStyle = COLORS[ colorIndex ] ?? '';\n\t\t\tnarrowCtx.fillRect( 0, rowNumber, scrollmap.canvas.width, 1 );\n\t\t}\n\t);\n\n\tStackBlur.canvasRGB(\n\t\tnarrowCanvas,\n\t\t0,\n\t\t0,\n\t\tnarrowCanvas.width,\n\t\tnarrowCanvas.height,\n\t\t100 / ROW_HEIGHT\n\t);\n\tscrollmap.images[ activeResolution ] = narrowCanvas;\n} //end generateScrollmapImage()\n\nfunction processScrollDataForCurrentResolution(\n\tactiveResolution: HeatmapResolution\n) {\n\tconst bodyHeight = getBodyHeight();\n\tconst iframeHeight = getDocumentHeight();\n\tconst numOfRows = Math.ceil( iframeHeight / ROW_HEIGHT );\n\tconst rows = new Array( numOfRows ).fill( 0 );\n\n\tlet heightFromTop = 0;\n\n\tconst scrollsInResolution = getScrollsInResolution(\n\t\tscrollmap.scrolls ?? [],\n\t\tactiveResolution\n\t);\n\n\tscrollsInResolution.forEach(\n\t\t( { firstFold, maxScroll, sweetSpot, documentHeight } ) => {\n\t\t\t// Accumulate first fold heights.\n\t\t\theightFromTop += firstFold;\n\n\t\t\tmaxScroll = Math.round(\n\t\t\t\t( maxScroll / documentHeight ) * bodyHeight\n\t\t\t);\n\t\t\tsweetSpot = Math.round(\n\t\t\t\t( sweetSpot / documentHeight ) * bodyHeight\n\t\t\t);\n\n\t\t\tconst maxScrollRow = Math.ceil( maxScroll / ROW_HEIGHT );\n\n\t\t\t// Add max scrolling relevance.\n\t\t\tconst lastScrollRow = Math.min( maxScrollRow, numOfRows - 1 );\n\t\t\tfor ( let i = 0; i <= lastScrollRow; ++i ) {\n\t\t\t\trows[ i ] = ++rows[ i ] || 1;\n\t\t\t} //end for\n\n\t\t\t// Add sweetspot relevance.\n\t\t\tconst sweetSpotMinRow = Math.floor(\n\t\t\t\t( sweetSpot - firstFold / 2 ) / ROW_HEIGHT\n\t\t\t);\n\t\t\tconst sweetSpotMaxRow = Math.ceil(\n\t\t\t\t( sweetSpot + firstFold / 2 ) / ROW_HEIGHT\n\t\t\t);\n\t\t\tconst lastSweetSpotRow = Math.min( sweetSpotMaxRow, numOfRows - 1 );\n\t\t\tfor (\n\t\t\t\tlet i = Math.max( 0, sweetSpotMinRow );\n\t\t\t\ti <= lastSweetSpotRow;\n\t\t\t\t++i\n\t\t\t) {\n\t\t\t\trows[ i ] = ++rows[ i ] || 1;\n\t\t\t} //end for\n\t\t}\n\t);\n\n\tscrollmap.data[ activeResolution ] = {\n\t\trows,\n\t\tmaxHits: max( rows ),\n\t\taverageFold: !! scrollsInResolution.length\n\t\t\t? Math.ceil( heightFromTop / scrollsInResolution.length )\n\t\t\t: false,\n\t};\n} //end processScrollData()\n\nfunction getScrollsInResolution(\n\tscrolls: ReadonlyArray< Scroll >,\n\tactiveResolution: HeatmapResolution\n) {\n\tconst { minWidth, maxWidth } =\n\t\tgetMinMaxWidthInResolution( activeResolution );\n\treturn scrolls.filter(\n\t\t( { windowWidth } ) =>\n\t\t\tminWidth <= windowWidth && windowWidth <= maxWidth\n\t);\n} //end getScrollsInResolution()\n\nfunction smoothColorIndexTransition( values: ReadonlyArray< number > ) {\n\tlet result = values;\n\tfor ( let i = 0; i < 5; ++i ) {\n\t\tresult = smooth( result );\n\t} //end for\n\treturn result;\n} //end smoothColorIndexTransition()\n\nfunction smooth( values: ReadonlyArray< number > ) {\n\tif ( ! values.length ) {\n\t\treturn values;\n\t} //end if\n\n\tconst weighted = average( values );\n\tconst originalMin = min( values );\n\tconst originalMax = max( values );\n\tconst originalSize = originalMax - originalMin;\n\n\tconst numOfItems = values.length;\n\tconst padding = 10;\n\tconst firstValue = values[ 0 ] || 0;\n\tconst lastValue = values[ values.length - 1 ] || 0;\n\tvalues = [\n\t\t...( new Array( padding ).fill( firstValue ) as number[] ),\n\t\t...values,\n\t\t...( new Array( padding ).fill( lastValue ) as number[] ),\n\t];\n\n\tlet smoothed: number[] = [];\n\tfor ( let i = 1; i < values.length - 1; ++i ) {\n\t\tconst curr = values[ i ];\n\t\tconst prev = smoothed[ i - 1 ] || values[ i - 1 ];\n\t\tconst next = values[ i + 1 ];\n\t\tconst improved = average(\n\t\t\t[ weighted, prev, curr, next ].filter( isDefined )\n\t\t);\n\t\tsmoothed.push( improved );\n\t} //end for\n\tsmoothed = smoothed.splice( padding - 1, numOfItems );\n\n\tconst smoothedMin = min( smoothed );\n\tconst smoothedMax = max( smoothed );\n\tconst smoothedSize = smoothedMax - smoothedMin;\n\tconst normalized = smoothed.map(\n\t\t( value ) => ( value - smoothedMin ) / smoothedSize\n\t);\n\n\treturn normalized.map(\n\t\t( value ) => Math.round( value * originalSize ) + originalMin\n\t);\n} //end smooth()\n\nfunction isDefined< T >( v: T | undefined ): v is T {\n\treturn undefined !== v;\n} //end isDefined()\n\nfunction average( values: ReadonlyArray< number > ) {\n\tconst sum = values.reduce( ( res, val ) => res + val, 0 );\n\tconst avg = sum / values.length;\n\treturn avg;\n} //end average()\n\nfunction min( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.min( memo, value ),\n\t\tNumber.POSITIVE_INFINITY\n\t);\n} //end if\n\nfunction max( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.max( memo, value ),\n\t\tNumber.NEGATIVE_INFINITY\n\t);\n} //end if\n\nfunction createElement< T extends HTMLElement = HTMLElement >(\n\ttype: string,\n\toptions: Dict & { style?: Dict< string > } = {}\n): T {\n\tconst el = document.createElement( type );\n\n\tconst { id, className, style, ...props } = options;\n\tif ( 'string' === typeof id ) {\n\t\tel.id = id;\n\t} //end if\n\n\tif ( 'string' === typeof className ) {\n\t\tel.className = className;\n\t} //end if\n\n\tif ( 'object' === typeof style ) {\n\t\tObject.keys( style ).forEach( ( k ) => {\n\t\t\t( el as unknown as { style: Dict< string > } ).style[ k ] =\n\t\t\t\tstyle[ k ] ?? '';\n\t\t} );\n\t} //end if\n\n\tObject.keys( props ).forEach( ( p ) => {\n\t\t( el as unknown as Dict )[ p ] = props[ p ];\n\t} );\n\n\treturn el as T;\n} //end createElement()\n\n// =======\n// GLOBALS\n// =======\n\nconst w = window as unknown as Window & {\n\tparent: {\n\t\tnabI18n: HeatmapLabels;\n\t};\n};\n","const Node = window.Node;\nconst XPathResult = window.XPathResult;\n\ntype Step = {\n\treadonly value: string;\n\treadonly optimized: boolean;\n};\n\n// Code from Chromium project.\n// https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/devtools/front_end/elements/DOMPath.js\n\nexport function getElementByXPath( xpath: string ): Node | null {\n\treturn document.evaluate(\n\t\txpath,\n\t\tdocument,\n\t\tnull,\n\t\tXPathResult.FIRST_ORDERED_NODE_TYPE,\n\t\tnull\n\t).singleNodeValue;\n} //end getElementByXPath()\n\nexport function xPath( node: Node, optimized: boolean ): string {\n\tif ( node.nodeType === Node.DOCUMENT_NODE ) {\n\t\treturn '/';\n\t} //end if\n\n\tconst steps: Step[] = [];\n\n\tlet contextNode: Node | null = node;\n\twhile ( contextNode ) {\n\t\tconst step = _xPathValue( contextNode, optimized );\n\t\tif ( ! step ) {\n\t\t\tbreak; // Error - bail out early.\n\t\t} //end if\n\n\t\tsteps.push( step );\n\t\tif ( step.optimized ) {\n\t\t\tbreak;\n\t\t} //end if\n\n\t\tcontextNode = contextNode.parentNode;\n\t} //end while\n\n\tsteps.reverse();\n\tconst path = steps.map( ( s ) => s.value ).join( '/' );\n\treturn steps[ 0 ]?.optimized ? path : `/${ path }`;\n} //end xPath()\n\nfunction _xPathValue( node: Node, optimized: boolean ): Step | null {\n\tconst ownIndex = _xPathIndex( node );\n\tif ( ownIndex === -1 ) {\n\t\treturn null; // Error.\n\t} //end if\n\n\tlet ownValue = '';\n\tswitch ( node.nodeType ) {\n\t\tcase Node.ELEMENT_NODE:\n\t\t\tif ( ! isHTMLElement( node ) ) {\n\t\t\t\tbreak;\n\t\t\t} //end if\n\t\t\tif ( optimized && node.getAttribute( 'id' ) ) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: `//*[@id=\"${ node.getAttribute( 'id' ) || '' }\"]`,\n\t\t\t\t\toptimized: true,\n\t\t\t\t};\n\t\t\t} //end if\n\t\t\townValue = node.localName;\n\t\t\tbreak;\n\n\t\tcase Node.ATTRIBUTE_NODE:\n\t\t\townValue = `@${ node.nodeName }`;\n\t\t\tbreak;\n\n\t\tcase Node.TEXT_NODE:\n\t\tcase Node.CDATA_SECTION_NODE:\n\t\t\townValue = 'text()';\n\t\t\tbreak;\n\n\t\tcase Node.PROCESSING_INSTRUCTION_NODE:\n\t\t\townValue = 'processing-instruction()';\n\t\t\tbreak;\n\n\t\tcase Node.COMMENT_NODE:\n\t\t\townValue = 'comment()';\n\t\t\tbreak;\n\n\t\tcase Node.DOCUMENT_NODE:\n\t\t\townValue = '';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\townValue = '';\n\t\t\tbreak;\n\t} //end switch\n\n\tif ( ownIndex > 0 ) {\n\t\townValue += `[${ ownIndex }]`;\n\t} //end if\n\n\treturn {\n\t\tvalue: ownValue,\n\t\toptimized: node.nodeType === Node.DOCUMENT_NODE,\n\t};\n}\n\nfunction _xPathIndex( node: Node ): number {\n\t// Returns -1 in case of error,\n\t//          0 if no siblings matching the same expression,\n\t//          <XPath index among the same expression-matching sibling nodes> otherwise.\n\tfunction areNodesSimilar( left: Node, right: Node ): boolean {\n\t\tif ( left === right ) {\n\t\t\treturn true;\n\t\t} //end if\n\n\t\tif ( isHTMLElement( left ) && isHTMLElement( right ) ) {\n\t\t\treturn left.localName === right.localName;\n\t\t} //end if\n\n\t\tif ( left.nodeType === right.nodeType ) {\n\t\t\treturn true;\n\t\t} //end if\n\n\t\t// XPath treats CDATA as text nodes.\n\t\tconst leftType =\n\t\t\tleft.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: left.nodeType;\n\t\tconst rightType =\n\t\t\tright.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: right.nodeType;\n\t\treturn leftType === rightType;\n\t} //end areNodesSimilar()\n\n\tconst siblings = node.parentNode ? node.parentNode.children : null;\n\tif ( ! siblings ) {\n\t\treturn 0; // Root node - no siblings.\n\t} //end if\n\n\tlet hasSameNamedElements;\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tif ( areNodesSimilar( node, sibling ) && sibling !== node ) {\n\t\t\thasSameNamedElements = true;\n\t\t\tbreak;\n\t\t} //end if\n\t} //end for\n\n\tif ( ! hasSameNamedElements ) {\n\t\treturn 0;\n\t} //end if\n\n\tlet ownIndex = 1; // XPath indices start with 1.\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tif ( areNodesSimilar( node, sibling ) ) {\n\t\t\tif ( sibling === node ) {\n\t\t\t\treturn ownIndex;\n\t\t\t} //end if\n\t\t\t++ownIndex;\n\t\t} //end if\n\t} //end for\n\treturn -1; // An error occurred: |node| not found in parent's children.\n} //end _xPathIndex()\n\nconst isHTMLElement = ( n: Node ): n is HTMLElement =>\n\tNode.ELEMENT_NODE === n.nodeType;\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\ntype CookieOptions = {\n\treadonly path: string;\n\treadonly expires: number;\n};\n\nconst COOKIE_NAMES = [\n\t'nabAlternative',\n\t'nabCheckWritePermission',\n\t'nabExperimentsWithPageViews',\n\t'nabIsStagingSite',\n\t'nabIsUserLoggedIn',\n\t'nabIsVisitorExcluded',\n\t'nabParticipation',\n\t'nabSegmentation',\n\t'nabUniqueViews',\n\t'nabSessionChecksum',\n] as const;\n\ntype CookieName = ( typeof COOKIE_NAMES )[ number ];\n\nexport function setCookie(\n\tname: CookieName,\n\tvalue: number | boolean | string,\n\toptions?: Partial< CookieOptions >\n): void {\n\tconst opts: CookieOptions = {\n\t\tpath: '/',\n\t\texpires: 0,\n\t\t...( options || {} ),\n\t};\n\n\tlet cookie = `${ name }=${ encodeURIComponent( value ) };`;\n\n\tif ( 0 < opts.expires ) {\n\t\tconst expiration = new Date(\n\t\t\tnew Date().getTime() + opts.expires * 864e5\n\t\t);\n\t\tcookie += ` expires=${ expiration.toUTCString() };`;\n\t} //end if\n\n\tcookie += ` path=${ opts.path };`;\n\tcookie += ' SameSite=None; Secure;';\n\n\tdocument.cookie = cookie;\n} //end setCookie()\n\nexport function getCookie( name: string ): Maybe< string > {\n\tconst cookies = document.cookie\n\t\t.split( ';' )\n\t\t.map( ( cookie ) => cookie.trim() )\n\t\t.reduce( ( memo, cookie ) => {\n\t\t\tmemo[ cookie.split( '=' )[ 0 ] ?? '' ] =\n\t\t\t\tcookie.split( '=' )[ 1 ] ?? '';\n\t\t\treturn memo;\n\t\t}, {} as Record< string, string > );\n\n\tif ( ! cookies[ name ] ) {\n\t\treturn;\n\t} //end if\n\treturn decodeURIComponent( cookies[ name ] ?? '' );\n} //end getCookie()\n\nexport function removeCookie( name: string ): void {\n\tdocument.cookie = `${ name }=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=None; Secure`;\n} //end removeCookie()\n\nexport function cleanNabCookies(): void {\n\tCOOKIE_NAMES.forEach( removeCookie );\n} //end cleanNabCookies()\n","export function domReady( callback: () => unknown ): void {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn;\n\t} //end if\n\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t} //end if\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n} //end domReady()\n","/**\n * Internal dependencies\n */\nimport type {\n\tActiveExperimentSummary,\n\tExperimentSummary,\n\tSession,\n} from '../../types';\n\nexport const getActiveExperiments = (\n\tsession: Session\n): ReadonlyArray< ActiveExperimentSummary > =>\n\tObject.values( session.experiments ).filter( isActiveExperiment );\n\nconst isActiveExperiment = (\n\te: ExperimentSummary\n): e is ActiveExperimentSummary => e.active;\n","/**\n * Internal dependencies\n */\nimport { addQueryArgs } from '../url';\nimport type { ParamValue, Session } from '../../types';\n\nexport const getApiUrl = (\n\tapi: Session[ 'api' ],\n\tpath: string,\n\targs?: Record< string, ParamValue >\n): string =>\n\taddQueryArgs(\n\t\t'rest' === api.mode\n\t\t\t? addQueryArgs( api.url, { path } )\n\t\t\t: `${ api.url }${ path }`,\n\t\targs\n\t);\n","export function getClosest< T extends HTMLElement = HTMLElement >(\n\tnode: HTMLElement,\n\tnodeType: string\n): T | false {\n\tlet currentNode: HTMLElement | null = node;\n\tdo {\n\t\tif ( nodeType.toLowerCase() === currentNode.nodeName.toLowerCase() ) {\n\t\t\treturn currentNode as T;\n\t\t} //end if\n\t\tcurrentNode = currentNode.parentElement;\n\t} while ( currentNode );\n\n\treturn false;\n} //end getClosest()\n","export function getDocumentHeight(): number {\n\tconst body = document.body;\n\tconst html = document.documentElement;\n\treturn Math.max(\n\t\tbody.scrollHeight,\n\t\tbody.offsetHeight,\n\t\thtml.clientHeight,\n\t\thtml.scrollHeight,\n\t\thtml.offsetHeight\n\t);\n}\n","/**\n * External dependencies\n */\nimport md5 from 'md5';\nimport type { ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { doesVisitorParticipate } from './internal/does-visitor-participate';\nimport { getSettings } from './internal/get-settings';\n\nimport { getCookie, removeCookie, setCookie } from '../cookies';\nimport { updateSegmentationSettings } from '../segmentation';\nimport { removeQueryArgs } from '../url';\nimport {\n\tgetExperimentsWithPageViews,\n\tgetUniqueViews as doGetUniqueViews,\n} from '../tracking';\nimport type { AlternativeIndex, Session, Settings } from '../../types';\nimport type { Uuid } from 'uuid';\n\n// =======\n// HELPERS\n// =======\n\nexport const getSession = async (): Promise< Maybe< Session > > => {\n\tconst settings = getSettings();\n\tif ( ! settings ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( '[NAB] Settings not found.' );\n\t\treturn;\n\t} //end if\n\n\tif ( ! doesVisitorParticipate( settings ) ) {\n\t\treturn;\n\t} //end if\n\n\tawait updateSegmentationSettings( settings );\n\n\tconst alternative = updateAlternativeCookie( settings );\n\tupdateStagingCookie( settings );\n\n\tconst session = {\n\t\t...settings,\n\t\talternative,\n\t\tcurrentUrl: window.location.href,\n\t\tuntestedUrl: removeQueryArgs( window.location.href, 'nab' ),\n\t};\n\tawait updateECommerceSession( session );\n\n\treturn session;\n};\n\nconst updateAlternativeCookie = ( settings: Settings ) => {\n\tconst { maxCombinations } = settings;\n\tconst nabAlt = Number.parseInt( getCookie( 'nabAlternative' ) ?? '' );\n\tlet alternative: number = isNaN( nabAlt ) ? -1 : nabAlt;\n\tif ( alternative < 0 || alternative >= maxCombinations ) {\n\t\talternative = random( maxCombinations - 1 );\n\t\tsetCookie( 'nabAlternative', alternative, { expires: 120 } );\n\t\tsetCookie( 'nabExperimentsWithPageViews', '{}', { expires: 120 } );\n\t} //end if\n\n\tconst newAlternative = shouldAlternativeBeOverwritten( alternative );\n\tif ( false !== newAlternative ) {\n\t\talternative = newAlternative % settings.maxCombinations;\n\t\tsetCookie( 'nabAlternative', alternative, { expires: 120 } );\n\t\tsetCookie( 'nabExperimentsWithPageViews', '{}', { expires: 120 } );\n\t\tsetCookie( 'nabUniqueViews', '{}', { expires: 120 } );\n\t} //end if\n\n\tsetCookie( 'nabAlternative', getCookie( 'nabAlternative' ) ?? '', {\n\t\texpires: 120,\n\t} );\n\tsetCookie(\n\t\t'nabExperimentsWithPageViews',\n\t\tgetCookie( 'nabExperimentsWithPageViews' ) ?? '{}',\n\t\t{ expires: 120 }\n\t);\n\n\treturn alternative;\n};\n\nconst updateStagingCookie = ( settings: Settings ) =>\n\tsettings.isStagingSite\n\t\t? setCookie( 'nabIsStagingSite', true )\n\t\t: removeCookie( 'nabIsStagingSite' );\n\nconst updateECommerceSession = async ( session: Session ) => {\n\tif ( ! session.ajaxUrl ) {\n\t\treturn;\n\t} //end if\n\n\tconst oldChecksum = getCookie( 'nabSessionChecksum' );\n\tconst checksum = getSessionChecksum( session.alternative );\n\tif ( ! session.forceECommerceSessionSync && oldChecksum === checksum ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst body = new FormData();\n\t\tbody.append( 'action', 'nab_sync_ecommerce_session' );\n\t\tbody.append( 'alternative', `${ session.alternative }` );\n\t\tbody.append(\n\t\t\t'expsWithView',\n\t\t\tJSON.stringify( getViewedAlternatives( session ) )\n\t\t);\n\t\tbody.append(\n\t\t\t'uniqueViews',\n\t\t\tJSON.stringify( getUniqueViews( session ) )\n\t\t);\n\n\t\tawait fetch( session.ajaxUrl, {\n\t\t\tmethod: 'POST',\n\t\t\tcredentials: 'same-origin',\n\t\t\tbody,\n\t\t} );\n\t} catch ( e ) {}\n\n\tsetCookie( 'nabSessionChecksum', checksum );\n};\n\nconst random = ( max: number ) =>\n\tMath.min( Math.floor( Math.random() * ( max + 1 ) ), max );\n\nconst getViewedAlternatives = (\n\tsession: Session\n): Record< ExperimentId, AlternativeIndex > =>\n\tObject.keys( getExperimentsWithPageViews() ).reduce( ( res, key ) => {\n\t\tconst id = Number.parseInt( key ) || 0;\n\t\tconst exp = session.experiments[ id ];\n\t\tif ( exp ) {\n\t\t\tres[ id ] = session.alternative % exp.alternatives.length;\n\t\t} //end if\n\t\treturn res;\n\t}, {} as Record< number, number > );\n\nconst getUniqueViews = ( session: Session ): Record< ExperimentId, Uuid > => {\n\tconst uniqueViews = doGetUniqueViews();\n\treturn Object.keys( session.experiments ).reduce( ( res, key ) => {\n\t\tconst id = Number.parseInt( key ) || 0;\n\t\tconst viewUuid = uniqueViews[ id ];\n\t\tif ( viewUuid ) {\n\t\t\tres[ id ] = viewUuid;\n\t\t} //end if\n\t\treturn res;\n\t}, {} as Record< ExperimentId, Uuid > );\n};\n\nconst getSessionChecksum = ( alternative: number ): string => {\n\tconst epv = getExperimentsWithPageViews();\n\tconst expIds = Object.keys( epv ).sort();\n\tconst tenMinutesTimestamp =\n\t\tnew Date( Object.values( epv ).sort().reverse()[ 0 ] || 0 )\n\t\t\t.toISOString()\n\t\t\t.substring( 0, 15 ) + '0';\n\treturn md5( [ alternative, ...expIds, tenMinutesTimestamp ].join( ':' ) );\n};\n\nfunction shouldAlternativeBeOverwritten(\n\tassignedAlternative: number\n): number | false {\n\tconst search = document.location.search;\n\tif ( ! /\\bnabforce\\b/.test( search ) ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( ! /\\bnab\\b=[0-9]+/.test( search ) ) {\n\t\treturn false;\n\t} //end if\n\n\tconst expectedAlternative =\n\t\tNumber.parseInt( search.replace( /^.*\\bnab\\b=([0-9]+).*$/, '$1' ) ) ||\n\t\t0;\n\tif ( expectedAlternative === assignedAlternative ) {\n\t\treturn false;\n\t} //end if\n\n\treturn expectedAlternative;\n} //end shouldAlternativeBeOverwritten()\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\n\ntype Callback = () => unknown;\n\nlet isHeadReady = false;\nconst pending: Callback[] = [];\nexport const headReady = ( callback: Callback ): void =>\n\tisHeadReady ? void callback() : void pending.push( callback );\n\n// =======\n// HELPERS\n// =======\n\nconst markHeadAsReady = () => {\n\tif ( isHeadReady ) return;\n\tisHeadReady = true;\n\tpending.forEach( ( fn ) => fn() );\n};\n\nconst checkHead = () => {\n\tif ( isHeadReady ) return;\n\tif ( document.body !== null ) {\n\t\treturn markHeadAsReady();\n\t} //end if\n\tsetTimeout( checkHead, 100 );\n};\n\ncheckHead();\ndomReady( markHeadAsReady );\n","export * from './dom-ready';\nexport * from './get-active-experiments';\nexport * from './get-api-url';\nexport * from './get-closest';\nexport * from './get-document-height';\nexport * from './get-session';\nexport * from './head-ready';\nexport * from './preload-query-args';\n","/**\n * Internal dependencies\n */\nimport {\n\tcleanNabCookies,\n\tgetCookie,\n\tremoveCookie,\n\tsetCookie,\n} from '../../cookies';\nimport type { GdprCookieSetting, Session } from '../../../types';\n\ntype ParticipationSettings = Pick<\n\tSession,\n\t'gdprCookie' | 'participationChance'\n>;\n\nexport function doesVisitorParticipate(\n\tsession: ParticipationSettings\n): boolean {\n\tif ( ! session ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( isIE() ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( ! areCookiesEnabled() ) {\n\t\treturn false;\n\t} //end if\n\n\tconst { gdprCookie } = session;\n\tif ( ! isGdprAccepted( gdprCookie ) ) {\n\t\tcleanNabCookies();\n\t\treturn false;\n\t} //end if\n\n\tif ( isVisitorExcludedFromTesting() ) {\n\t\treturn false;\n\t} //end if\n\n\tconst { participationChance } = session;\n\treturn doesVisitorParticipateAccordingToTheCookie( participationChance );\n} //end doesVisitorParticipate()\n\n// =======\n// HELPERS\n// =======\n\nfunction isIE(): boolean {\n\tconst ua = window.navigator.userAgent || '';\n\treturn -1 !== ua.indexOf( 'MSIE ' ) || -1 !== ua.indexOf( 'Trident/' );\n} //end isIE()\n\nfunction isVisitorExcludedFromTesting(): boolean {\n\treturn !! getCookie( 'nabIsVisitorExcluded' );\n} //end isVisitorExcludedFromTesting()\n\nfunction areCookiesEnabled() {\n\tsetCookie( 'nabCheckWritePermission', true );\n\tif ( ! getCookie( 'nabCheckWritePermission' ) ) {\n\t\treturn false;\n\t} //end if\n\n\tremoveCookie( 'nabCheckWritePermission' );\n\treturn true;\n} //end areCookiesEnable();\n\nfunction isGdprAccepted( gdprCookie: GdprCookieSetting ) {\n\tif ( ! gdprCookie.name ) {\n\t\treturn true;\n\t} //end if\n\n\tconst matches = ( pattern: string, value: string ) =>\n\t\t0 <=\n\t\tpattern\n\t\t\t.split( '*' )\n\t\t\t.reduce(\n\t\t\t\t( start, search ) =>\n\t\t\t\t\tstart < 0 ? start : value.indexOf( search, start ),\n\t\t\t\t0\n\t\t\t);\n\n\treturn document.cookie\n\t\t.split( ';' )\n\t\t.map( ( c ) => c.trim() )\n\t\t.map( ( c ) => c.split( '=' ) )\n\t\t.map( ( [ n, ...v ] ) => [ n, v.join( '=' ) ] )\n\t\t.filter(\n\t\t\t( c ): c is [ string, string ] =>\n\t\t\t\tc[ 0 ] !== undefined && c[ 1 ] !== undefined\n\t\t)\n\t\t.filter( ( [ n ] ) => matches( gdprCookie.name, n ) )\n\t\t.some(\n\t\t\t( [ _, v ] ) => ! gdprCookie.value || matches( gdprCookie.value, v )\n\t\t);\n} //end isGdprAccepted()\n\nfunction doesVisitorParticipateAccordingToTheCookie(\n\tparticipationChance: number\n) {\n\tif (\n\t\t! isVisitorParticipationCookieValid() ||\n\t\tshouldVisitorParticipationCookieBeUpdated( participationChance )\n\t) {\n\t\tgenerateVisitorParticipationCookie( participationChance );\n\t} //end if\n\n\tconst participation = getCookie( 'nabParticipation' );\n\treturn 0 === participation?.indexOf( 'true' );\n} //end doesVisitorParticipateAccordingToTheCookie()\n\nfunction isVisitorParticipationCookieValid() {\n\tconst participation = getCookie( 'nabParticipation' ) || '';\n\treturn /^(true|false),[0-9]{1,3}$/.test( participation );\n} //end isVisitorParticipationCookieValid()\n\nfunction shouldVisitorParticipationCookieBeUpdated(\n\tparticipationChance: number\n) {\n\tconst participation = getCookie( 'nabParticipation' ) || '';\n\treturn participation.split( ',' )[ 1 ] !== `${ participationChance }`;\n} //end shouldVisitorParticipationCookieBeUpdated()\n\nfunction generateVisitorParticipationCookie( participationChance: number ) {\n\tconst random = Math.min( 100, Math.floor( Math.random() * 101 ) );\n\tconst shouldVisitorParticipate =\n\t\trandom <= participationChance ? 'true' : 'false';\n\tsetCookie(\n\t\t'nabParticipation',\n\t\t`${ shouldVisitorParticipate },${ participationChance }`,\n\t\t{ expires: 120 }\n\t);\n} //end generateVisitorParticipationCookie()\n","/**\n * Internal dependencies\n */\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Settings } from '../../../types';\n\nexport const getSettings = (): Maybe< Required< Settings > > => {\n\tconst win = window as unknown;\n\tif ( ! hasSettings( win ) ) {\n\t\treturn;\n\t} //end if\n\n\tconst settings = win.nabSettings;\n\treturn {\n\t\tajaxUrl: '',\n\t\tapi: { mode: 'native', url: '' },\n\t\texperiments: {},\n\t\tforceECommerceSessionSync: false,\n\t\tgdprCookie: { name: '', value: '' },\n\t\theatmapTracking: [],\n\t\thideQueryArgs: false,\n\t\tignoreTrailingSlash: true,\n\t\tisStagingSite: false,\n\t\tisTestedPostRequest: false,\n\t\tmaxCombinations: 2,\n\t\tnumOfAlternatives: 0,\n\t\toptimizeXPath: true,\n\t\tparticipationChance: 100,\n\t\tpostId: false,\n\t\tpostUrls: [],\n\t\tpreloadQueryArgUrls: [],\n\t\treferrerParam: '',\n\t\tsite: '',\n\t\ttimezone: '',\n\t\tuseSendBeacon: true,\n\t\t...settings,\n\t\tthrottle: {\n\t\t\tglobal: fixThrottleWait( settings.throttle?.global ),\n\t\t\twoocommerce: fixThrottleWait( settings.throttle?.woocommerce ),\n\t\t},\n\t};\n};\n\n// ========\n// INTERNAL\n// ========\n\nconst hasSettings = (\n\twin: unknown\n): win is { nabSettings: Partial< Settings > } =>\n\t!! win && 'object' === typeof win && 'nabSettings' in win;\n\nfunction fixThrottleWait( wait = 0 ): number {\n\treturn Math.max( 0, Math.min( 10, wait ) );\n} //end fixThrottleWait()\n","/**\n * External dependencies\n */\nimport type { Url } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\nimport type { PreloadQueryArgUrl } from '../../types';\n\nexport const preloadQueryArgs = (\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >\n): void =>\n\tdomReady( () => {\n\t\tdoPreloadQueryArgs( config );\n\t\tfixSelfHashUrls();\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nexport const doPreloadQueryArgs = (\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >\n): void => {\n\tif ( ! config.length ) {\n\t\treturn;\n\t} //end if\n\n\t// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\n\tconst matches = document.cookie.match( /nabAlternative=[0-9]+/ ) || [ '' ];\n\tconst alt: number | typeof NaN = Number.parseInt(\n\t\tmatches[ 0 ].split( '=' )[ 1 ] ?? ''\n\t);\n\tif ( isNaN( alt ) ) {\n\t\treturn;\n\t} //end if\n\n\tconst site = document.location.protocol + '//' + document.location.hostname;\n\tconst anchors = Array.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => 0 === a.href.indexOf( site ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '#' ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '/wp-content/' ) );\n\n\tconfig = [ ...config ].sort( ( x ) => ( x.type === 'alt-urls' ? -1 : 1 ) );\n\tanchors.forEach( preloadQueryArg( config, alt ) );\n};\n\nconst fixSelfHashUrls = () => {\n\tconst current = new URL( document.location.href );\n\tif ( ! /\\bnab=/.test( current.search ) ) {\n\t\treturn;\n\t} //end if\n\n\tcurrent.hash = '';\n\tcurrent.searchParams.delete( 'nab' );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a[href*=\"#\"]' )\n\t)\n\t\t.filter( ( a ) => a.href.replace( /#.*$/, '' ) === current.href )\n\t\t.forEach( ( a ) => {\n\t\t\ta.href = a.href.replace( /^[^#]*#/, '#' );\n\t\t} );\n};\n\nconst preloadQueryArg =\n\t( config: ReadonlyArray< PreloadQueryArgUrl >, alt: number ) =>\n\t( a: HTMLAnchorElement ): void => {\n\t\tif ( a.href.indexOf( 'nab=' ) !== -1 ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst scopes = getMatchingScopes( config, a.href );\n\t\tif ( ! scopes.length ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tconst altCount = Math.max( ...scopes.map( ( s ) => s.altCount ) );\n\t\tconst nab = alt % altCount;\n\t\tconst url = getAlternativeUrl( scopes, alt ) || a.href;\n\t\ta.href = url.includes( '?' )\n\t\t\t? `${ url }&nab=${ nab }`\n\t\t\t: `${ url }?nab=${ nab }`;\n\t};\n\nfunction getMatchingScopes(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tlink: string\n): ReadonlyArray< PreloadQueryArgUrl > {\n\tlink = link.toLowerCase();\n\treturn config.filter( ( s ) => {\n\t\tconst scope = s.type === 'alt-urls' ? s.altUrls : s.scope;\n\t\treturn scope.some( ( l ) =>\n\t\t\tisPartialUrl( l ) ? link.includes( getPart( l ) ) : link === l\n\t\t);\n\t} );\n} //end isInScope()\n\nfunction getAlternativeUrl(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tnab: number\n) {\n\tconst scope = config.find( ( s ) => s.type === 'alt-urls' );\n\treturn scope?.type === 'alt-urls'\n\t\t? scope.altUrls[ nab % scope.altCount ]\n\t\t: undefined;\n} //end getAlternativeUrl()\n\nfunction isPartialUrl( url: Url ): boolean {\n\treturn url.startsWith( '*' ) && url.endsWith( '*' );\n} //end isPartialUrl()\n\nfunction getPart( partialUrl: string ): string {\n\treturn partialUrl.substring( 1, partialUrl.length - 1 );\n} //end getPart()\n","/**\n * External dependencies\n */\nimport type { Dict, ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { isValidSegmentationRule } from './segmentation-rules';\nimport { getCookie, setCookie } from '../cookies';\nimport { getExperimentsWithPageViews } from '../tracking';\n\nimport type { ExperimentSummary, Settings } from '../../types';\nimport { getApiUrl } from '../helpers';\n\ntype SegmentationSettings = {\n\treadonly activeSegments: Record< ExperimentId, ReadonlyArray< number > >;\n\treadonly geo: {\n\t\treadonly ipAddress: string;\n\t\treadonly location: string;\n\t\treadonly lastUpdate: string;\n\t};\n};\n\nexport async function updateSegmentationSettings(\n\tsettings: Settings\n): Promise< void > {\n\tconst exps = Object.values( settings.experiments );\n\tif ( isGeoDataNeeded( exps ) && isGeoDataOutdated() ) {\n\t\tif ( isGeoDataNeededNow( exps ) ) {\n\t\t\tawait updateGeoData( settings );\n\t\t} else {\n\t\t\tsetTimeout( () => void updateGeoData( settings ), 0 );\n\t\t} //end if\n\t} //end if\n\n\tupdateActiveSegments( settings.experiments );\n} //end updateSegmentationSettings();\n\nexport function isVisitorInASegmentOfEveryTest(\n\texperiments: Settings[ 'experiments' ]\n): boolean {\n\tconst activeSegments = getAllActiveSegments();\n\treturn Object.keys( experiments )\n\t\t.map( ( experimentId ) => Number.parseInt( experimentId ) )\n\t\t.every(\n\t\t\t( experimentId ) => ! isEmptyArray( activeSegments[ experimentId ] )\n\t\t);\n} //end isVisitorInASegmentOfEveryTest()\n\nexport function getSegmentationGeoData(): Partial<\n\tSegmentationSettings[ 'geo' ]\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\treturn segmentationSettings.geo || {};\n} //end getSegmentationGeoData()\n\nexport function getActiveSegments(\n\texperimentId: ExperimentId\n): ReadonlyArray< number > {\n\tconst activeSegments = getAllActiveSegments();\n\treturn activeSegments[ experimentId ] || [];\n} //end getActiveSegments()\n\nexport function cleanOldSegments(\n\texperiments: ReadonlyArray< ExperimentId >\n): void {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\n\tconst viewedExperimentIds = Object.keys( getExperimentsWithPageViews() )\n\t\t.map( ( id ) => Number.parseInt( id ) )\n\t\t.filter( ( id ) => ! isNaN( id ) && 0 < id );\n\n\t// Remove experiments that do not exist or didn't have views.\n\tconst newActiveSegments = Object.keys( activeSegments )\n\t\t.map( ( experimentId ) => Number.parseInt( experimentId ) )\n\t\t.filter(\n\t\t\t( experimentId ) => ! isNaN( experimentId ) && 0 < experimentId\n\t\t)\n\t\t.reduce( ( result, experimentId ) => {\n\t\t\tif (\n\t\t\t\texperiments.includes( experimentId ) ||\n\t\t\t\tviewedExperimentIds.includes( experimentId )\n\t\t\t) {\n\t\t\t\tresult[ experimentId ] = activeSegments[ experimentId ] ?? [];\n\t\t\t} //end if\n\t\t\treturn result;\n\t\t}, {} as Record< ExperimentId, ReadonlyArray< number > > );\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: newActiveSegments,\n\t} );\n} //end cleanOldSegments()\n\nexport function getSegmentationSettings(): Partial< SegmentationSettings > {\n\ttry {\n\t\treturn JSON.parse(\n\t\t\tgetCookie( 'nabSegmentation' ) || '{}'\n\t\t) as Partial< SegmentationSettings >;\n\t} catch ( e ) {\n\t\treturn {};\n\t} //end try\n} //end getSegmentationSettings()\n\n// =======\n// HELPERS\n// =======\n\nfunction getAllActiveSegments() {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\treturn activeSegments;\n} //end getAllActiveSegments()\n\nfunction setSegmentationSettings( settings: Partial< SegmentationSettings > ) {\n\tsetCookie( 'nabSegmentation', JSON.stringify( settings ), {\n\t\texpires: 120,\n\t} );\n} //end setSegmentationSettings()\n\nfunction isGeoDataOutdated() {\n\tconst geoData = getSegmentationGeoData();\n\tif ( ! geoData.lastUpdate ) {\n\t\treturn true;\n\t} //end if\n\n\tconst lastUpdate = geoData.lastUpdate;\n\tconst now = new Date().getTime();\n\tconst lastUpdateDate = new Date( lastUpdate ).getTime();\n\tconst diffTime = Math.abs( now - lastUpdateDate );\n\tconst diffDays = Math.ceil( diffTime / ( 1000 * 60 * 60 * 24 ) );\n\n\treturn isNaN( diffDays ) || diffDays > 7; // Update segmentation data every week.\n} //end isGeoDataOutdated()\n\nconst isGeoDataNeeded = ( exps: ReadonlyArray< ExperimentSummary > ) =>\n\texps.some( ( e ) =>\n\t\te.segments.some( ( s ) =>\n\t\t\ts.segmentationRules.some(\n\t\t\t\t( r ) =>\n\t\t\t\t\tr.type === 'nab/ip-address' || r.type === 'nab/location'\n\t\t\t)\n\t\t)\n\t);\n\nconst isGeoDataNeededNow = ( exps: ReadonlyArray< ExperimentSummary > ) =>\n\tisGeoDataNeeded( exps.filter( ( e ) => e.active ) );\n\nasync function updateGeoData( settings: Settings ) {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/ipc', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst jsonData = JSON.parse( data ) as Dict;\n\t\tif ( ! hasGeoData( jsonData ) ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tsetSegmentationSettings( {\n\t\t\t...getSegmentationSettings(),\n\t\t\tgeo: {\n\t\t\t\tipAddress: jsonData.ip,\n\t\t\t\tlocation: jsonData.location,\n\t\t\t\tlastUpdate: new Date().toISOString(),\n\t\t\t},\n\t\t} );\n\t} catch ( e ) {}\n} //end updateGeoData()\n\nfunction updateActiveSegments( experiments: Settings[ 'experiments' ] ) {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst previousActiveSegments = segmentationSettings.activeSegments || {};\n\n\tconst activeSegments = {} as SegmentationSettings[ 'activeSegments' ];\n\tfor ( const eid in experiments ) {\n\t\tconst experimentId = Number.parseInt( eid );\n\t\tif ( experiments.hasOwnProperty( experimentId ) ) {\n\t\t\tactiveSegments[ experimentId ] = calculateActiveSegments(\n\t\t\t\texperiments[ experimentId ]?.segments ?? []\n\t\t\t);\n\t\t} //end if\n\t} //end for\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: {\n\t\t\t...activeSegments,\n\t\t\t...previousActiveSegments,\n\t\t},\n\t} );\n} //end updateActiveSegments()\n\nfunction calculateActiveSegments(\n\tsegments: ExperimentSummary[ 'segments' ]\n): ReadonlyArray< number > {\n\t// When no segments, return the global segment.\n\tif ( isEmptyArray( segments ) ) {\n\t\treturn [ 0 ];\n\t} //end if\n\n\tconst activeSegments = segments\n\t\t.map( ( { segmentationRules }, index ) =>\n\t\t\tsegmentationRules.every( isValidSegmentationRule ) ? index + 1 : 0\n\t\t)\n\t\t.filter( ( segmentIndex ) => 0 < segmentIndex );\n\n\treturn activeSegments.length ? [ 0, ...activeSegments ] : [];\n} //end calculateActiveSegments()\n\nconst isEmptyArray = ( arr?: unknown ): arr is unknown[] =>\n\t!! arr && Array.isArray( arr ) && ! arr.length;\n\nconst hasGeoData = (\n\tx: Dict\n): x is {\n\treadonly ip: string;\n\treadonly location: string;\n} => !! x.ip && !! x.location;\n","/**\n * External dependencies\n */\nimport UaParser from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/browser/types';\n\nexport const type = 'nab/browser';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorBrowser = getVisitorBrowser();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) =>\n\t\t\t\tisSameBrowser( value, visitorBrowser )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameBrowser( value, visitorBrowser )\n\t\t\t);\n\t} //end switch\n} //end validate()\n\nfunction getVisitorBrowser() {\n\tconst parser = new UaParser();\n\tconst browserData = parser.getBrowser();\n\treturn browserData.name;\n} //end getVisitorBrowser()\n\nfunction isSameBrowser( browserName: string, visitorBrowserName?: string ) {\n\treturn browserName === visitorBrowserName;\n} //end isSameBrowser()\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/cookie/types';\n\nexport const type = 'nab/browser';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst cookieValue = getCookie( name );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn cookieValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn cookieValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! cookieValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! cookieValue || ! cookieValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn 'undefined' !== typeof cookieValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn 'undefined' === typeof cookieValue;\n\t} //end switch\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/day-of-week/types';\n\nexport const type = 'nab/day-of-week';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst DAYS = [\n\t\t'Sunday',\n\t\t'Monday',\n\t\t'Tuesday',\n\t\t'Wednesday',\n\t\t'Thursday',\n\t\t'Friday',\n\t\t'Saturday',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorDay = new Date().getDay();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === DAYS[ visitorDay ] );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== DAYS[ visitorDay ]\n\t\t\t);\n\t} //end switch\n} //end validate()\n","/**\n * External dependencies\n */\nimport UaParser from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/device-type/types';\n\nexport const type = 'nab/device-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst parser = new UaParser();\n\tconst visitorDeviceType = parser.getDevice().type || 'desktop';\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === visitorDeviceType );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every( ( { value } ) => value !== visitorDeviceType );\n\t} //end switch\n} //end validate()\n","/**\n * External dependencies\n */\nimport type { SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as browser from './browser';\nimport * as cookie from './cookie';\nimport * as dayOfWeek from './day-of-week';\nimport * as deviceType from './device-type';\nimport * as ipAddress from './ip-address';\nimport * as language from './language';\nimport * as location from './location';\nimport * as operatingSystem from './operating-system';\nimport * as queryParameter from './query-parameter';\nimport * as referringUrl from './referring-url';\nimport * as time from './time';\nimport * as userLogin from './user-login';\nimport * as windowWidth from './window-width';\n\ntype Validator = {\n\treadonly type: string;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treadonly validate: ( attrs: any ) => boolean;\n};\n\nexport const isValidSegmentationRule = ( {\n\ttype,\n\tattributes,\n}: Omit< SegmentationRule, 'id' > ): boolean => {\n\tconst segmentationRuleValidators: ReadonlyArray< Validator > = [\n\t\tbrowser,\n\t\tcookie,\n\t\tdayOfWeek,\n\t\tdeviceType,\n\t\tipAddress,\n\t\tlanguage,\n\t\tlocation,\n\t\toperatingSystem,\n\t\tqueryParameter,\n\t\treferringUrl,\n\t\ttime,\n\t\tuserLogin,\n\t\twindowWidth,\n\t];\n\n\treturn !! segmentationRuleValidators\n\t\t.find( ( validator ) => validator.type === type )\n\t\t?.validate( attributes );\n};\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/ip-address/types';\n\nexport const type = 'nab/ip-address';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorIp = geoData.ipAddress;\n\tif ( 'string' !== typeof visitorIp ) {\n\t\treturn false;\n\t} //end if\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( ipPattern ) =>\n\t\t\t\tmatches( visitorIp, ipPattern )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( ipPattern ) => ! matches( visitorIp, ipPattern )\n\t\t\t);\n\t} //end switch\n} //end validate()\n\nfunction matches( ip: string, pattern: string ) {\n\tconst re = pattern.replace( '*', '\\\\d?\\\\d?\\\\d' ).replace( '.', '\\\\.' );\n\treturn new RegExp( re ).test( ip );\n} //end matches()\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/language/types';\n\nexport const type = 'nab/language';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, language } = attributes;\n\n\tconst currentLanguage = ( window.navigator.language || '' ).toLowerCase();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn language.some( ( { value } ) =>\n\t\t\t\tcurrentLanguage.startsWith( value )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn language.every(\n\t\t\t\t( { value } ) => ! currentLanguage.startsWith( value )\n\t\t\t);\n\t} //end switch\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/location/types';\n\nexport const type = 'nab/location';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, location } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorLocation = geoData.location;\n\tif ( 'string' !== typeof visitorLocation ) {\n\t\treturn false;\n\t} //end if\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn location.some( ( { value } ) =>\n\t\t\t\tvisitorLocation.startsWith( value )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn location.every(\n\t\t\t\t( { value } ) => ! visitorLocation.startsWith( value )\n\t\t\t);\n\t} //end switch\n} //end validate()\n","/**\n * External dependencies\n */\nimport UaParser from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/operating-system/types';\n\nexport const type = 'nab/operating-system';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorOS = getVisitorOS();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => isSameOS( value, visitorOS ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameOS( value, visitorOS )\n\t\t\t);\n\t} //end switch\n} //end validate()\n\nfunction getVisitorOS() {\n\tconst parser = new UaParser();\n\tconst operatingSystemData = parser.getOS();\n\tlet osName = operatingSystemData.name;\n\n\tif ( 'Windows' === osName && operatingSystemData.version ) {\n\t\tosName += ' ' + operatingSystemData.version;\n\t} //end if\n\n\tif (\n\t\t'Mac OS' === osName &&\n\t\toperatingSystemData.version &&\n\t\toperatingSystemData.version.startsWith( '10' )\n\t) {\n\t\tosName += ' X';\n\t} //end if\n\n\treturn osName;\n} //end getVisitorOS()\n\nfunction isSameOS( operatingSystemName: string, visitorOS?: string ) {\n\tif (\n\t\t'Windows' === operatingSystemName &&\n\t\t'string' === typeof visitorOS &&\n\t\tvisitorOS.startsWith( 'Windows' )\n\t) {\n\t\treturn true;\n\t} //end if\n\n\treturn operatingSystemName === visitorOS;\n} //end isSameOS()\n","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from '../../url';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/query-parameter/types';\n\nexport const type = 'nab/query-parameter';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst queryArgs = getQueryArgs( document.URL );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn queryArgs[ name ] === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn queryArgs[ name ] !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! queryArgs[ name ]?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn (\n\t\t\t\t! queryArgs[ name ] || ! queryArgs[ name ]?.includes( value )\n\t\t\t);\n\n\t\tcase 'exists':\n\t\t\treturn 'undefined' !== typeof queryArgs[ name ];\n\n\t\tcase 'does-not-exist':\n\t\t\treturn 'undefined' === typeof queryArgs[ name ];\n\t} //end switch\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/referring-url/types';\n\nexport const type = 'nab/referring-url';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value } = attributes;\n\n\tconst referrer = document.referrer;\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn referrer === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn referrer !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! referrer?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! referrer || ! referrer.includes( value );\n\t} //end switch\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/time/types';\n\nexport const type = 'nab/time';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst PERIODS = [\n\t\t'00-02',\n\t\t'02-04',\n\t\t'04-06',\n\t\t'06-08',\n\t\t'08-10',\n\t\t'10-12',\n\t\t'12-14',\n\t\t'14-16',\n\t\t'16-18',\n\t\t'18-20',\n\t\t'20-22',\n\t\t'22-24',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorHour = new Date().getHours();\n\tconst visitorPeriod = Math.floor( visitorHour / 2 );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some(\n\t\t\t\t( { value } ) => value === PERIODS[ visitorPeriod ]\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== PERIODS[ visitorPeriod ]\n\t\t\t);\n\t} //end switch\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/user-login/types';\n\nexport const type = 'nab/user-login';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\tconst isUserLoggedIn = !! getCookie( 'nabIsUserLoggedIn' );\n\n\tif ( condition === 'is-logged-in' && isUserLoggedIn ) {\n\t\treturn true;\n\t} //end if\n\n\tif ( condition === 'is-not-logged-in' && isUserLoggedIn === false ) {\n\t\treturn true;\n\t} //end if\n\n\treturn false;\n} //end validate()\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/window-width/types';\n\nexport const type = 'nab/window-width';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value, interval } = attributes;\n\n\tconst currentWidth =\n\t\twindow.innerWidth ||\n\t\tdocument.documentElement.clientWidth ||\n\t\tdocument.body.clientWidth;\n\n\tswitch ( condition ) {\n\t\tcase 'is-greater-than':\n\t\t\treturn undefined !== value && currentWidth > value;\n\n\t\tcase 'is-less-than':\n\t\t\treturn undefined !== value && currentWidth < value;\n\n\t\tcase 'between':\n\t\t\treturn (\n\t\t\t\t'number' === typeof interval?.min &&\n\t\t\t\t'number' === typeof interval?.max &&\n\t\t\t\tinterval.min <= currentWidth &&\n\t\t\t\tcurrentWidth <= interval.max\n\t\t\t);\n\t} //end switch\n} //end validate()\n","/**\n * External dependencies\n */\nimport pick from 'lodash/pick';\nimport type { Uuid } from 'uuid';\nimport type {\n\tExperimentId,\n\tPageViewThrottleSettings,\n\tTrackEvent,\n\tUniqueVisitEvent,\n\tVisitEvent,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, setCookie } from './cookies';\nimport type { GoalIndex, Session } from '../types';\n\ntype ExpsWithViews = Record< ExperimentId, Timestamp >;\ntype Timestamp = number;\n\nconst TEN_DAYS_IN_MILLIS = 14400 * 60000;\n\nexport function isStagingSite(): boolean {\n\treturn !! getCookie( 'nabIsStagingSite' );\n} //end isStagingSite()\n\nexport function updateExperimentsWithPageViews(\n\tevents: ReadonlyArray< VisitEvent >,\n\tsession: Session\n): void {\n\tremoveOldExperimentsFromCookie( session );\n\tif ( ! events.length ) {\n\t\treturn;\n\t} //end if\n\n\tconst now = new Date().getTime();\n\tsetExperimentsWithPageViewsCookie( {\n\t\t...getExperimentsWithPageViews(),\n\t\t...events.reduce( ( result, event ) => {\n\t\t\tresult[ event.experiment ] = now;\n\t\t\treturn result;\n\t\t}, {} as ExpsWithViews ),\n\t} );\n} //end updateExperimentsWithPageViews()\n\nexport function getUniqueViews(): Record< ExperimentId, Uuid > {\n\ttry {\n\t\tconst value = getCookie( 'nabUniqueViews' ) ?? '';\n\t\treturn JSON.parse( value ) as Record< ExperimentId, Uuid >;\n\t} catch ( e ) {\n\t\treturn {};\n\t} //end try\n} //end getUniqueViews()\n\nexport function updateUniqueViews(\n\tvalue: ReadonlyArray< UniqueVisitEvent >\n): void {\n\tconst views = getExperimentsWithPageViews();\n\tconst uniqueViews = {\n\t\t...getUniqueViews(),\n\t\t...value.reduce( ( r, v ) => ( { ...r, [ v.experiment ]: v.id } ), {} ),\n\t};\n\tsetCookie(\n\t\t'nabUniqueViews',\n\t\tJSON.stringify( pick( uniqueViews, Object.keys( views ) ) ),\n\t\t{ expires: 120 }\n\t);\n} //end updateUniqueViews()\n\nexport function canSynchEvent(\n\tevent: TrackEvent,\n\tpvThrottle: PageViewThrottleSettings\n): boolean {\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst timestamp = experimentsWithPageViews[ event.experiment ];\n\tif ( ! timestamp ) {\n\t\treturn 'visit' === event.kind;\n\t} //end if\n\n\tif ( 'visit' === event.kind ) {\n\t\tif ( 'regular' === event.type ) {\n\t\t\treturn true;\n\t\t} //end if\n\t\tconst wait = pvThrottle[ event.type ];\n\t\tconst now = new Date().getTime();\n\t\treturn timestamp + wait * 60000 < now;\n\t} //end if\n\n\treturn (\n\t\t'conversion' !== event.kind ||\n\t\tcanSynchConversion( event.experiment, event.goal )\n\t);\n} //end canSynchEvent()\n\nexport function getExperimentsWithPageViews(): ExpsWithViews {\n\ttry {\n\t\tconst value = getCookie( 'nabExperimentsWithPageViews' ) ?? '';\n\t\treturn JSON.parse( value ) as ExpsWithViews;\n\t} catch ( e ) {\n\t\treturn {};\n\t} //end try\n} //end getExperimentsWithPageViews()\n\n// =======\n// HELPERS\n// =======\n\nlet synchedGoals: ReadonlyArray< string > = [];\nfunction canSynchConversion(\n\texperimentId: ExperimentId,\n\tgoalIndex: GoalIndex\n): boolean {\n\tif ( synchedGoals.includes( `${ experimentId }-${ goalIndex }` ) ) {\n\t\treturn false;\n\t} //end if\n\n\tsynchedGoals = [ ...synchedGoals, `${ experimentId }-${ goalIndex }` ];\n\treturn true;\n} //end canSynchConversion()\n\nfunction setExperimentsWithPageViewsCookie( value: ExpsWithViews ): void {\n\tsetCookie( 'nabExperimentsWithPageViews', JSON.stringify( value ), {\n\t\texpires: 120,\n\t} );\n} //end setExperimentsWithPageViewsCookie()\n\nlet wasCookieCleaned = false;\nfunction removeOldExperimentsFromCookie( session: Session ): void {\n\tif ( wasCookieCleaned ) {\n\t\treturn;\n\t} //end if\n\twasCookieCleaned = true;\n\n\tconst { experiments } = session;\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst experimentIds = Object.keys( experiments ).map( numberify );\n\tconst experimentIdsWithPageViews = Object.keys(\n\t\texperimentsWithPageViews\n\t).map( numberify );\n\n\tconst { global: g, woocommerce: w } = session.throttle;\n\tconst now = new Date().getTime();\n\tconst validationTimestamp = now - ( Math.max( g, w ) + 5 ) * 60000;\n\n\tconst isInvalid = ( id: ExperimentId ): boolean =>\n\t\t! experimentIds.includes( id );\n\tconst wasValidTenDaysAgo = ( id: ExperimentId ): boolean => {\n\t\tconst timestamp = experimentsWithPageViews[ id ];\n\t\treturn (\n\t\t\t!! timestamp && Math.abs( now - timestamp ) <= TEN_DAYS_IN_MILLIS\n\t\t);\n\t};\n\n\tconst newExperimentsWithPageViews = experimentIdsWithPageViews.reduce(\n\t\t( result, id ) => {\n\t\t\tconst timestamp = experimentsWithPageViews[ id ];\n\n\t\t\tif ( isInvalid( id ) || ! timestamp ) {\n\t\t\t\treturn !! timestamp && wasValidTenDaysAgo( id )\n\t\t\t\t\t? { ...result, [ id ]: timestamp }\n\t\t\t\t\t: result;\n\t\t\t} //end if\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ id ]: Math.max( timestamp, validationTimestamp ),\n\t\t\t};\n\t\t},\n\t\t{} as ExpsWithViews\n\t);\n\n\tsetExperimentsWithPageViewsCookie( newExperimentsWithPageViews );\n} //end removeOldExperimentsFromCookie()\n\nconst numberify = ( x: string ) => Number.parseInt( x ) || 0;\n","/**\n * Internal dependencies\n */\nimport type { ParamValue } from '../types';\n\nexport function buildUrl(\n\turl: string,\n\targs: Record< string, ParamValue | undefined > = {},\n\thash?: string\n): string {\n\tconst keys = Object.keys( args );\n\tif ( keys.length ) {\n\t\turl +=\n\t\t\t'?' +\n\t\t\tkeys\n\t\t\t\t.filter( ( k ) => undefined !== args[ k ] )\n\t\t\t\t.map(\n\t\t\t\t\t( key ) =>\n\t\t\t\t\t\t`${ key }=${ encodeURIComponent( args[ key ] ?? '' ) }`\n\t\t\t\t)\n\t\t\t\t.map( ( arg ) =>\n\t\t\t\t\t/=$/.test( arg ) ? arg.slice( 0, -1 ) : arg\n\t\t\t\t)\n\t\t\t\t.reduce( ( search, pair ) => `${ search }&${ pair }` );\n\t} //end if\n\n\tif ( hash ) {\n\t\turl += '#' + hash;\n\t} //end if\n\n\treturn url;\n} //end buildUrl()\n\nexport function removeArgsAndHash( url: string ): string {\n\tconst { cleanUrl } = fragments( url );\n\treturn cleanUrl;\n} //end removeArgsAndHash()\n\nexport function getHash( url: string ): string {\n\tconst { hash } = fragments( url );\n\treturn hash;\n} //end getHash()\n\nexport function addQueryArgs(\n\turl: string,\n\targs?: Record< string, ParamValue | undefined >\n): string {\n\targs = args ?? {};\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst newArgs = {\n\t\t...getQueryArgs( url ),\n\t\t...args,\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n} //end addQueryArgs()\n\nexport function removeQueryArgs(\n\turl: string,\n\t...names: ReadonlyArray< string >\n): string {\n\turl = url || '';\n\n\tif ( 0 === names.length ) {\n\t\treturn url;\n\t} //end if\n\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst args = getQueryArgs( url );\n\tfor ( const key of names ) {\n\t\tdelete args[ key ];\n\t} //end for\n\n\treturn buildUrl( cleanUrl, args, hash );\n} //end removeQueryArgs()\n\nexport function getQueryArgs( url: string ): Record< string, string > {\n\tconst { search } = fragments( url );\n\tif ( ! search ) {\n\t\treturn {};\n\t} //end if\n\tconst args = search.split( '&' );\n\treturn args.reduce( ( res, arg ) => {\n\t\tconst [ key, value = '' ] = arg.split( '=' );\n\t\tif ( key ) {\n\t\t\tres[ key ] = decodeURIComponent( value );\n\t\t} //end if\n\t\treturn res;\n\t}, {} as Record< string, string > );\n} //end getQueryArgs()\n\n// =======\n// HELPERS\n// =======\n\nfunction fragments( url: string ) {\n\tconst baseUrl =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( 0, url.indexOf( '#' ) ) : url;\n\tconst hash =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( url.indexOf( '#' ) + 1 ) : '';\n\n\tconst cleanUrl =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( 0, baseUrl.indexOf( '?' ) )\n\t\t\t: baseUrl;\n\n\tconst search =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( baseUrl.indexOf( '?' ) + 1 )\n\t\t\t: '';\n\n\treturn {\n\t\tcleanUrl,\n\t\tsearch,\n\t\thash,\n\t};\n} //end fragments()\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","module.exports = require('./head');\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffset\n * @param {boolean} skipStyles\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffset, skipStyles) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffset ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height'];\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  if (!skipStyles) {\n    canvas.style.width = w + 'px';\n    canvas.style.height = h + 'px';\n  }\n\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >> shgSum;\n      pixels[yi + 1] = gSum * mulSum >> shgSum;\n      pixels[yi + 2] = bSum * mulSum >> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.35\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.35',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        VIERA   = 'Viera',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /ios;fbsv\\/([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport type { HeatmapFrameAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from '../../../public/utils/helpers';\n\ntype MaybeHeatmapFrameAction = {\n\treadonly plugin?: string;\n};\n\n/**\n * Internal dependencies\n */\nimport { reactToParentMessages as heatmapReact } from './heatmap';\nimport { reactToParentMessages as scrollmapReact } from './scrollmap';\nimport { reactToParentMessages as confettiReact } from './confetti';\n\nimport { loadAssets } from './internal/page';\nimport { loadResults } from './internal/store';\nimport { getWordPressData } from './internal/utils';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\n// Data Status Diagram:\n//\n//  a) waiting-script  script-loaded  loading  still-loading  ready\n//      error (rationale)\n//\n//  b) ready  processing  ready\n\nfunction init() {\n\tconst wpdata = getWordPressData();\n\tif ( ! wpdata ) {\n\t\tconsole.error( 'Parent window doesnt have expected API. Bye!' ); // eslint-disable-line\n\t\treturn;\n\t} //end if\n\n\tconst { dispatch } = wpdata;\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'script-loaded' } );\n\n\tconst { select } = wpdata;\n\tconst { getExperiment, getPageAttribute } = select( NAB_DATA );\n\n\tconst experimentId = getPageAttribute( 'editor/activeExperiment' ) ?? 0;\n\tconst alternativeIndex =\n\t\tgetPageAttribute( 'heatmap/activeAlternative' ) || 0;\n\tconst experiment = getExperiment( experimentId );\n\tif ( ! experiment ) {\n\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\tmode: 'error',\n\t\t\trationale: 'experiment-not-found',\n\t\t} );\n\t\treturn;\n\t} //end if\n\n\tconst options = {\n\t\tapiUrl: select( NAB_DATA ).getPluginSetting( 'apiUrl' ),\n\t\tawsAuthToken: getPageAttribute( 'heatmap/awsAuthToken' ) ?? '',\n\t\tdispatch,\n\t\tselect,\n\t\tsiteId: getPageAttribute( 'heatmap/siteId' ) ?? '',\n\t\ttimezone: getPageAttribute( 'heatmap/timezone' ) ?? '',\n\t};\n\n\tlet width = document.body.clientWidth;\n\twindow.addEventListener(\n\t\t'resize',\n\t\tdebounce( () => {\n\t\t\tconst status = getPageAttribute( 'heatmap/dataStatus' );\n\t\t\tif (\n\t\t\t\t'still-loading' !== status?.mode &&\n\t\t\t\t'ready' !== status?.mode\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\n\t\t\tconst resolution = getPageAttribute( 'heatmap/activeResolution' );\n\t\t\tif ( ! resolution || 'desktop' !== resolution ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\n\t\t\tconst mode = getPageAttribute( 'heatmap/activeMode' );\n\t\t\tif ( ! mode || 'scrollmap' === mode ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\n\t\t\tconst newWidth = document.body.clientWidth;\n\t\t\tif ( width === newWidth ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\t\t\twidth = newWidth;\n\n\t\t\tsetPageAttribute( 'heatmap/postMessageProxy', {\n\t\t\t\tplugin: 'nelio-ab-testing',\n\t\t\t\ttype: 'recompute-click-coordinates',\n\t\t\t\tmode,\n\t\t\t} );\n\t\t}, 100 )\n\t);\n\n\twindow.addEventListener( 'message', reactToParentMessages, false );\n\tvoid loadAssets();\n\tvoid loadResults( experiment, alternativeIndex, options );\n} //end init()\n\nfunction reactToParentMessages( message: { data: MaybeHeatmapFrameAction } ) {\n\tconst action = message.data;\n\tif ( ! isHeatmapFrameAction( action ) ) {\n\t\treturn;\n\t} //end if\n\theatmapReact( action );\n\tscrollmapReact( action );\n\tconfettiReact( action );\n} //end reactToParentMessages()\n\nconst isHeatmapFrameAction = (\n\taction: MaybeHeatmapFrameAction\n): action is HeatmapFrameAction => action.plugin === 'nelio-ab-testing';\n\n// =======\n// KICKOFF\n// =======\n\ndomReady( init );\n"],"names":["Framebuffer","Heights","Node","Shader","Texture","WebGLHeatmap","fragmentShaderBlit","nukeVendorPrefix","textureFloatShims","vertexShaderBlit","__indexOf","indexOf","item","i","l","length","getExtension","getSupportedExtensions","vendorRe","vendors","window","WebGLRenderingContext","prototype","name","extobj","match","vendor","_i","_len","call","extension","result","supported","push","checkColorBuffer","checkFloatLinear","checkSupport","checkTexture","createSourceCanvas","shimExtensions","shimLookup","unshimExtensions","unshimLookup","canvas","ctx","imageData","document","createElement","width","height","getContext","getImageData","data","set","Uint8ClampedArray","putImageData","gl","sourceType","buffer","cleanup","fragmentShader","framebuffer","positionLoc","program","readBuffer","source","sourceCanvas","sourceLoc","target","vertexShader","vertices","createProgram","createShader","VERTEX_SHADER","attachShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","deleteShader","deleteProgram","deleteBuffer","deleteTexture","deleteFramebuffer","bindBuffer","ARRAY_BUFFER","bindTexture","TEXTURE_2D","bindFramebuffer","FRAMEBUFFER","createTexture","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","Float32Array","createBuffer","bufferData","STATIC_DRAW","getAttribLocation","getUniformLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawArrays","TRIANGLES","Uint8Array","readPixels","Math","abs","targetType","getError","check","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","halfFloatExt","halfFloatTexturing","singleFloatExt","singleFloatTexturing","_error","OES_texture_float","shim","WEBGL_color_buffer_float","RGBA32F_EXT","RGB32F_EXT","FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT","UNSIGNED_NORMALIZED_EXT","OES_texture_float_linear","OES_texture_half_float","HALF_FLOAT_OES","EXT_color_buffer_half_float","RGBA16F_EXT","RGB16F_EXT","OES_texture_half_float_linear","_j","_k","_len1","_len2","getFloatExtension","spec","candidate","candidates","half","halfFramebuffer","halfLinear","halfTexture","importance","preference","single","singleFramebuffer","singleLinear","singleTexture","use","_l","_len3","_len4","_m","_ref","_ref1","_ref2","prefer","require","throws","texture","filterable","renderable","score","precision","type","pow","sort","a","b","join","_arg","fragment","vertex","vs","fs","link","value_cache","uniform_cache","attribCache","attribLocation","location","shader","uniformLoc","int","value","cached","loc","vec2","uniform2f","float","uniform1f","destroy","deleteFRamebuffer","bind","unbind","FRAMEBUFFER_UNSUPPORTED","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","color","handle","depth","framebufferRenderbuffer","DEPTH_ATTACHMENT","RENDERBUFFER","id","params","channels","toUpperCase","chancount","RGB","LUMINANCE_ALPHA","unit","activeTexture","TEXTURE0","setSize","upload","linear","nearest","NEAREST","clampToEdge","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","repeat","REPEAT","floatExt","fbo","end","resize","heatmap","clampShader","multiplyShader","blurShader","nodeBack","nodeFront","vertexBuffer","vertexSize","maxPointCount","vertexBufferData","vertexBufferViews","bufferIndex","pointCount","update","intensityLoc","enable","BLEND","STREAM_DRAW","disableVertexAttribArray","disable","clear","clearColor","COLOR_BUFFER_BIT","clamp","min","max","quad","swap","multiply","blur","tmp","addVertex","x","y","xs","ys","intensity","addPoint","size","s","alphaEnd","alphaRange","alphaStart","error","getColorFun","gradientTexture","image","intensityToAlpha","output","textureGradient","antialias","WebGLDebugUtils","console","log","makeDebugContext","err","funcName","args","glEnumToString","blendFunc","ONE","Image","onload","src","toFixed","offsetWidth","offsetHeight","viewport","heights","adjustSize","canvasHeight","canvasWidth","display","addPoints","items","_results","createWebGLHeatmap","debounce","keyBy","orderBy","getClicks","recomputeClickCoordinates","getConfettiColor","getDefaultColor","areResults","createOverlayElement","getWordPressData","maximizeElement","NAB_DATA","STATS_REFRESH_DELAY","confetti","actualFilterOptions","visibleClicks","reactToParentMessages","action","mode","removeConfettiFromBody","renderResults","setOverlayOpacity","wpdata","initConfetti","initFilterOptions","dispatch","setPageAttribute","get","select","getPageAttribute","activeFilter","_a","disabledFilterOptions","_b","opacity","_c","updateVisibleClicks","appendConfettiInBody","renderConfetti","overlay","undefined","style","concat","body","parentNode","removeChild","stats","_d","statsTracker","appendChild","background","borderBottom","transition","scrollStatsContainer","fontSize","left","borderRadius","fontWeight","fontFamily","pointerEvents","position","transform","whiteSpace","statsPopularity","className","padding","statsPopularityLabel","createTextNode","w","parent","nabI18n","clicksAbove","statsPopularityValue","lineHeight","margin","addEventListener","event","top","pageY","clicksEl","getElementById","clicks","filter","click","realCoordinates","desktop","Number","POSITIVE_INFINITY","textContent","getFilterOptions","shouldClickBeRendered","filterValue","Object","keys","includes","resultsSummary","country","device","os","browser","dayOfWeek","hourOfDay","timeToClick","windowWidth","forEach","reduce","memo","key","__assign","processFilter","filterOptions","getFilterOptionsForDiscreteFilter","sortOsOptions","sortBrowserOptions","getFilterOptionsForContinuousFilter","orderedOptions","map","relevantOptions","splice","total","defaultColor","label","getLabelOfDiscreteFilterOption","filterOptionKey","other","slice","filterCategories","sunday","monday","tuesday","wednesday","thursday","friday","saturday","categoriesOfFilter","index","category","options","windows","Windows","aux","values","option","__rest","sorting","sortedOptions","opt","c","clearRect","lineWidth","strokeStyle","renderClick","isVisibleInResolution","fillStyle","beginPath","arc","PI","closePath","fill","stroke","el","props","k","p","domReady","getClicksInResolution","stopResultLoading","getDocumentHeight","GL_CANVAS_SCALE","HEATMAP_POINT_SIZE","MAX_SIZE_MULTIPLIER","MIN_INTENSITY","MAX_INTENSITY","INTENSITY_RANGE","initWebGLHeatmap","clicksPerSquare","appendHeatmapInBody","removeHeatmapFromBody","refreshHeatmap","updateIntensity","resetHeatmap","renderHeatmap","instance","maximizeHeatmap","clientWidth","mixBlendMode","transformOrigin","activeResolution","heatmapIntensity","computeClicksPerSquareInResolution","cps","maxClicksInSquare","resolution","coords","clicksInSquare","getClicksInSquare","normalizedSquareIntensity","clickIntensity","scale","mapScale","inputStart","inputEnd","outputStart","outputEnd","slope","columns","col","floor","row","NUM_OF_COLS","ceil","NUM_OF_ROWS","Array","rows","DEFAULT_PALETTE","num","isNaN","parseInt","getCountryColor","getDeviceColor","getOsColor","getBrowserColor","getDayOfWeekColor","getHourOfDayColor","getGenericColor","palette","AR","AU","BR","CA","CN","FI","FR","DE","GR","IS","IN","IT","JP","NL","NZ","NO","PT","RU","ES","GB","US","mobile","tablet","smarttv","wearable","embedded","others","Android","Debian","Fuchsia","Linux","Mint","SUSE","Ubuntu","iOS","colors","Chrome","Chromium","Edge","Firefox","Mozilla","Opera","Safari","Vivaldi","SCROLL_STEP_IN_PX","_isPageReady","isPageReady","prq","onPageReady","cb","_once","loadAssets","doLoadPage","fetchLazyLoadImages","scanPage","sent","wait","markPageAsLoaded","images","from","querySelectorAll","reverse","img","getAttribute","setAttribute","scrollTo","ms","Promise","resolve","setTimeout","f","first","last","mapValues","addQueryArgs","getElementByXPath","getHours","getMinMaxWidthInResolution","NO_BB","PAGES_TO_REFRESH","MIN_HOURS_TO_ESTIMATE_PROGRESS","totalHoursRunning","results","boundingBoxes","smartphone","shouldResultLoadingBeStopped","didLoadResultsRun","loadResults","experiment","alternative","loadResultsInBackground","rationale","minWidth","maxWidth","rc","windowWidthInPx","getScrolls","scrolls","start","Date","getTime","mutateClickCoordinates","ellapsedMillis","atLeastOneSec","plugin","baseUrl","apiUrl","siteId","startDate","status","endDate","tz","timezone","clicksUrl","scrollsUrl","now","toISOString","all","loadFirstResults","updateStats","page","loadPaginatedResults","url","fetch","method","credentials","headers","Authorization","awsAuthToken","response","json","rawData","beautifyClicks","what","loadPage","invocation","then","__spreadArray","newUrl","UNKNOWN","unknown","getDayOfWeekCategory","getHourOfDayCategory","getTimeToClickCategory","getWindowWidthCategory","updateClickCount","updateProgressEstimate","firstClick","lastClick","timestamp","clickHours","actualProgress","progress","prevProgress","boxes","computeBoundingBoxes","xpath","cssPath","realX","realY","_selector","selector","existingBoundingBox","getAllSelectors","r","querySelector","e","isHTMLElement","bodyBox","getBoundingClientRect","elBox","getExperiment","experimentId","altIdx","control","alternatives","controlPost","attributes","postId","alternativePost","isPostId","replace","RegExp","cuts","cut","lastCut","n","ELEMENT_NODE","nodeType","_getDocumentHeight","MAX_DESKTOP_HEIGHT","HOUR_IN_MILLIS","RESOLUTIONS","d1","d2","pairs","parentElement","pair","wp","modes","some","m","zIndex","isHTMLCanvas","expectedWidth","nodeName","toLowerCase","StackBlur","getBodyHeight","scrollmap","ROW_HEIGHT","COLORS","removeScrollmapFromBody","initScrollmap","appendScrollmapInBody","renderScrollmap","averageFold","textAlign","averageFoldContainer","scrollmapSpan","scrollmapSpanIcon","verticalAlign","marginRight","scrollmapLabel","scrollmapValue","popularity","popularityEl","maxHits","rowIndex","round","toLocaleString","generateScrollmapImage","drawImage","renderAverageFold","avgFoldEl","processScrollDataForCurrentResolution","narrowCanvas","narrowCtx","colorIndexes","hits","smoothColorIndexTransition","colorIndex","rowNumber","fillRect","canvasRGB","bodyHeight","iframeHeight","numOfRows","heightFromTop","scrollsInResolution","getScrollsInResolution","firstFold","maxScroll","sweetSpot","documentHeight","maxScrollRow","lastScrollRow","sweetSpotMinRow","sweetSpotMaxRow","lastSweetSpotRow","smooth","weighted","average","originalMin","originalMax","originalSize","numOfItems","firstValue","lastValue","smoothed","curr","prev","next","improved","isDefined","smoothedMin","smoothedMax","smoothedSize","normalized","v","sum","res","val","avg","NEGATIVE_INFINITY","XPathResult","evaluate","FIRST_ORDERED_NODE_TYPE","singleNodeValue","xPath","node","optimized","DOCUMENT_NODE","steps","contextNode","step","_xPathValue","path","ownIndex","_xPathIndex","ownValue","localName","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","areNodesSimilar","right","leftType","rightType","siblings","children","hasSameNamedElements","sibling","COOKIE_NAMES","setCookie","opts","expires","cookie","encodeURIComponent","expiration","toUTCString","getCookie","cookies","split","trim","decodeURIComponent","removeCookie","cleanNabCookies","callback","readyState","getActiveExperiments","session","experiments","isActiveExperiment","active","getApiUrl","api","getClosest","currentNode","html","documentElement","scrollHeight","clientHeight","md5","doesVisitorParticipate","getSettings","updateSegmentationSettings","removeQueryArgs","getExperimentsWithPageViews","getUniqueViews","doGetUniqueViews","getSession","__awaiter","settings","updateAlternativeCookie","updateStagingCookie","currentUrl","href","untestedUrl","updateECommerceSession","maxCombinations","nabAlt","random","newAlternative","shouldAlternativeBeOverwritten","isStagingSite","ajaxUrl","oldChecksum","checksum","getSessionChecksum","forceECommerceSessionSync","FormData","append","JSON","stringify","getViewedAlternatives","exp","uniqueViews","viewUuid","epv","expIds","tenMinutesTimestamp","substring","assignedAlternative","search","test","expectedAlternative","isHeadReady","pending","headReady","markHeadAsReady","fn","checkHead","isIE","areCookiesEnabled","gdprCookie","isGdprAccepted","isVisitorExcludedFromTesting","participationChance","doesVisitorParticipateAccordingToTheCookie","ua","navigator","userAgent","matches","pattern","_","isVisitorParticipationCookieValid","shouldVisitorParticipationCookieBeUpdated","generateVisitorParticipationCookie","participation","shouldVisitorParticipate","win","hasSettings","nabSettings","heatmapTracking","hideQueryArgs","ignoreTrailingSlash","isTestedPostRequest","numOfAlternatives","optimizeXPath","postUrls","preloadQueryArgUrls","referrerParam","site","useSendBeacon","throttle","global","fixThrottleWait","woocommerce","preloadQueryArgs","config","doPreloadQueryArgs","fixSelfHashUrls","alt","protocol","hostname","anchors","preloadQueryArg","current","URL","hash","searchParams","delete","scopes","getMatchingScopes","altCount","apply","nab","getAlternativeUrl","scope","altUrls","isPartialUrl","getPart","find","startsWith","endsWith","partialUrl","isValidSegmentationRule","exps","isGeoDataNeeded","isGeoDataOutdated","isGeoDataNeededNow","updateGeoData","updateActiveSegments","isVisitorInASegmentOfEveryTest","activeSegments","getAllActiveSegments","every","isEmptyArray","getSegmentationGeoData","segmentationSettings","getSegmentationSettings","geo","getActiveSegments","cleanOldSegments","viewedExperimentIds","newActiveSegments","setSegmentationSettings","parse","geoData","lastUpdate","lastUpdateDate","diffTime","diffDays","segments","segmentationRules","text","jsonData","hasGeoData","ipAddress","ip","previousActiveSegments","eid","hasOwnProperty","calculateActiveSegments","segmentIndex","arr","isArray","UaParser","validate","condition","visitorBrowser","getVisitorBrowser","isSameBrowser","parser","browserData","getBrowser","browserName","visitorBrowserName","cookieValue","DAYS","visitorDay","getDay","visitorDeviceType","getDevice","deviceType","language","operatingSystem","queryParameter","referringUrl","time","userLogin","segmentationRuleValidators","validator","visitorIp","ipPattern","re","currentLanguage","visitorLocation","visitorOS","getVisitorOS","isSameOS","operatingSystemData","getOS","osName","version","operatingSystemName","getQueryArgs","queryArgs","referrer","PERIODS","visitorHour","visitorPeriod","isUserLoggedIn","interval","currentWidth","innerWidth","pick","TEN_DAYS_IN_MILLIS","updateExperimentsWithPageViews","events","removeOldExperimentsFromCookie","setExperimentsWithPageViewsCookie","updateUniqueViews","views","canSynchEvent","pvThrottle","experimentsWithPageViews","kind","canSynchConversion","goal","synchedGoals","goalIndex","wasCookieCleaned","experimentIds","numberify","experimentIdsWithPageViews","g","validationTimestamp","isInvalid","wasValidTenDaysAgo","newExperimentsWithPageViews","buildUrl","arg","removeArgsAndHash","cleanUrl","fragments","getHash","newArgs","names","arguments","names_1","substr","heatmapReact","scrollmapReact","confettiReact","init","_e","alternativeIndex","getPluginSetting","newWidth","message","isHeatmapFrameAction"],"sourceRoot":""}