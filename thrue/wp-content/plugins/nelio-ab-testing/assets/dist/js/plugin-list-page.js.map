{"version":3,"file":"js/plugin-list-page.js","mappings":"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","sources":["webpack://nab/./assets/src/admin/pages/plugin-list/components/deactivation-action/index.tsx","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./assets/src/admin/pages/plugin-list/components/deactivation-action/style.scss?5858","webpack://nab/./assets/src/admin/pages/plugin-list/style.scss?e6bc","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/pages/plugin-list/index.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button, Dashicon, Modal } from '@safe-wordpress/components';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { RadioControl } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type DeactivationActionProps = {\n\treadonly isSubscribed: boolean;\n\treadonly cleanNonce: string;\n\treadonly deactivationUrl: string;\n};\n\ntype State = {\n\treadonly isModalOpen: boolean;\n\treadonly isDeactivating: boolean;\n\treadonly reason: {\n\t\treadonly value:\n\t\t\t| 'temporary-deactivation'\n\t\t\t| 'clean-stuff'\n\t\t\t| 'plugin-no-longer-needed'\n\t\t\t| 'plugin-doesnt-work'\n\t\t\t| 'better-plugin-found'\n\t\t\t| 'other';\n\t\treadonly details: string;\n\t};\n};\n\nexport const DeactivationAction = (\n\tprops: DeactivationActionProps\n): JSX.Element => {\n\tconst { isSubscribed } = props;\n\tconst {\n\t\t// Modal state.\n\t\tisModalOpen,\n\t\topenModal,\n\t\tcloseModal,\n\t\tmainActionLabel,\n\t\t// Deactivation state.\n\t\tisDeactivating,\n\t\tdeactivate,\n\t\tcleanAndDeactivate,\n\t\t// Reason.\n\t\treason,\n\t\tsetReason,\n\t} = useModalState( props );\n\n\treturn (\n\t\t<div className=\"nelio-ab-testing-deactivation\">\n\t\t\t<Button\n\t\t\t\tclassName=\"nelio-ab-testing-deactivation__button\"\n\t\t\t\tvariant=\"link\"\n\t\t\t\tonClick={ openModal }\n\t\t\t>\n\t\t\t\t{ _x( 'Deactivate', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t'Nelio A/B Testing Deactivation',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tisDismissible={ ! isDeactivating }\n\t\t\t\t\tshouldCloseOnEsc={ ! isDeactivating }\n\t\t\t\t\tshouldCloseOnClickOutside={ ! isDeactivating }\n\t\t\t\t\tonRequestClose={ closeModal }\n\t\t\t\t>\n\t\t\t\t\t{ 'temporary-deactivation' === reason.value ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tselected={ reason.value }\n\t\t\t\t\t\t\t\toptions={ DEACTIVATION_MODES }\n\t\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\t\tvalue: State[ 'reason' ][ 'value' ]\n\t\t\t\t\t\t\t\t) => setReason( { value, details: '' } ) }\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'If you have a moment, please share why you are deactivating Nelio A/B Testing:',\n\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tclassName=\"nelio-ab-testing-deactivation__options\"\n\t\t\t\t\t\t\t\tselected={ reason.value }\n\t\t\t\t\t\t\t\toptions={ DEACTIVATION_REASONS }\n\t\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\t\tvalue: State[ 'reason' ][ 'value' ]\n\t\t\t\t\t\t\t\t) => setReason( { value, details: '' } ) }\n\t\t\t\t\t\t\t\textraValue={ reason.details }\n\t\t\t\t\t\t\t\tonExtraChange={ ( details ) =>\n\t\t\t\t\t\t\t\t\tsetReason( { ...reason, details } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isSubscribed &&\n\t\t\t\t\t\t'temporary-deactivation' !== reason.value && (\n\t\t\t\t\t\t\t<p className=\"nelio-ab-testing-deactivation__subscription-warning\">\n\t\t\t\t\t\t\t\t<Dashicon icon=\"warning\" />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Please keep in mind your subscription to Nelio A/B Testing will remain active after removing the plugin from this site. If you want to unsubscribe from our service, you can do so from the plugin’s Account page before you deactivate the plugin.',\n\t\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t<div className=\"nelio-ab-testing-deactivation__actions\">\n\t\t\t\t\t\t{ 'temporary-deactivation' === reason.value ||\n\t\t\t\t\t\tisDeactivating ? (\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t\tonClick={ () => cleanAndDeactivate() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Just Delete Data',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisDeactivating || 'clean-stuff' === reason.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t'temporary-deactivation' === reason.value\n\t\t\t\t\t\t\t\t\t? deactivate()\n\t\t\t\t\t\t\t\t\t: cleanAndDeactivate(\n\t\t\t\t\t\t\t\t\t\t\t! reason.details\n\t\t\t\t\t\t\t\t\t\t\t\t? reason.value\n\t\t\t\t\t\t\t\t\t\t\t\t: `${ reason.value }: ${ reason.details }`\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ mainActionLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useModalState = ( {\n\tcleanNonce,\n\tdeactivationUrl,\n}: DeactivationActionProps ) => {\n\tconst [ state, setState ] = useState( INIT_STATE );\n\n\tconst redirect = () => {\n\t\twindow.location.href = deactivationUrl; // phpcs:ignore\n\t};\n\n\tconst openModal = () =>\n\t\tsetState( {\n\t\t\t...INIT_STATE,\n\t\t\tisModalOpen: true,\n\t\t} );\n\n\tconst closeModal = () =>\n\t\tsetState( {\n\t\t\t...INIT_STATE,\n\t\t\tisModalOpen: false,\n\t\t} );\n\n\tconst deactivate = () => {\n\t\tsetState( {\n\t\t\t...state,\n\t\t\treason: INIT_STATE.reason,\n\t\t\tisDeactivating: true,\n\t\t} );\n\t\tredirect();\n\t};\n\n\tconst cleanAndDeactivate = ( reason?: string ): void => {\n\t\tsetState( { ...state, isDeactivating: true } );\n\t\tvoid apiFetch( {\n\t\t\tpath: '/nab/v1/plugin/clean',\n\t\t\tmethod: 'POST',\n\t\t\tdata: { reason, nabnonce: cleanNonce },\n\t\t} ).then(\n\t\t\tredirect, // on success\n\t\t\tcloseModal // on error\n\t\t);\n\t};\n\n\tconst setReason = ( reason: State[ 'reason' ] ) =>\n\t\tsetState( { ...state, reason } );\n\n\tconst mainActionLabel =\n\t\t'temporary-deactivation' === state.reason.value\n\t\t\t? getDeactivationLabel( state.isDeactivating )\n\t\t\t: getCleanAndDeactivateLabel( state.isDeactivating );\n\n\treturn {\n\t\tisModalOpen: state.isModalOpen,\n\t\topenModal,\n\t\tcloseModal,\n\n\t\tisDeactivating: state.isDeactivating,\n\t\tmainActionLabel,\n\t\tdeactivate,\n\t\tcleanAndDeactivate,\n\n\t\treason: state.reason,\n\t\tsetReason,\n\t};\n};\n\nconst getDeactivationLabel = ( isDeactivating: boolean ) =>\n\tisDeactivating\n\t\t? _x( 'Deactivating…', 'text', 'nelio-ab-testing' )\n\t\t: _x( 'Deactivate', 'command', 'nelio-ab-testing' );\n\nconst getCleanAndDeactivateLabel = ( isDeleting: boolean ) =>\n\tisDeleting\n\t\t? _x( 'Deleting Data…', 'text', 'nelio-ab-testing' )\n\t\t: _x( 'Submit and Delete Data', 'command', 'nelio-ab-testing' );\n\n// ====\n// DATA\n// ====\n\nconst INIT_STATE: State = {\n\tisModalOpen: false,\n\tisDeactivating: false,\n\treason: {\n\t\tvalue: 'temporary-deactivation',\n\t\tdetails: '',\n\t},\n};\n\nconst DEACTIVATION_MODES: ReadonlyArray< {\n\treadonly value: State[ 'reason' ][ 'value' ];\n\treadonly label: string;\n} > = [\n\t{\n\t\tvalue: 'temporary-deactivation',\n\t\tlabel: _x(\n\t\t\t'It’s a temporary deactivation',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\t{\n\t\tvalue: 'clean-stuff',\n\t\tlabel: _x(\n\t\t\t'Delete Nelio A/B Testing’s data and deactivate plugin',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n];\n\nconst DEACTIVATION_REASONS: ReadonlyArray< {\n\treadonly value: State[ 'reason' ][ 'value' ];\n\treadonly label: string;\n\treadonly extra?: string;\n} > = [\n\t{\n\t\tvalue: 'plugin-no-longer-needed',\n\t\tlabel: _x( 'I no longer need the plugin', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'plugin-doesnt-work',\n\t\tlabel: _x(\n\t\t\t'I couldn’t get the plugin to work',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\textra: _x( 'What went wrong?', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'better-plugin-found',\n\t\tlabel: _x( 'I found a better plugin', 'text', 'nelio-ab-testing' ),\n\t\textra: _x( 'What’s the plugin’s name?', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'other',\n\t\tlabel: _x( 'Other', 'text', 'nelio-ab-testing' ),\n\t\textra: _x( 'Please share the reason…', 'user', 'nelio-ab-testing' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t} //end if\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t} //end if\n} //end render()\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport '@safe-wordpress/dom-ready';\nimport { render } from '@safe-wordpress/element';\nimport { Popover, SlotFillProvider } from '@safe-wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport { DeactivationAction } from './components/deactivation-action';\nimport type { DeactivationActionProps } from './components/deactivation-action';\n\ntype Settings = DeactivationActionProps;\n\nexport function initPage( settings: Settings ): void {\n\tconst { isSubscribed, cleanNonce, deactivationUrl } = settings;\n\n\tconst wrapper = document.querySelector(\n\t\t'.nelio-ab-testing-deactivate-link'\n\t);\n\tif ( ! wrapper ) {\n\t\treturn;\n\t} //end if\n\n\trender(\n\t\t<SlotFillProvider>\n\t\t\t<DeactivationAction\n\t\t\t\tisSubscribed={ isSubscribed }\n\t\t\t\tdeactivationUrl={ deactivationUrl }\n\t\t\t\tcleanNonce={ cleanNonce }\n\t\t\t/>\n\t\t\t<Popover.Slot />\n\t\t</SlotFillProvider>,\n\t\twrapper\n\t);\n} //end initPage()\n"],"names":["React","apiFetch","Button","Dashicon","Modal","useState","_x","RadioControl","DeactivationAction","props","isSubscribed","_a","useModalState","isModalOpen","openModal","closeModal","mainActionLabel","isDeactivating","deactivate","cleanAndDeactivate","reason","setReason","createElement","className","variant","onClick","title","isDismissible","shouldCloseOnEsc","shouldCloseOnClickOutside","onRequestClose","value","Fragment","selected","options","DEACTIVATION_MODES","onChange","details","disabled","DEACTIVATION_REASONS","extraValue","onExtraChange","__assign","icon","concat","cleanNonce","deactivationUrl","_b","INIT_STATE","state","setState","redirect","window","location","href","path","method","data","nabnonce","then","getDeactivationLabel","getCleanAndDeactivateLabel","isDeleting","label","extra","baseApiFetch","format","addQueryArgs","url","nabts","substring","isRestApiRequest","includes","Object","keys","domReady","createRoot","render","legacyRender","element","container","root","Popover","SlotFillProvider","initPage","settings","wrapper","document","querySelector","Slot"],"sourceRoot":""}